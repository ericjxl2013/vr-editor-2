{"version":3,"sources":["webpack://VR/webpack/bootstrap","webpack://VR/./src/veryengine/enum/index.ts","webpack://VR/./src/veryengine/utility/index.ts","webpack://VR/./src/veryengine/variables/index.ts","webpack://VR/./src/veryengine/action/index.ts","webpack://VR/./src/veryengine/babylon/index.ts","webpack://VR/./src/veryengine/global/index.ts","webpack://VR/./src/veryengine/manager/index.ts","webpack://VR/./src/veryengine/state/index.ts","webpack://VR/./src/veryengine/trigger/index.ts","webpack://VR/./src/veryengine/dataSource/index.ts","webpack://VR/./src/veryengine/scene/index.ts","webpack://VR/./src/veryengine/template/index.ts","webpack://VR/./src/veryengine/expression/index.ts","webpack://VR/./src/veryengine/expression/expressionEnum.ts","webpack://VR/./src/veryengine/html/index.ts","webpack://VR/./src/veryengine/object/index.ts","webpack://VR/./src/veryengine/state/stateConst.ts","webpack://VR/./src/veryengine/variables/veryExpression.ts","webpack://VR/./src/veryengine/expression/expressions.ts","webpack://VR/./src/veryengine/expression/positions.ts","webpack://VR/./src/veryengine/expression/forwardQuery.ts","webpack://VR/./src/veryengine/expression/scope.ts","webpack://VR/./src/veryengine/expression/expressionParsing.ts","webpack://VR/./src/veryengine/babylon/engine.ts","webpack://VR/./src/veryengine/action/assignmentTypeJudge.ts","webpack://VR/./src/verytable/index.ts","webpack://VR/./src/verytable/veryTableRow.ts","webpack://VR/./src/veryengine/loader/loaderManager.ts","webpack://VR/./src/veryengine/dataSource/fsmData.ts","webpack://VR/./src/veryengine/utility/dictionary.ts","webpack://VR/./src/veryengine/utility/errorInfo.ts","webpack://VR/./src/veryengine/expression/functions.ts","webpack://VR/./src/veryengine/expression/expChar.ts","webpack://VR/./src/veryengine/expression/token.ts","webpack://VR/./src/veryengine/expression/tokenizer.ts","webpack://VR/./src/veryengine/expression/tokenReader.ts","webpack://VR/./src/veryengine/expression/variable.ts","webpack://VR/./src/veryengine/expression/variableExpression.ts","webpack://VR/./src/veryengine/expression/functionExpression.ts","webpack://VR/./src/veryengine/expression/veryExpressions.ts","webpack://VR/./src/veryengine/manager/projects.ts","webpack://VR/./src/veryengine/manager/manager.ts","webpack://VR/./src/veryengine/babylon/babylonVariables.ts","webpack://VR/./src/veryengine/state/stateAction.ts","webpack://VR/./src/veryengine/state/sequenceActions.ts","webpack://VR/./src/veryengine/variables/veryVarManager.ts","webpack://VR/./src/veryengine/utility/typeConvert.ts","webpack://VR/./src/veryengine/loader/createInstance.ts","webpack://VR/./src/veryengine/index.ts","webpack://VR/./src/veryengine/library/trigger/index.ts","webpack://VR/./src/veryengine/veryEngine.ts","webpack://VR/./src/verytable/veryTable.ts","webpack://VR/./src/verytable/veryTableSet.ts","webpack://VR/./src/veryengine/template/template.ts","webpack://VR/./src/veryengine/dataSource/variableData.ts","webpack://VR/./src/veryengine/dataSource/stateActionData.ts","webpack://VR/./src/veryengine/enum/enumTypes.ts","webpack://VR/./src/veryengine/dataSource/stateTriggerData.ts","webpack://VR/./src/veryengine/dataSource/stateData.ts","webpack://VR/./src/veryengine/dataSource/dataSource.ts","webpack://VR/./src/veryengine/template/templates.ts","webpack://VR/./src/veryengine/utility/arrayUtility.ts","webpack://VR/./src/veryengine/utility/stringFormat.ts","webpack://VR/./src/veryengine/utility/paraParserUtility.ts","webpack://VR/./src/veryengine/global/gameGlobal.ts","webpack://VR/./src/veryengine/global/errorManager.ts","webpack://VR/./src/veryengine/global/triggerGlobal.ts","webpack://VR/./src/veryengine/global/guiManager.ts","webpack://VR/./src/veryengine/html/showError.ts","webpack://VR/./src/veryengine/scene/verySceneVariables.ts","webpack://VR/./src/veryengine/object/veryengineObject.ts","webpack://VR/./src/veryengine/babylon/time.ts","webpack://VR/./src/veryengine/object/objects.ts","webpack://VR/./src/veryengine/state/state.ts","webpack://VR/./src/veryengine/state/fsm.ts","webpack://VR/./src/veryengine/state/associatedState.ts","webpack://VR/./src/veryengine/manager/reset.ts","webpack://VR/./src/veryengine/expression/expManager.ts","webpack://VR/./src/veryengine/variables/veryVariables.ts","webpack://VR/./src/veryengine/variables/variables.ts","webpack://VR/./src/veryengine/variables/varTools.ts","webpack://VR/./src/veryengine/utility/keyboardMap.ts","webpack://VR/./src/veryengine/utility/mathUtility.ts","webpack://VR/./src/veryengine/utility/veryParas.ts","webpack://VR/./src/veryengine/utility/tools.ts","webpack://VR/./src/veryengine/trigger/triggerBehaviour.ts","webpack://VR/./src/veryengine/trigger/triggers.ts","webpack://VR/./src/veryengine/trigger/customTriggerManager.ts","webpack://VR/./src/veryengine/action/actionBehaviour.ts","webpack://VR/./src/veryengine/action/assignment.ts","webpack://VR/./src/veryengine/action/actions.ts","webpack://VR/./src/veryengine/loader/index.ts","webpack://VR/./src/veryengine/library/action/index.ts","webpack://VR/./src/veryengine/library/action/action-transform.ts","webpack://VR/./src/veryengine/library/action/action-debug.ts","webpack://VR/./src/veryengine/library/action/action-vector3.ts","webpack://VR/./src/veryengine/library/action/action-template.ts","webpack://VR/./src/veryengine/library/action/action_time.ts","webpack://VR/./src/veryengine/library/action/action-math.ts","webpack://VR/./src/veryengine/library/action/action-string.ts","webpack://VR/./src/veryengine/library/action/action-gameobject.ts","webpack://VR/./src/veryengine/library/action/action-convert.ts","webpack://VR/./src/veryengine/library/action/action-application.ts","webpack://VR/./src/veryengine/library/action/action-gui.ts","webpack://VR/./src/veryengine/library/trigger/trigger-input.ts","webpack://VR/./src/veryengine/library/trigger/trigger-system.ts","webpack://VR/./src/veryengine/library/trigger/trigger-collision.ts","webpack://VR/./src/veryengine/library/trigger/trigger-logic.ts","webpack://VR/./src/veryengine/library/trigger/trigger-gui.ts","webpack://VR/./src/veryengine/library/action/action-camera.ts","webpack://VR/./src/veryengine/library/action/action-light.ts","webpack://VR/./src/veryengine/library/action/action-input.ts","webpack://VR/./src/veryengine/library/action/action-rect.ts","webpack://VR/./src/veryengine/library/action/action-mesh.ts","webpack://VR/./src/veryengine/library/action/action-material.ts","webpack://VR/./src/veryengine/library/action/action-audio.ts","webpack://VR/./src/veryengine/library/action/action-video.ts","webpack://VR/./src/veryengine/library/action/action-skybox.ts","webpack://VR/./src/veryengine/library/action/action-focus-camera.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ExpressionType","STATE_SEPARATOR","ASSOCIATED_STATE_PREFIX","VARIABLE_SYMBOL","STATE_INDEX","LogCount","AssignmentPrefix","AssignmentFormulaCount","TriggerCount","ActionCount","StateCount","STATE_VALUE","StateConst","val","_value","ConstantExpression","Empty","this","expType","setValue","getValue","evaluate","initValue","value_str","error_info","newVal","parseFloat","isNaN","isRight","message","varType","clone","VeryExpression","TrueExpression","toString","BinaryOperator","type","_expType","isEmpty","left_exp","right_exp","op","_op","EQ","_isSealed","_left","_right","resultAutoType","console","error","init","_opDic","Add","Subtract","Multiply","Divide","Modulo","Power","LT","LT_EQ","GT_EQ","GT","NEQ","And","Or","Not","_priority","left","right","setLeftExp","setRightExp","getOp","getLeftExp","getRightExp","isSealed","setSeal","BinaryExpression","className","leftValue","rightValue","add","subtract","multiplyByFloats","Math","pow","getBoolean","BABYLON","Vector3","x","y","z","Vector2","getPriority","GetValue","getPriorityOp","Dictionary","VeryVarExpression","_isTemplate","_template","VE_Template","setTemplate","template","templateInstance","varExp","VeryTemplateExpression","SeverityExp","_line","_pos","getLine","getPos","NameLocation","pos","msg","severity","_message","_severity","Warning","ParseError","Error","getPosition","getMessage","getSeverity","itemBuffer","endReached","problemCollector","endOfInputIndicator","undefined","next","nextOffset","offset","length","item","fetch","push","endOfInput","current","consume","result","consumeNext","numberOfItems","shift","getProblemCollector","setProblemCollector","ForwardQuery","_parent","_context","Create","Scope","GetRootScope","_root","setVariable","PI","makeConstant","E","CreateWithParent","parent","find","setType","createVariable","Variable","isCreated","clear","_bracketPair","parsing","name_id","input_exp","scope","project_name","object_id","fsm_id","var_scope","_scope","_projectName","_objectID","_fsmID","_varScope","replace","_tokenizer","Tokenizer","errors","parse","str","resultExp","buildExpression","isEnd","addError","getSource","relationalExp","isOperator","reOrder","algebraExp","productExp","exponentExp","atomExp","isIdentifier","isKeyword","isStartBracket","newValue","isConstant","varID","getContents","varExpression","VE_Expressions","getParseExpression","getTemplateExpression","endBracket","getTrigger","expectTrigger","OPERATOR","typeStr","isBool","toLowerCase","isNumber","endStart","functionCall","varValue","loc","variableID","endsWith","VariableExpression","trim","VariableScope","Fsm","objects","VE_Manager","veryObject","getVeryObject","fsm","getFsm","fsmVar","isSpecialIdentifier","rightOp","replaceLeft","target","newLeft","leftOp","end_bracket","FunctionExpression","funcToken","CustomFunctions","hasFunction","fun","createFunction","setFunction","paraCount","addPara","parameterNumber","trigger","matches","getProjectCollector","Local","VE_ExpressionParsing","BabylonEngine","allow","first","second","allowExpression","VE_AssignmentTypeJudge","row_data","_rowData","forEach","index","array","getData","column_index","data","insert","tempData","slice","remove","splice","removeEnd","pop","VeryTableRow","AnalisysType","_currentType","Global","_lastFsmID","_lastObjectID","_activeTemplate","_activeObject","_activeFsmData","_activeStateData","_emptyLine","load","table","_table","createProject","templates","globalVars","variables","RowCount","startsWith","getRow","Template","templateID","substring","indexOf","VE_StringFormat","isIDLegal","VE_ErrorManager","VE_Error","ID","isCreatedTemplate","addTemplate","objectID","objName","nameArray","split","activeGameObject","GameObject","Find","tempObject","VeryEngineObject","paraData","varArray","paraSegment","paraArray","varData","isCreatedVariable","addVariable","stateData","VE_StateData","rowIndex","addState","para2Array","dataSource","isCreatedFsm","hasState","stateArray","fsmID","createFsm","getFsmData","initFsm","triggerID","idTemp","isCreatedTrigger","addTrigger","triggerData","VE_StateTriggerData","logicalSwitch","logicalExp","tempStr","newActionID","actionData","VE_StateActionData","addAction","actionPara","warning","actionArray","equalIndex","setAssignmentAction","actionNames","isCreatedAction","addAssociatedState","CreateInstance","LoaderManager","data_source","_fsmType","_initialValStr","_states","_dataSource","fsm_type","initial_var","state_data","getStateData","VE_FsmData","_keys","_values","Count","Remove","SetValue","ContainsKey","ks","GetKeys","GetValues","ErrorInfo","args","NaN","ShowError","showError","Pow","log","Infinity","Ln","log10","Lg","sqrt","Sqrt","abs","Abs","start","distance","random","Random","round","Round","sin","Sin","asin","ASin","cos","Cos","acos","ACos","tan","Tan","atan","ATan","func_name","_functionsDic","addFunction","func","tempFunc","constructor","funcName","Severity","line","isDigit","test","isLetterOrCharactor","escape","isWhiteSpace","isNewLine","isEndOfInput","is","ExpChar","STRING","_source","_contents","_trigger","Token","CreateAndFill","ch","addToTrigger","addToSource","addToContentChar","addToContent","getTokenType","setTokenType","new_type","setTrigger","setContent","content","setSource","source","EOI","symbols","isEndBracket","isStartSquareBracket","isEndSquareBracket","isStartBrace","isEndBrace","keywords","KEYWORD","values","triggers","SPECIAL_ID","isSpecialIdentifierWithContent","contents","NUMBER","BOOL","isString","_decimalSeparator","_lineComment","_blockCommentStart","_blockCommentEnd","_brackets","_treatSinglePipeAsBracket","_specialIdStarters","_specialIdTerminators","_keywords","_keywordsCaseSensitive","_stringDelimiters","_boolConstant","_inputExp","TokenReader","isAtStartOfLineComment","skipToEndOfLine","isAtStartOfBlockComment","skipBlockComment","isAtStartOfNumber","fetchNumber","isAtStartOfIdentifier","fetchId","fetchString","isAtBracket","isAtStartOfSpecialId","fetchSpecialId","fetchOperator","hasDecimal","isIdentifierChar","specialId","handleKeywords","separator","canConsumeThisString","check_string","isAtEndOfBlockComment","in_symbol","id_token","keyword","keywordToken","addWarning","_count","_operator","readChar","_name","_constant","getName","_paras","_function","exp","e","expClone","printStr","createSceneExpression","expression_str","sceneExp","Scene","errorMessage","createGlobalExpression","globalExp","createLocalExpression","localExp","createFsmExpression","fsmExp","var_id","v","getVariable","isCreatedExpression","getExpression","getParseGlobal","getParseScene","VerySceneVariables","Variables","errorStr","getTemplate","_objects","_variables","_templates","projects","addProject","isCreatedObjects","addObjects","getObjects","isCreatedVariables","addVariables","getVariables","isCreatedTemplates","addTemplates","getTemplates","isCreatedGlobals","getGlobalVars","disposeProject","clearProject","sleep","dispose","VE_Projects","_projects","VE_Objects","VE_Templates","VE_Variables","globalVarData","mesh","node","_transform","Transform","transform","scene","getNodeByName","AbstractMesh","TransformNode","getClassName","Destroy","obj","destroy","game_object","Mesh","createInstance","sourceMesh","transformNode","_transformNode","_mesh","_tempVec","Zero","forward","Forward","localScale","tempParent","setParent","copyFrom","position","getAbsolutePosition","setAbsolutePosition","para","rotation","translate","translation","relativeTo","translateRelativeTo","trans","direction","transformDirection","Space","WORLD","rotate","eulerAngles","angle","axis","normalize","rotateAround","point","speed","transformPosition","local_position","matrix","computeWorldMatrix","TransformCoordinates","local_direction","inverseTransformPosition","global_position","Matrix","Invert","inverseTransformDirection","global_direction","pointA","pointOrigin","_type","StateActionType","Action","_action","_assignment","_enabled","VeryBool","_everyFrame","setAction","action","enabled","every_frame","sequence","isSequence","setAssignment","assignment","Assignment","VE_StateAction","_sequenceState","SequenceActionState","Initial","_activeActionIndex","_stateActions","_activeActions","_associatedStates","_observer","sequenceAction","actions","associated_states","Running","ActionType","Animation","SequenceState","Prepared","activate","checkActionsFinished","onBeforeRenderObservable","update","start_index","StateActions","assign","Normal","ActiveActions","everyFrame","pause","Pause","resume","stop","actionRecover","AssociatedStates","connect","finishAction","VE_SequenceActions","hasVarType","var_type","_veryVarFunctions","addVarType","var_function","GameGlobal","PlatformLoaded","tempVar","ids","id","variable","getVarType","getSceneVariable","getGlobalVariable","getTemplateVariable","template_var_id","VeryVarManager","boolConvert","info","errorInfo","intConvert","num","floatConvert","VE_TypeConvert","count","getVariableID","varPara","getVariableParas","newVar","addExpression","getObjectID","k","fsmCount","getFsmID","fsmData","VeryString","initialValStr","VE_Fsm","addFsm","triggerCount","getTriggerID","triggerPara","getTriggerPara","VE_Triggers","hasTrigger","getTriggerPos","createTrigger","VE_CustomTriggerManager","AddTriggerEvent","actionCount","actionID","getActionID","getActionPara","VE_Actions","hasAction","getActionPos","createAction","getActionInitVal","hasStateValue","ValStr","state","VE_State","setConstValue","setSequence","logicalAssociated","triggerPos","findTrigger","addTriggerTarget","addLogicalSwitch","getAction","actionPos","findAction","enableVar","enableStr","VarTools","GetVeryVarWithExpression","everyFrameVar","everyFrameStr","isSequenceStr","stateAction","assignmentAction","getStateInSequence","associatedStateCount","associatedStateInfo","getAssociatedState","associatedPos","getAssociatedStatePos","associatedState","VE_AssociatedState","multipleAssociatedState","www","stateValue","strArray","aFsmID","q","aObject","aObjectID","aFsm","toState","getState","global_vars","very_object","action_data","VE_Assignment","totalString","valArray","templateVarID","setLeftTemplateVar","setLeftVariable","setLeftTemplate","tObject","varParas","setRightConst","isFormulaString","setRightVariable","setRightTemplateVariable","rightVar","rightTemplate","leftType","AssignType","leftVariable","setRightTemplate","setRightNull","TemplateVariable","setRightConstValue","object_name","destroy_on_create_new","VE_Reset","tableData","VeryTable","Print","VeryEngine","_id","_columnIDs","_rows","newRow","row_index","getColumnID","a","floor","b","addRow","tables","_tables","getTable","addTable","removeTable","VeryTableSet","template_id","_templateID","_templateVarID","_counter","backupInstances","instanceArray","VE_DataSource","VE_VariableData","activeCount","addInstance","instance_obj","var_paras","increase","unload","all_instance","unloadInstance","instance","cloneTemplate","_variableIDs","_varDics","_varPosDic","action_id","setNormalAction","total_string","var_value","AssignmentType","AssociatedFsmType","ParaType","trigger_id","fsm_data","val_str","is_initial_value","_triggers","_triggersPos","_actions","_actionsPos","_associatedStatesPos","_isSequence","_fsmData","_valStr","_isInitialValue","trigger_data","hasAssociatedState","associated_state_data","is_template","_fsmIDs","_fsmDic","_fsmPosDic","_triggerIDs","_triggerDic","_triggerPosDic","_actionIDs","_actionDic","_actionInitValue","_actionPosDic","getFsmPos","hasFsmIndex","hasTriggerIndex","action_init_val","hasActionIndex","_templateDic","_instanceDic","_instanceArray","isCreatedInstance","getInstance","keys","destory_on_create_new","errorPos","gameObject","hasCreated","newObjectID","counter","setUnloadCallback","unloadObject","projectName","aTemplate","arr","ele","ArrayUtility","_escapeCharacters","_illegalChar","_formulaChar","strEscapeCharacterAction","para_str","tmpStr","getEscapeCharacter","strSubsectionAction","strBuilder","rStr","bracketFlag","hasQuote","para_char","getEscapeCharacter2","is_escape","strSubsection","needSpace","getParaArrayAll","para_array","coloneStr","newPara","j","innerBracket","saveBracket","quotationMark","isEscape","needSaveBracket","hasBracket","var_str","ParaNumbers","para_type","current_number","required_number","requiredStr","GameObjectPara","paras","IsVarID","veryVar","GetVeryVar","GetTemplate","vString","GameObjectParaOnlyVar","StringPara","ParaParserUtility","StringParaOnlyVar","string","StringParaWithExpression","setExpression","NumberPara","NumberParaOnlyVar","number","NumberParaWithExpression","BoolPara","BoolParaOnlyVar","bool","BoolParaWithExpression","Vector3Para","vector3","Vector3OrNumberPara","isVec","floatsArray","privateNumberPara","Vector3ParaWithExpression","Vector3OrNumberParaWithExpression","privateNumberParaWithExpression","vecNumbers","privateNumberParaOnlyVar","RectPara","rect","RectOrNumberPara","isRect","privateRectNumberPara","RectParaWithExpression","RectOrNumberParaWithExpression","privateRectNumberParaWithExpression","rectNumbers","privateRectNumberParaOnlyVar","Vector2Para","vector2","Vector2OrNumberPara","isVec2","privateVector2NumberPara","Vector2ParaWithExpression","Vector2OrNumberParaWithExpression","privateVector2NumberParaWithExpression","vec2Numbers","privateVector2NumberParaOnlyVar","MaterialPara","MaterialParaOnlyVar","MaterialParaWithExpression","material","table_name","_tableName","getTableName","_errorList","GetError","prefix","warn","PrintWarnning","PrintError","Init","AddKeyboard","_scenes","onKeyboardObservable","kbInfo","KeyboardEventTypes","KEYDOWN","_keyUpdate","event","_triggerList","RemoveKeyboard","KeyboardUpdate","_keysDic","unionID","KEYMAP","_initialized","TriggerGlobal","createCanvas","canvas","GUIManager","_guiDic","GUIComponent","rootContainer","addControl","control","fullname","getFullname","host","UGUI_SEPARATOR","isCreatedCanvas","canvas_name","GetUGUIGameObejctSingleName","single_name","getSingleNameGUI","GetUGUIGameObejctFullname","full_name","getFullnameGUI","_canvasFullname","_canvasSingleName","_canvasName","control_name","initZone","errorZone","document","getElementById","showMsg","error_msg","errorContentNow","errorContentPrefix","style","display","innerHTML","closeBtn","querySelector","that","addEventListener","show","showWarn","close","_hasLoaded","initIfNeeded","_expressions","_fsms","_unloadCallback","exp_id","expression","isCreatedVar","callback","getFrameId","Engine","getDeltaTime","_startDate","Date","_startSecond","valueOf","Time","_objectIDs","_objectDics","_assignmentType","Const","_isTemplateVar","_varID","_templateVar","_assignmentStr","_logicalExpression","_index","_stateVariable","_sequenceActions","_fsm","setInitialValue","setLogicalExpression","logical_exp","setTemplateInfo","assign_str","setStateVariable","very_var","state_action","addAssignment","associated_state","receiveEvent","Value","getTemplateVar","fsm_variable","_stateDics","_frameCount","_fsmVar","_veryObject","isCreatedState","state_index","state_value","removeState","from_state","_types","_indexs","_posArray","_stateValues","_templateFsmIDs","_fromState","currentType","Key","addClear","_clearTotal","addProjectClear","_clearProject","_expVariable","createExpression","exp_str","printError","ExpManager","_isExpression","_expression","varClone","VeryNumber","rValue","vec3Str","n1","n2","n3","VeryVector3","VeryGameObject","Vector4","n4","VeryRect","w","VeryVector2","VeryMaterial","VeryList","_veryVars","_tempalteVars","GetGlobalVar","GetSceneVar","GetGlobalVarWithExpression","GetSceneVarWithExpression","_keyMap","GetKey","key_str","VE_KeyboardMap","Slerp","end","Vector3Utility","Lerp","SLerp","FloatUitlity","VeryParas","eulerAngleToRadian","radianToEulerAngle","eulerAngleFloatToRadian","euler_angle","radianFloatToEulerAngle","radian","vector3ToArray","quatTransfromVector3","quat","vec3","res","qx","qy","qz","qw","ix","iy","iz","iw","quatMultiplyVector3","num2","num3","num4","num5","num6","num7","num8","num9","num10","num11","num12","clampAngle","min","max","worldToScreenPoint","world_point","camera","engine","Project","Identity","getTransformMatrix","viewport","toGlobal","getRenderWidth","getRenderHeight","lerpVector2","vec1","vec2","rate","lerpVector3","lerpVector4","transformLocalToWorldDirection","Tools","_logicalSwitch","_logicalExp","_triggerTargets","_triggerID","_scene","isEnabled","set","setTriggerID","setVeryObject","sendEvent","eventProcess","onUpdate","VE_TriggerBehaviour","trigger_class","tempTrigger","_triggerFunctionDics","trigger_type","trigger_para","paraParser","triggerArray","otherObject","timer_event","_customTriggerStore","_delayAction","ConnectCustomTrigger","set_callback","_actionID","_erveryFrame","_sequenceAction","setEveryFrame","is_every_frame","setActionID","action_val","active","finish","VE_ActionBehaviour","_totalStr","_leftType","_rightType","_leftVariable","_leftTemplate","_leftVarID","_rightConstStr","_rightConstValue","_rightVariable","_rightTemplate","_rightVarID","_state","setPos","const_str","const_value","rightAssignment","action_class","tempAction","_actionFunctionDics","action_type","action_para","init_val","everyFrameFlag","_posvalue","_posVec","_space","LOCAL","_isVec","_x","_y","_z","_axis","_trans","_ref","localPosition","oriFather","para1","BONE","para2","para4","Action_SetPosition","Action_GetPosition","localEulerAngles","Action_GetAngle","Action_SetAngle","_refType","_translateObj","_refObj","_isDeltaTime","_vecVar","_xVar","_yVar","_zVar","_paraTime","_paraVec","deltaTime","para3","Action_Translate","_rotateObj","Action_Rotate","_speed","_isVecPoint","_rotatePoint","_xPoint","_yPoint","_zPoint","_point","_isVecAxis","_rotateAxis","_xAxis","_yAxis","_zAxis","para5","Action_Rotate_Around","_childList","_formerList","_parentObj","_reset","tmpOBJ","nameList","newObj","Action_Set_Parent","_obj","childCount","Action_Get_Child_Count","_tran","_pointVec","_pointFloat","_resultVec","Action_Transform_Point","Action_Transform_Direction","Action_Inverse_Transform_Point","Action_Inverse_Transform_Direction","Action_Get_Parent","_firstBlueVar","_secondBlueVar","VE_RandomRange","AddFirst","AddFirstVar","AddSecond","AddSecondVar","_xRange","_yRange","_zRange","_axisChoose","_xyzRange","_posVector3Value","AxisParaParser","rangeArray","very_range","Action_SetRandomPosition","TypeVar","_debugMode","_typeList","_veryVarDic","_constDic","_separator","_strBuilder","VeryVar","debugArray","Action_Debug","_switch","_timer","_isLinear","_acceptVec","_timeFloat","_isVec1","_vecUnit1","_vecFloat1","_isVec2","_vecUnit2","_vecFloat2","timesUp","Action_Vector3_Interpolate","_xBlueFloat","_hasX","_yBlueFloat","_hasY","_zBlueFloat","_hasZ","_blueVector3","_vecFloat","Action_Vector3_Get_Value","_blueFloat","Action_Vector3_Get_Magnitude","_isSet","para0","Action_Vector3_Set_Value","_vec1","_x1","_y1","_z1","_vec2","_x2","_y2","_z2","_result","Distance","Action_Vector3_Distance","_blueVector1","_blueVector2","_isVector1","_isVector2","_blueFloat1","_blueFloat2","Action_Vector3_Add","Action_Vector3_Substract","Action_Vector3_Normalize","scale","Action_Vector3_Clamp_Magnitude","Action_Vector3_Invert","Action_Vector3_Multiply","_BlueVecSet","_BlueFloatSet","_isFloatOp","_resultFloat","_float2","Cross","Dot","Maximize","Minimize","Action_Vector3_Operator","_deriveID","_objectInfo","_position","_posX","_posY","_posZ","_isPositionVec","_angle","_angleX","_angleY","_angleZ","_isAngleVec","_destoryOnCreateNew","emptyAngle","para6","para7","Action_CreateTemplateInstance","_isInstance","_instance","_templateStr","_deleteAllTemplates","instances","Action_DestroyTemplateInstance","_timerEvent","_mutiple","_totalTime","timeSet","timer","VeryTimeControl","time","reset","isTimesUp","setCallback","Action_Timer","start_time","_startTime","_timeRecorder","current_time","_waitTime","Action_Wait","_blueString","_string","now","getFullYear","getMonth","getDay","getHours","getMinutes","getSeconds","Action_Get_System_Data_Time","_startFloat","_endFloat","Action_Float_Interpolate","Action_Float_Inverse_Interpolate","_blueBool","Action_Bool_Flip","Action_Random_Bool","_blueBool2","Action_Set_Bool","_blueBool1","_resultBool","_mode","Action_Bool_Operator","_blueNumber","_acceptNumber","Action_Math_Abs","_blueNumber2","Action_Number_Add","_blueFloatList","tempFloat","Action_Number_Mutiple_Add","_blueNumber3","Action_Number_Clamp","Action_Number_Divide","Action_Number_Multiply","Action_Number_Substract","Action_Number_Min","Action_Number_Max","Action_Random_Number","Action_Set_Number","Action_Math_ACos","Action_Math_ASin","Action_Math_ATan","atan2","Action_Math_ATan2","ceil","Action_Math_Ceil","Action_Math_Cos","Action_Math_Exp","Action_Math_Floor","Action_Math_Log","Action_Math_Log10","Action_Math_Ln","Action_Math_Pow","Action_Math_Sin","Action_Math_Sqrt","Action_Math_Tan","Action_Degree_To_Radian","Action_Radian_To_Degree","Action_Get_PI","Action_Math_Round","_blueInt","Action_String_Get_Length","_blueString2","Action_String_Set_Value","_stringArray","Action_String_Add","_originString","_blueString1","reg","RegExp","Action_String_Replace","_length","Action_String_SubString","_isActive","_childActive","ActiveRecursion","setEnabled","getChildTransformNodes","Action_Set_Active","_objName","_blueObj","Action_Find","_blueDeleObj","_time","_childFlag","RemoveParent","DestroyObj","setTimeout","Action_Destroy_Object","_childStr","ChildRecursion","child_name","Action_Find_Child","_blueObj2","tmpNode1","tmpNode2","Action_Get_GameObject_Distance","_blueName","Action_Get_Name","Action_Set_Name","Action_Get_Owner","layerMask","Action_Get_LayerID","_setChild","Recursion","layer","getChildMeshes","Action_Set_Layer","Boolean","Action_String_To_Bool","Number","Action_String_To_Number","_isBlueVar","_str","_iBlueVar","Action_To_String","renderCanvas","clientWidth","Action_Screen_Width","clientHeight","Action_Screen_Height","_URL","window","open","Action_Open_URL","Action_Quit","_controlStr","_panelModule","_currentLevelID","_zeroNotesID","_currentTotalID","_max","_min","_navigationInf","_navigationPoint","loopNumber","isSpecial","state_input","is_special","DealInputRequirements","tagString","lastNumber","SetActive","RecordNavigationInf","PlusLoop","MinusLoop","oldID","PanelContainsKey","numberStr","parseInt","current_id","canvasStr","len","panelID","ConversionCharToIndex","ConversionIndexToStr","panelStr","panelObj","isSingleName","panel_objs","is_show","isVisible","plus_number","lastNumberStr","minus_number","String","fromCharCode","char_index","charCodeAt","Action_GUI_Control","_control","GUI","Control","_TextBlock","TextBlock","_InputText","InputText","_uiType","text","tmpControl","UGUI_Tools","GetUI","typeName","_Button","textBlock","Action_UGUI_Set_Text","Action_UGUI_Get_Text","_posValue","_posVecFloat","width","height","Action_UGUI_Set_SizeDelta","top","Action_UGUI_Set_AnchoredPosition","leftInPixels","topInPixels","Action_UGUI_Get_AnchoredPosition","_isColor","_blueColor","_colorFloat","color","RGBToHexColor","Trigger","g","toFixed","Action_UGUI_Set_Color","_mouseButtonIndex","_downFlag","onPointerObservable","pointInfo","PointerEventTypes","POINTERDOWN","button","POINTERUP","Trigger_MouseDown","POINTERDOUBLETAP","Trigger_MouseDoubleClick","Trigger_MouseUp","_mouseUpdate","Trigger_MouseButton","_keyboard","Trigger_Keyboard","Trigger_KeyDown","Trigger_KeyUp","_keyboards","_lastKey","all","Trigger_KeyboardCombine","_inGameobject","_mouse","pointerInfo","pickInfo","pickedMesh","Trigger_MousePickAny","NameList","tmpArray","Trigger_MousePick","_mouses","Trigger_MouseCombine","Trigger_Start","Trigger_Continuous","customEvent","Trigger_Custom","_target","enablePointerMoveEvents","POINTERMOVE","Trigger_Mouse_Over","Trigger_Mouse_Down","Trigger_Mouse_Up","POINTERPICK","Trigger_Mouse_Pick","_storeGameObject","_colliderGameObjectList","_colliderMeshList","strs","tmpTarget","meshes","tmpMesh","intersectsMesh","tmpMesh2","getMeshByName","Trigger_Collision_Enter","Trigger_Collision_Exit","Trigger_Collision_Stay","_boolList","tempBool","Trigger_Bool_All_True","Trigger_Bool_All_False","Trigger_Bool_Any_True","_inBool","_lastBool","Trigger_Bool_Changed","_veryNumber1","_veryNumber2","_accuracy","_operatorType","Trigger_Number_Compare","_inNumber","_lastNumber","Trigger_Number_Changed","_boolOperator","_floatList","_operatorList","_resultList","floatArray","Trigger_Number_Multi_Compare","_inString","_compareString","Trigger_String_Compare","_lastString","Trigger_String_Changed","Trigger_String_Contains","_compareGameobject","_activeMode","Trigger_Gameobject_Compare","_gameobjectName","Trigger_Gameobject_CompareName","_lastGameobject","Trigger_Gameobject_Changed","Trigger_Gameobject_Is_Null","Trigger_Gameobject_Has_Children","Trigger_GameObject_Is_Active","_fatherGameobject","Trigger_GameObject_Is_Child_Of","_button","Button","onPointerDownObservable","Trigger_UGUI_Button","_eventType","_moveObserver","_outObserver","_downObserver","_upObserver","_clickObserver","_enterObserver","onPointerMoveObservable","onPointerOutObservable","onPointerUpObservable","onPointerClickObservable","onPointerEnterObservable","Trigger_UGUI_Event_Trigger","buttonName","hasAdvancedDynamicTexture","hasUI","textures","tmpContainer","getChildByName","_carema1","_cameraList","Camera_Tools","GetCamera","strings","tmpCamera","Action_Active_Camera","activeCamera","Action_Set_Main_Camera","_size","fov","Action_Get_CameraSize","Action_Set_CameraSize","_layer","Action_Set_Camera_Culling_Mask","cameras","_light","diffuse","Color3","Light_Tools","GetLight","Action_Set_Light_Color","_intensity","intensity","Action_Set_Light_Intensity","range","Action_Set_Light_Range","tmpLight","Action_Set_Light_Spot_Angle","lights","_mousePosVe","_mousePosX","_mousePosY","pointerX","pointerY","Action_GetMousePosition_Screen","_isBool","_blueGameObject","_isGameObject","_isVector3","_isFloat","pickedPoint","Action_Mouse_Pick","_choose","_moveRef","_mouseBtn","_move","_filter","_include","_filterName","startingPoint","currentMesh","pointerDown","pointerUp","pointerMove","detachControl","Canvas","attachControl","diff","getDirection","firstStr","tempObj","secondStr","thirdStr","tagArray","Action_MouseDrag","_newColor","_isRecursion","_objArray","_currentMesh","_oldMaterial","_oldMaterials","pickinfo","pick","RecursionRestore","tmpMat","StandardMaterial","diffuseColor","RecursionRecord","tmpOldMat","Action_MouseEnterHighlight","_cursorControl","body","cursor","Action_CursorControl","_isGet","_blueRect","_xFloat","_yFloat","_widthFloat","_heightFloat","Action_Get_Rect_Value","_isRect","_rectFloat","_isVec3","_blueX","_blueY","_blueZ","RectContainsVector3","RectContainsVector2","_setVector2","Action_Rect_Contains","_blueFloatArray","_AcceptRect","Action_Set_Rect_Value","_blueGameobject","getTotalVertices","Action_Get_Vertex_Count","_blueVec3","_isWorldAxis","positions","getVerticesData","tmpVec3","subMeshes","verticesCount","Action_Get_Vertex_Position","_blueMaterial","Action_Get_Material","Action_Set_Material","_musicString","_musicLoop","_musicVolume","_music","loop","setVolume","isPlaying","play","Sound","autoplay","Action_AudioPlay","utterThis","SpeechSynthesisUtterance","speechSynthesis","speak","Action_WindowsVoice","_blueOBJ","_vedio","_oldMat","_newMat","video","videoWidth","videoHeight","diffuseTexture","volume","VideoTexture","Action_VedioPlayOnOBJ","renderingGroupId","skybox","MeshBuilder","CreateBox","size","infiniteDistance","skyboxMaterial","backFaceCulling","reflectionTexture","CubeTexture","coordinatesMode","Texture","SKYBOX_MODE","specularColor","Action_Skybox","orbiting","panning","MouseWheelSensitivity","MouseZoomMin","MouseZoomMax","moveSpeedReal","moveSpeed","wheelSpeed","xSpeed","ySpeed","yMinLimit","yMaxLimit","StandardDistance","initPosition","focusTarget","focusPoint","focusOrthoHeight","focusing","firstUpdate","flySpeed","vecA","vecB","cameraObj","angles","CameraTargetPosition","targetOnScreenPosition","storeRotation","Quaternion","FromEulerVector","Camera","ORTHOGRAPHIC_CAMERA","minZ","cameraX","cameraY","up","getBoundingClientRect","initScreenPos","clientX","clientY","movementX","movementY","toEulerAngles","curScreenPos","PERSPECTIVE_CAMERA","orthoSize","mPosition","POINTERWHEEL","deltaY","delta","Action_Focus_Camera"],"mappings":"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AK03B,kBAAqB,EAAI,KAC9B13B,KAAK03B,kBAAkB,GAAO,KAE9B13B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAgB,GAAI,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAQ,EAC1B33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAQ,EAC1B33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,aAAa,MAAO,EACzB33B,KAAK23B,a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","file":"veryengine.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n","export * from './enumTypes';","export * from './arrayUtility';\r\nexport * from './dictionary';\r\nexport * from './errorInfo';\r\nexport * from './stringFormat';\r\nexport * from './paraParserUtility';\r\nexport * from './keyboardMap';\r\nexport * from './typeConvert';\r\nexport * from './mathUtility';\r\nexport * from './veryParas';\r\n\r\nexport * from './tools';","export * from './IVeryVar';\r\nexport * from './veryExpression';\r\nexport * from './veryVarManager';\r\nexport * from './veryVariables';\r\nexport * from './variables';\r\nexport * from './varTools';","export * from './actionBehaviour';\r\nexport * from './assignment';\r\nexport * from './actions';","export * from './babylonVariables';\r\nexport * from './time';\r\nexport * from './engine';","export * from './gameGlobal';\r\nexport * from './errorManager';\r\nexport * from './triggerGlobal';\r\nexport * from './guiManager';","export * from './projects';\r\nexport * from './manager';\r\nexport * from './reset';","export * from './state';\r\nexport * from './fsm';\r\nexport * from './stateAction';\r\nexport * from './associatedState';\r\nexport * from './stateConst';\r\nexport * from './sequenceActions';","export * from './triggerBehaviour';\r\nexport * from './triggers';\r\nexport * from './customTriggerManager';","export * from './variableData';\r\nexport * from './fsmData';\r\nexport * from './stateActionData';\r\nexport * from './stateTriggerData';\r\nexport * from './stateData';\r\nexport * from './dataSource';\r\n\r\n","export * from './verySceneVariables';","export * from './template';\r\nexport * from './templates';","export * from './expressionEnum';\r\nexport * from './expressions';\r\nexport * from './functions';\r\nexport * from './positions';\r\nexport * from './expChar';\r\nexport * from './token';\r\nexport * from './forwardQuery';\r\nexport * from './tokenizer';\r\nexport * from './tokenReader';\r\nexport * from './variable';\r\nexport * from './variableExpression';\r\nexport * from './scope';\r\nexport * from './functionExpression';\r\nexport * from './expressionParsing';\r\nexport * from './expManager';\r\nexport * from './veryExpressions';","export enum ExpressionType {\r\n  ID, SPECIAL_ID, KEYWORD, STRING, NUMBER, BOOL, OPERATOR, INTEGER, FLOAT, DOUBLE, EOI\r\n}","export * from './showError';","export * from './veryengineObject';\r\nexport * from './objects';","export class StateConst {\r\n\r\n  public static readonly STATE_SEPARATOR: string = '.';\r\n  public static readonly ASSOCIATED_STATE_PREFIX: string = '关联状态:';\r\n  public static readonly VARIABLE_SYMBOL: string = '*';\r\n  public static readonly STATE_INDEX: number = -1;\r\n  public static LogCount: number = 0;\r\n\r\n  public static readonly AssignmentPrefix: string = '公式变量赋值_';\r\n  public static AssignmentFormulaCount: number = 0;\r\n\r\n  public static TriggerCount: number = 0;\r\n  public static ActionCount: number = 0;\r\n  public static StateCount: number = 0;\r\n  public static readonly STATE_VALUE: string = '空';\r\n\r\n}","import { IVeryVar } from \"./IVeryVar\";\r\nimport { IExpression, ConstantExpression } from \"../expression\";\r\nimport { ErrorInfo } from \"../utility\";\r\n\r\nexport class VeryExpression implements IVeryVar {\r\n  public get varType(): string {\r\n    return this._value.expType;\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryExpression\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return \"VeryExpression|公式变量\";\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  public get value(): IExpression {\r\n    return this._value;\r\n  }\r\n  public set value(val: IExpression) {\r\n    this._value = val;\r\n  }\r\n  private _value: IExpression = ConstantExpression.Empty();\r\n\r\n  public get isNull(): boolean {\r\n    return this._value === null;\r\n  }\r\n\r\n  constructor(val: IExpression) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  // 之后可能会有公式的情况\r\n  public getValue(): any {\r\n    return this._value.evaluate();\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let newVal = parseFloat(value_str);\r\n    if (!isNaN(newVal)) {\r\n      return newVal;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \"类型: \" +\r\n        this.varType +\r\n        \"，值：\" +\r\n        value_str +\r\n        \"，该变量值和类型不匹配，转化错误，请检查！\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    return new VeryExpression(this._value);\r\n  }\r\n}","import { Dictionary } from \"../utility/dictionary\";\r\nimport { IVeryVar } from \"../variables\";\r\nimport { VE_Template } from \"../template\";\r\n\r\nexport interface IExpression {\r\n  expType: string;\r\n  className: string;\r\n  evaluate(): any;\r\n  clone(): IExpression;\r\n}\r\n\r\nexport class TrueExpression implements IExpression {\r\n  public get expType(): string {\r\n    return 'bool';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'TrueExpression';\r\n  }\r\n\r\n  public get value(): boolean {\r\n    return true;\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n\r\n  public evaluate(): any {\r\n    return true;\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let exp: TrueExpression = new TrueExpression();\r\n    return exp;\r\n  }\r\n\r\n  public toString(): string {\r\n    return 'true';\r\n  }\r\n}\r\n\r\nexport class ConstantExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._expType;\r\n  }\r\n  private _expType: string = 'string';\r\n\r\n  public get className(): string {\r\n    return 'ConstantExpression';\r\n  }\r\n\r\n  private _value: any;\r\n\r\n  constructor(value: any, type: string) {\r\n    this._value = value;\r\n    this._expType = type;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: ConstantExpression = new ConstantExpression(this._value, this._expType);\r\n    return expClone;\r\n  }\r\n\r\n  public static Empty(): ConstantExpression {\r\n    return new ConstantExpression(null, 'string');\r\n  }\r\n\r\n  public isEmpty(): boolean {\r\n    if (this._expType === 'string' && this._value === null) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this._value !== null) {\r\n      return this._value.toString();\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport enum BinaryOperator {\r\n  Add = '+', Subtract = '-', Multiply = '*', Divide = '/', Modulo = '%', Power = '^', LT = '<', LT_EQ = '<=', EQ = '=', GT_EQ = '>=', GT = '>', NEQ = '!=', And = '&&', Or = '||', Not = '!'\r\n}\r\n\r\nexport class BinaryExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._expType;\r\n  }\r\n  private _expType = '';\r\n\r\n  public get className(): string {\r\n    return 'BinaryExpression';\r\n  }\r\n\r\n  public isRight: boolean = true;\r\n\r\n  private _op: BinaryOperator = BinaryOperator.EQ;\r\n\r\n  private _left: IExpression;\r\n  private _right: IExpression;\r\n  private _isSealed: boolean = false;\r\n\r\n  private static _opDic: { [key: string]: BinaryOperator } = {};\r\n\r\n  private static _priority: Dictionary<BinaryOperator, number> = new Dictionary<BinaryOperator, number>();\r\n\r\n  // private static _priorityKey: BinaryOperator[] = [BinaryOperator.Not, BinaryOperator.Power, BinaryOperator.Multiply, BinaryOperator.Divide, BinaryOperator.Modulo, BinaryOperator.Add, BinaryOperator.Subtract, BinaryOperator.LT, BinaryOperator.LT_EQ, BinaryOperator.EQ, BinaryOperator.GT_EQ, BinaryOperator.GT, BinaryOperator.NEQ, BinaryOperator.And, BinaryOperator.Or];\r\n\r\n  // private static _priorityValue: number[] = [2, 3, 4, 4, 4, 5, 5, 6, 6, 6, 6, 6, 6, 7, 7];\r\n\r\n  public static init(): void {\r\n    this._opDic[\"+\"] = BinaryOperator.Add;\r\n    this._opDic[\"-\"] = BinaryOperator.Subtract;\r\n    this._opDic[\"*\"] = BinaryOperator.Multiply;\r\n    this._opDic[\"/\"] = BinaryOperator.Divide;\r\n    this._opDic[\"%\"] = BinaryOperator.Modulo;\r\n    this._opDic[\"**\"] = BinaryOperator.Power;\r\n    this._opDic[\"^\"] = BinaryOperator.Power;\r\n    this._opDic[\"<\"] = BinaryOperator.LT;\r\n    this._opDic[\"<=\"] = BinaryOperator.LT_EQ;\r\n    this._opDic[\"==\"] = BinaryOperator.EQ;\r\n    this._opDic[\">=\"] = BinaryOperator.GT_EQ;\r\n    this._opDic[\">\"] = BinaryOperator.GT;\r\n    this._opDic[\"!=\"] = BinaryOperator.NEQ;\r\n    this._opDic[\"&&\"] = BinaryOperator.And;\r\n    this._opDic[\"||\"] = BinaryOperator.Or;\r\n    this._opDic[\"!\"] = BinaryOperator.Not;\r\n    this._opDic[\"！\"] = BinaryOperator.Not;\r\n\r\n    this._priority.Add(BinaryOperator.Not, 2);\r\n    this._priority.Add(BinaryOperator.Power, 3);\r\n    this._priority.Add(BinaryOperator.Multiply, 4); this._priority.Add(BinaryOperator.Divide, 4); this._priority.Add(BinaryOperator.Modulo, 4);\r\n    this._priority.Add(BinaryOperator.Add, 5); this._priority.Add(BinaryOperator.Subtract, 5);\r\n    this._priority.Add(BinaryOperator.LT, 6); this._priority.Add(BinaryOperator.LT_EQ, 6); this._priority.Add(BinaryOperator.EQ, 6); this._priority.Add(BinaryOperator.GT_EQ, 6); this._priority.Add(BinaryOperator.GT, 6); this._priority.Add(BinaryOperator.NEQ, 6);\r\n    this._priority.Add(BinaryOperator.And, 7); this._priority.Add(BinaryOperator.Or, 7);\r\n  }\r\n\r\n  constructor(left_exp: IExpression, right_exp: IExpression, op: BinaryOperator) {\r\n    this._left = left_exp;\r\n    this._right = right_exp;\r\n    this._op = op;\r\n    // console.log(this._left);\r\n    // console.log(this._right);\r\n    this._expType = this.resultAutoType(left_exp, right_exp, op);\r\n    if (this._expType === 'null') {\r\n      // TODO\r\n      this.isRight = false;\r\n      console.error(\"公式两边类型不匹配，左侧类型：\" + left_exp.expType + \"，右侧类型：\" + right_exp.expType + \"，计算类型：\" + op.toString());\r\n    }\r\n  }\r\n\r\n  private resultAutoType(left: IExpression, right: IExpression, op: BinaryOperator): string {\r\n    if (op === BinaryOperator.Add) {\r\n      if (left.expType === 'string' || right.expType === 'string') {\r\n        return 'string';\r\n      }\r\n      else if (left.expType === 'bool' || right.expType === 'bool') {\r\n        return 'null';\r\n      }\r\n      else if (left.expType === 'number' || right.expType === 'number') {\r\n        return 'number';\r\n      }\r\n      else if (left.expType === 'vector3' || right.expType === 'vector3') {\r\n        return 'vector3';\r\n      }\r\n      else if (left.expType === 'vector2' || right.expType === 'vector2') {\r\n        return 'vector2';\r\n      }\r\n      else {\r\n        return 'null';\r\n      }\r\n    } else if (op === BinaryOperator.Divide || op === BinaryOperator.Multiply || op === BinaryOperator.Modulo || op === BinaryOperator.Power || op === BinaryOperator.Subtract) {\r\n      if (left.expType === 'string' || right.expType === 'string' || left.expType === 'bool' || left.expType === 'bool') {\r\n        return 'null';\r\n      }\r\n      else if (left.expType === 'vector3' && right.expType === 'vector3' && op === BinaryOperator.Subtract) {\r\n        return 'vector3';\r\n      }\r\n      else if (left.expType === 'vector2' && right.expType === 'vector2' && op === BinaryOperator.Subtract) {\r\n        return 'vector2';\r\n      }\r\n      else if ((left.expType === 'number' && right.expType === 'vector3' && op === BinaryOperator.Multiply) || (left.expType === 'vector3' && right.expType === 'number' && op == BinaryOperator.Multiply)) {\r\n        return 'vector3';\r\n      }\r\n      else if ((left.expType === 'number' && right.expType === 'vector2' && op === BinaryOperator.Multiply) || (left.expType === 'vector2' && right.expType === 'number' && op == BinaryOperator.Multiply)) {\r\n        return 'vector2';\r\n      }\r\n      else if (left.expType === 'vector3' && right.expType === 'number' && op === BinaryOperator.Divide) {\r\n        return 'vector3';\r\n      }\r\n      else if (left.expType === 'vector2' && right.expType === 'number' && op === BinaryOperator.Divide) {\r\n        return 'vector2';\r\n      }\r\n      else if (left.expType === 'number' || right.expType === 'number') {\r\n        return 'number';\r\n      }\r\n      else {\r\n        return 'null';\r\n      }\r\n    } else if (op === BinaryOperator.LT || op === BinaryOperator.LT_EQ || op === BinaryOperator.GT_EQ || op === BinaryOperator.GT) {\r\n      if (left.expType === 'string' || right.expType === 'string' || left.expType === 'bool' || right.expType === 'bool') {\r\n        return 'null';\r\n      } else {\r\n        return 'bool';\r\n      }\r\n    } else if (op === BinaryOperator.NEQ || op === BinaryOperator.EQ) {\r\n      if (right.expType !== left.expType) {\r\n        return 'null';\r\n      } else {\r\n        return 'bool';\r\n      }\r\n    } else if (op === BinaryOperator.Not) {\r\n      if (right.expType !== 'bool') {\r\n        return 'null';\r\n      } else {\r\n        return 'bool';\r\n      }\r\n    } else {\r\n      return 'string';\r\n    }\r\n  }\r\n\r\n  public setLeftExp(left_exp: IExpression): void {\r\n    this._left = left_exp;\r\n  }\r\n\r\n  public setRightExp(right_exp: IExpression): void {\r\n    this._right = right_exp;\r\n  }\r\n\r\n  public getOp(): BinaryOperator {\r\n    return this._op;\r\n  }\r\n\r\n  public getLeftExp(): IExpression {\r\n    return this._left;\r\n  }\r\n\r\n  public getRightExp(): IExpression {\r\n    return this._right;\r\n  }\r\n\r\n  public isSealed(): boolean {\r\n    return this._isSealed;\r\n  }\r\n\r\n  public setSeal(): void {\r\n    this._isSealed = true;\r\n  }\r\n\r\n  public toString(): string {\r\n    return \"(\" + this._left.toString() + \" \" + this._op.toString() + \" \" + this._right.toString() + \")\";\r\n    // return this._left.toString() + this._op.toString() + this._right.toString();\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: BinaryExpression = new BinaryExpression(this._left.clone(), this._right.clone(), this._op);\r\n    return expClone;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    if (this._expType === 'null') {\r\n      return null;\r\n    }\r\n    if (this._left.className === 'FunctionExpression') {\r\n      this._left.evaluate();\r\n    }\r\n    if (this._right.className === 'FunctionExpression') {\r\n      this._right.evaluate();\r\n    }\r\n    this._expType = this.resultAutoType(this._left, this._right, this._op);\r\n    let leftValue: any = this._left.evaluate();\r\n    let rightValue: any = this._right.evaluate();\r\n    if (leftValue === null || rightValue === null) {\r\n      return null;\r\n    }\r\n    if (this._op === BinaryOperator.Add) {\r\n      if (this._expType === 'string') {\r\n        return leftValue.toString() + rightValue.toString();\r\n      } else if (this._expType === 'number') {\r\n        return leftValue + rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        return (<BABYLON.Vector3>leftValue).add((<BABYLON.Vector3>rightValue));\r\n      } else if (this._expType === 'vector2') {\r\n        return (<BABYLON.Vector2>leftValue).add((<BABYLON.Vector2>rightValue));\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.Subtract) {\r\n      if (this._expType === 'number') {\r\n        return leftValue - rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        return (<BABYLON.Vector3>leftValue).subtract((<BABYLON.Vector3>rightValue));\r\n      } else if (this._expType === 'vector2') {\r\n        return (<BABYLON.Vector2>leftValue).subtract((<BABYLON.Vector2>rightValue));\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.Multiply) {\r\n      if (this._expType === 'number') {\r\n        return leftValue * rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        if (typeof (leftValue) === 'number') {\r\n          return (<BABYLON.Vector3>rightValue).multiplyByFloats(leftValue, leftValue, leftValue);\r\n        } else if (typeof (rightValue) === 'number') {\r\n          return (<BABYLON.Vector3>leftValue).multiplyByFloats(rightValue, rightValue, rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      } else if (this._expType === 'vector2') {\r\n        if (typeof (leftValue) === 'number') {\r\n          return (<BABYLON.Vector2>rightValue).multiplyByFloats(leftValue, leftValue);\r\n        } else if (typeof (rightValue) === 'number') {\r\n          return (<BABYLON.Vector2>leftValue).multiplyByFloats(rightValue, rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    } else if (this._op === BinaryOperator.Divide) {\r\n      if (this._expType === 'number') {\r\n        return leftValue / rightValue;\r\n      } else if (this._expType === 'vector3') {\r\n        if (typeof (rightValue) === 'number') {\r\n          return new BABYLON.Vector3((<BABYLON.Vector3>leftValue).x / rightValue, (<BABYLON.Vector3>leftValue).y / rightValue, (<BABYLON.Vector3>leftValue).z / rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      } else if (this._expType === 'vector2') {\r\n        if (typeof (rightValue) === 'number') {\r\n          return new BABYLON.Vector2((<BABYLON.Vector2>leftValue).x / rightValue, (<BABYLON.Vector2>leftValue).y / rightValue);\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    } else if (this._op === BinaryOperator.Modulo) {\r\n      if (typeof (leftValue) === 'number' && typeof (rightValue) === 'number') {\r\n        return leftValue % rightValue;\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.Power) {\r\n      if (typeof (leftValue) === 'number' && typeof (rightValue) === 'number') {\r\n        return Math.pow(leftValue, rightValue);\r\n      } else {\r\n        return null;\r\n      }\r\n    } else if (this._op === BinaryOperator.And) {\r\n      let l: boolean = this.getBoolean(leftValue);\r\n      let r: boolean = this.getBoolean(rightValue);\r\n      return l && r;\r\n    } else if (this._op === BinaryOperator.Or) {\r\n      let l: boolean = this.getBoolean(leftValue);\r\n      let r: boolean = this.getBoolean(rightValue);\r\n      return l || r;\r\n    } else if (this._op === BinaryOperator.LT) {\r\n      return leftValue < rightValue;\r\n    } else if (this._op === BinaryOperator.LT_EQ) {\r\n      return leftValue <= rightValue;\r\n    } else if (this._op === BinaryOperator.GT_EQ) {\r\n      return leftValue >= rightValue;\r\n    } else if (this._op === BinaryOperator.GT) {\r\n      return leftValue > rightValue;\r\n    } else if (this._op === BinaryOperator.EQ) {\r\n      return leftValue === rightValue;\r\n    } else if (this._op === BinaryOperator.NEQ) {\r\n      return leftValue !== rightValue;\r\n    } else if (this._op === BinaryOperator.Not) {\r\n      return !this.getBoolean(rightValue);\r\n    } else {\r\n      return !this.getBoolean(leftValue);\r\n    }\r\n  }\r\n\r\n  private getBoolean(value: any): boolean {\r\n    if (typeof (value) === 'number') {\r\n      if (value === 0) {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else if (typeof (value) === 'string') {\r\n      if (value === '') {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else if (typeof (value) === 'boolean') {\r\n      return value;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getPriority(): number {\r\n    // let p: number = BinaryExpression._priorityKey.indexOf(this._op);\r\n    // if(p > -1) {\r\n    //   return BinaryExpression._priorityValue[p];\r\n    // } else {\r\n    //   return 100;\r\n    // }\r\n    let p: number | null = BinaryExpression._priority.GetValue(this._op);\r\n    if (p === null) {\r\n      return 100;\r\n    } else {\r\n      return p;\r\n    }\r\n  }\r\n\r\n  public getPriorityOp(op: BinaryOperator): number {\r\n    // let p: number = BinaryExpression._priorityKey.indexOf(op);\r\n    // if(p > -1) {\r\n    //   return BinaryExpression._priorityValue[p];\r\n    // } else {\r\n    //   return 100;\r\n    // }\r\n    let p: number | null = BinaryExpression._priority.GetValue(op);\r\n    if (p === null) {\r\n      return 100;\r\n    } else {\r\n      return p;\r\n    }\r\n  }\r\n}\r\n\r\nexport class VeryVarExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    if (this._value) {\r\n      return this._value.varType;\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n\r\n  private _value: IVeryVar;\r\n\r\n  public get className(): string {\r\n    return 'VeryVarExpression';\r\n  }\r\n\r\n  public get value(): IVeryVar {\r\n    return this._value;\r\n  }\r\n\r\n  constructor(value: IVeryVar) {\r\n    this._value = value;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    return this._value.getValue();\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: VeryVarExpression = new VeryVarExpression(this._value.clone());\r\n    return expClone;\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this._value) {\r\n      return this._value.toString();\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n}\r\n\r\nexport class VeryTemplateExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return 'bool';\r\n  }\r\n\r\n  private _isTemplate: boolean = false;\r\n  private _template: VE_Template;\r\n\r\n  public get className(): string {\r\n    return 'VeryTemplateExpression';\r\n  }\r\n\r\n  // public get value(): IVeryVar {\r\n  //   return this._value;\r\n  // }\r\n\r\n  // TODO \r\n  constructor() {\r\n    this._template = new VE_Template('', '');\r\n  }\r\n\r\n  public setTemplate(template: VE_Template): void {\r\n    this._isTemplate = true;\r\n    this._template = template;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    if (this._isTemplate) {\r\n      if (!this._template) {\r\n        return false;\r\n      }\r\n      else {\r\n        return this._template.templateInstance !== null;\r\n      }\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let varExp: VeryTemplateExpression = new VeryTemplateExpression();\r\n    varExp._template = this._template;\r\n    varExp._isTemplate = this._isTemplate;\r\n    return varExp;\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this._isTemplate) {\r\n      if (!this._template) {\r\n        return \"false\";\r\n      }\r\n      else {\r\n        return (this._template.templateInstance === null).toString();\r\n      }\r\n    }\r\n    else {\r\n      return \"false\";\r\n    }\r\n  }\r\n}\r\n\r\n\r\nBinaryExpression.init();","export interface IPosition {\r\n  getValue(): string;\r\n  getLine(): number;\r\n  getPos(): number;\r\n}\r\n\r\n\r\nexport class NameLocation implements IPosition {\r\n\r\n  private _value: string = '';\r\n  private _line: number = 0;\r\n  private _pos: number = 0;\r\n\r\n\r\n  constructor(value: string) {\r\n    this._value = value;\r\n    this._line = 1;\r\n    this._pos = 1;\r\n  }\r\n\r\n\r\n  public getValue(): string {\r\n    return this._value;\r\n  }\r\n\r\n  public getLine(): number {\r\n    return this._line;\r\n  }  \r\n  \r\n  \r\n  public getPos(): number {\r\n    return this._pos;\r\n  }\r\n}\r\n\r\nexport enum SeverityExp{\r\n  Warning,\r\n  Error\r\n}\r\n\r\nexport class ParseError{\r\n\r\n  private _pos: IPosition;\r\n  private _message: string;\r\n  private _severity: SeverityExp;\r\n\r\n  constructor(pos: IPosition, msg: string, severity: SeverityExp) {\r\n    this._pos = pos;\r\n    this._message = msg;\r\n    this._severity = severity;\r\n  }\r\n\r\n  public static Warning(pos: IPosition, msg: string): ParseError {\r\n    let message: string = msg;\r\n    if(pos.getLine() > 0) {\r\n      message = `公式解析警告 >>> 错误字符序号：${pos.getPos()}，警告信息：${msg}`;\r\n    }\r\n    return new ParseError(pos, message, SeverityExp.Warning);\r\n  }\r\n\r\n  public static Error(pos: IPosition, msg: string): ParseError {\r\n    let message: string = msg;\r\n    if(pos.getLine() > 0) {\r\n      message = `公式解析错误 >>> 错误字符序号：${pos.getPos()}，警告信息：${msg}`;\r\n    }\r\n    return new ParseError(pos, message, SeverityExp.Error);\r\n  }\r\n\r\n  public getPosition(): IPosition {\r\n    return this._pos;\r\n  }\r\n\r\n  public getMessage(): string {\r\n    return this._message;\r\n  }\r\n\r\n  public getSeverity(): SeverityExp {\r\n    return this._severity;\r\n  }\r\n\r\n  public toString(): string {\r\n    return `类型：${this._severity.toString()}，信息：${this._message}`;\r\n  }\r\n\r\n}","import { ParseError } from \"./positions\";\r\n\r\nexport abstract class ForwardQuery<T> {\r\n\r\n  protected itemBuffer: Array<T> = [];\r\n\r\n  protected endReached: boolean = false;\r\n\r\n  protected problemCollector: Array<ParseError> = [];\r\n\r\n  protected endOfInputIndicator: T | undefined = undefined;\r\n\r\n  public next(): T {\r\n    return this.nextOffset(1);\r\n  }\r\n\r\n  public nextOffset(offset: number): T {\r\n    while (this.itemBuffer.length <= offset && !this.endReached) {\r\n      let item: T | undefined = this.fetch();\r\n      if (item !== undefined) {\r\n        this.itemBuffer.push(item);\r\n      } else {\r\n        this.endReached = true;\r\n      }\r\n    }\r\n    if (offset >= this.itemBuffer.length) {\r\n      if (this.endOfInputIndicator === undefined) {\r\n        this.endOfInputIndicator = this.endOfInput();\r\n      }\r\n      return this.endOfInputIndicator;\r\n    } else {\r\n      return this.itemBuffer[offset];\r\n    }\r\n  }\r\n\r\n  public current(): T {\r\n    return this.nextOffset(0);\r\n  }\r\n\r\n  protected abstract endOfInput(): T;\r\n\r\n  protected abstract fetch(): T | undefined;\r\n\r\n  public consume(): T {\r\n    let result: T = this.current();\r\n    this.consumeNext(1);\r\n    return result;\r\n  }\r\n\r\n  public consumeNext(numberOfItems: number): void {\r\n    if (numberOfItems < 0) {\r\n      return;\r\n    }\r\n    while (numberOfItems-- > 0) {\r\n      if (this.itemBuffer.length !== 0) {\r\n        this.itemBuffer.shift();\r\n      } else {\r\n        if (this.endReached) {\r\n          return;\r\n        } else {\r\n          let item: T | undefined = this.fetch();\r\n          if (item === undefined) {\r\n            this.endReached = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public getProblemCollector(): Array<ParseError> {\r\n    return this.problemCollector;\r\n  }\r\n\r\n  public setProblemCollector(problemCollector: Array<ParseError>): void {\r\n    this.problemCollector = problemCollector;\r\n  }\r\n\r\n\r\n}","import { Variable } from \"./variable\";\r\n\r\nexport class Scope {\r\n\r\n  private _parent: Scope | undefined = undefined;\r\n\r\n  private _context: { [key: string]: Variable } = {};\r\n\r\n  private static _root: Scope;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static Create(): Scope {\r\n    let result: Scope = new Scope();\r\n    result._parent = Scope.GetRootScope();\r\n    return result;\r\n  }\r\n\r\n  public static GetRootScope(): Scope {\r\n    if (Scope._root === undefined) {\r\n      Scope._root = new Scope();\r\n      Scope._root.setVariable(\"PI\", 'number', Math.PI).makeConstant(Math.PI);\r\n      Scope._root.setVariable(\"EULER\", 'number', Math.E).makeConstant(Math.E);\r\n    }\r\n    return Scope._root;\r\n  }\r\n\r\n  public static CreateWithParent(parent: Scope): Scope {\r\n    let result: Scope = Scope.Create();\r\n    result._parent = parent;\r\n    return result;\r\n  }\r\n\r\n  public find(name: string): Variable | null {\r\n    if (this._context[name]) {\r\n      return this._context[name];\r\n    }\r\n    if (this._parent !== undefined) {\r\n      return this._parent.find(name);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  public setVariable(name: string, type: string, value: any): Variable {\r\n    let result: Variable | null = this.find(name);\r\n    if (result !== null) {\r\n      result.setType(type);\r\n      result.setValue(value);\r\n      return result;\r\n    }\r\n    return this.createVariable(name, type, value);\r\n  }\r\n\r\n  public createVariable(name: string, type: string, value: any): Variable {\r\n    if (this._context[name]) {\r\n      this._context[name].setType(type);\r\n      this._context[name].setValue(value);\r\n      return this._context[name];\r\n    }\r\n    let result: Variable = new Variable(name, type, value);\r\n    this._context[name] = result;\r\n    return result;\r\n  }\r\n\r\n\r\n  public setValue(name: string, value: any): void {\r\n    if (this._context[name]) {\r\n      this._context[name].setValue(value);\r\n    }\r\n  }\r\n\r\n  public isCreated(name: string): boolean {\r\n    if (this._context[name]) {\r\n      return true;\r\n    }\r\n    if (this._parent !== undefined) {\r\n      if (this._parent.find(name) !== null) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public clear(): void {\r\n    this._context = {};\r\n  }\r\n\r\n}","import { Scope } from \"./scope\";\r\nimport { Tokenizer } from \"./tokenizer\";\r\nimport { ParseError, IPosition } from \"./positions\";\r\nimport { IExpression, BinaryOperator, BinaryExpression, ConstantExpression, VeryTemplateExpression, VeryVarExpression } from \"./expressions\";\r\nimport { ExpressionType } from \"./expressionEnum\";\r\nimport { FunctionExpression } from \"./functionExpression\";\r\nimport { Token } from \"./token\";\r\nimport { IFunction, CustomFunctions } from \"./functions\";\r\nimport { Variable } from \"./variable\";\r\nimport { VariableExpression } from \"./variableExpression\";\r\nimport { VariableScope } from \"../enum\";\r\nimport { VE_Expressions } from \"./veryExpressions\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Fsm } from \"../state\";\r\n\r\n\r\n\r\nexport class VE_ExpressionParsing {\r\n\r\n  private static _bracketPair: { [key: string]: string } = {};\r\n\r\n  private static _scope: Scope;\r\n  private static _tokenizer: Tokenizer;\r\n\r\n  public static errors: ParseError[] = [];\r\n\r\n  private static _projectName: string = '';\r\n  private static _objectID: string = '';\r\n  private static _fsmID = '';\r\n\r\n  private static _varScope: VariableScope = VariableScope.Local;\r\n\r\n\r\n  public static init(): void {\r\n    this._bracketPair['('] = ')';\r\n    this._bracketPair['['] = ']';\r\n    this._bracketPair['{'] = '}';\r\n    this._bracketPair['（'] = '）';\r\n    this._bracketPair['【'] = '】';\r\n  }\r\n\r\n  public static parsing(name_id: string, input_exp: string, scope: Scope, project_name: string, object_id: string, fsm_id: string, var_scope: VariableScope): IExpression {\r\n    this._scope = scope;\r\n    this._projectName = project_name;\r\n    this._objectID = object_id;\r\n    this._fsmID = fsm_id;\r\n    this._varScope = var_scope;\r\n    input_exp = this.replace(input_exp);\r\n    // console.warn(`公式： ${input_exp}`);\r\n    this._tokenizer = new Tokenizer(input_exp);\r\n    // while(!this._tokenizer.current().isEnd()) {\r\n    //   console.log(this._tokenizer.consume());\r\n    // }\r\n    this.errors = [];\r\n    return this.parse();\r\n  }\r\n\r\n  private static replace(str: string): string {\r\n    str = str.replace(/（/g, '(');\r\n    str = str.replace(/）/g, ')');\r\n    str = str.replace(/！/g, '!');\r\n    return str;\r\n  }\r\n\r\n  private static parse(): IExpression {\r\n    let resultExp: IExpression = this.buildExpression();\r\n    // console.log(this._tokenizer.current());\r\n    if (!this._tokenizer.current().isEnd()) {\r\n      this._tokenizer.addError(this._tokenizer.current(), `未定义字符：${this._tokenizer.current().getSource()} `);\r\n      this._tokenizer.consume();\r\n    }\r\n    this.errors = this._tokenizer.getProblemCollector();\r\n    return resultExp;\r\n  }\r\n\r\n\r\n  private static buildExpression(): IExpression {\r\n    let left: IExpression = this.relationalExp();\r\n    if (this._tokenizer.current().isOperator('&&')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.buildExpression();\r\n      return this.reOrder(left, right, BinaryOperator.Add);\r\n    }\r\n    if (this._tokenizer.current().isOperator('||')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.buildExpression();\r\n      return this.reOrder(left, right, BinaryOperator.Or);\r\n    }\r\n    return left;\r\n  }\r\n\r\n\r\n  private static relationalExp(): IExpression {\r\n    let left: IExpression = this.algebraExp();\r\n    if (this._tokenizer.current().isOperator('<')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.LT);\r\n    }\r\n    if (this._tokenizer.current().isOperator('<=')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.LT_EQ);\r\n    }\r\n    if (this._tokenizer.current().isOperator('==')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.EQ);\r\n    }\r\n    if (this._tokenizer.current().isOperator('>=')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.GT_EQ);\r\n    }\r\n    if (this._tokenizer.current().isOperator('>')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.GT);\r\n    }\r\n    if (this._tokenizer.current().isOperator('!=')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.relationalExp();\r\n      return this.reOrder(left, right, BinaryOperator.NEQ);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static algebraExp(): IExpression {\r\n    let left: IExpression = this.productExp();\r\n    if (this._tokenizer.current().isOperator('+')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.algebraExp();\r\n      return this.reOrder(left, right, BinaryOperator.Add);\r\n    }\r\n    if (this._tokenizer.current().isOperator('-')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.algebraExp();\r\n      return this.reOrder(left, right, BinaryOperator.Subtract);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static productExp(): IExpression {\r\n    let left: IExpression = this.exponentExp();\r\n    if (this._tokenizer.current().isOperator('*')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.productExp();\r\n      return this.reOrder(left, right, BinaryOperator.Multiply);\r\n    }\r\n    if (this._tokenizer.current().isOperator('/')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.productExp();\r\n      return this.reOrder(left, right, BinaryOperator.Divide);\r\n    }\r\n    if (this._tokenizer.current().isOperator('%')) {\r\n      this._tokenizer.consume();\r\n      let right: IExpression = this.productExp();\r\n      return this.reOrder(left, right, BinaryOperator.Modulo);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  // TODO：这个应该是指数\r\n  private static exponentExp(): IExpression {\r\n    let left: IExpression = this.atomExp();\r\n    if (this._tokenizer.current().isOperator('!', '！')) {\r\n      left = new BinaryExpression(left, left, BinaryOperator.Not);\r\n    }\r\n    return left;\r\n  }\r\n\r\n  private static atomExp(): IExpression {\r\n    // console.warn(this._tokenizer.current());\r\n    // 处理起始为“-”\r\n    if (this._tokenizer.current().isOperator('-')) {\r\n      this._tokenizer.consume();\r\n      let result: BinaryExpression = new BinaryExpression(new ConstantExpression(0, 'number'), this.atomExp(), BinaryOperator.Subtract);\r\n      result.setSeal();\r\n      return result;\r\n    }\r\n    // 取非运算\r\n    if (this._tokenizer.current().isOperator('!', '！') && (this._tokenizer.next().isIdentifier() || this._tokenizer.next().isKeyword() || this._tokenizer.next().isStartBracket())) {\r\n      this._tokenizer.consume();\r\n      let newValue: IExpression = this.atomExp();\r\n      if (newValue.expType === 'bool') {\r\n        let notExp: BinaryExpression = new BinaryExpression(newValue, newValue, BinaryOperator.Not);\r\n        return notExp;\r\n      } else {\r\n        \r\n        this._tokenizer.addError(this._tokenizer.current(), '取非运算(!)后应跟着bool值类型！');\r\n        return ConstantExpression.Empty();\r\n      }\r\n    }\r\n    // 忽略最前面的“+”\r\n    if (this._tokenizer.current().isOperator('+') && this._tokenizer.next().isStartBracket()) {\r\n      this._tokenizer.consume();\r\n    }\r\n    // 忽略最前面的“+”\r\n    if (this._tokenizer.current().isOperator('+') && this._tokenizer.next().isConstant()) {\r\n      this._tokenizer.consume();\r\n    }\r\n    // 忽略最前面的“+”\r\n    if (this._tokenizer.current().isOperator('+') && this._tokenizer.next().isIdentifier()) {\r\n      this._tokenizer.consume();\r\n    }\r\n\r\n    // VeryVar解析，可以不允许引用其他对象的变量，这种方式可以通过全局变量来处理；\r\n    // 不允许引用模板变量中的变量，因为可能还未被创建\r\n    // √1、*变量（*模板变量只能判断null）；√2、对象.*变量（*模板变量只能判断null）；×3、*模板变量.*变量；×4、对象名.*模板变量.*变量\r\n\r\n    // 1.*变量模板判断（==null）；\r\n    // 2.对象.*变量（模板或者一般变量）；\r\n    if (this._tokenizer.current().isOperator(\"*\") && this._tokenizer.next().isIdentifier())  //捕获“*”开头的VeryVar变量，创建VeryVarExpression变量\r\n    {\r\n      this._tokenizer.consume();\r\n      let varID: string = \"*\" + this._tokenizer.current().getContents();\r\n      let varExpression: Nullable<IExpression> = VE_Expressions.getParseExpression(this._projectName, this._objectID, varID, this._varScope);\r\n      if (varExpression === null) {\r\n        // 可能为模板对象\r\n        let templateExpression: Nullable<VeryTemplateExpression> = VE_Expressions.getTemplateExpression(this._projectName, this._objectID, varID, this._varScope);\r\n        if (templateExpression === null) {\r\n          this._tokenizer.addError(this._tokenizer.current(), \"VeryVar变量名：\" + varID + \"，该VeryVar变量未定义，无法在系统中查找到，请检查！\");\r\n          this._tokenizer.consume();\r\n          return ConstantExpression.Empty();\r\n        }\r\n        else {\r\n          //UnityEngine.Debug.LogError(\"模板：\" + _tokenizer.current());\r\n          // this._tokenizer.consume();\r\n          // return templateExpression;\r\n          // TODO: 暂时不支持‘模板变量’\r\n          this._tokenizer.addError(this._tokenizer.current(), \"VeryVar变量名：\" + varID + \"，公式中不支持模板变量，请检查！\");\r\n          this._tokenizer.consume();\r\n          return ConstantExpression.Empty();\r\n        }\r\n      }\r\n      else {\r\n        this._tokenizer.consume();\r\n        return varExpression;\r\n      }\r\n    }\r\n\r\n    // 括号开始\r\n    if (this._tokenizer.current().isStartBracket()) {\r\n      let endBracket: string = this._bracketPair[this._tokenizer.consume().getTrigger()];\r\n      let result: IExpression = this.buildExpression();\r\n      if (result.className === 'BinaryExpression') {\r\n        (<BinaryExpression>result).setSeal();\r\n      }\r\n      this.expectTrigger(ExpressionType.OPERATOR, endBracket); // 括号结束处理\r\n      return result;\r\n    }\r\n    // 一些常量\r\n    if (this._tokenizer.current().isConstant()) {\r\n      let value: any;\r\n      let typeStr: string = 'string';\r\n      if (this._tokenizer.current().isBool()) {\r\n        value = this._tokenizer.current().getContents().toLowerCase() === 'true' ? true : false;\r\n        typeStr = 'bool';\r\n      } else if (this._tokenizer.current().isNumber()) {\r\n        value = parseFloat(this._tokenizer.current().getContents());\r\n        typeStr = 'number';\r\n        // console.log('常量：' + value);\r\n      } else {\r\n        value = this._tokenizer.current().getContents();\r\n        typeStr = 'string';\r\n      }\r\n      this._tokenizer.consume();\r\n      let constantExp: IExpression = new ConstantExpression(value, typeStr);\r\n      return constantExp;\r\n    }\r\n    // 变量或函数处理\r\n    if (this._tokenizer.current().isIdentifier()) {\r\n      if (this._tokenizer.next().isStartBracket()) { // 自定义函数\r\n        // 应该用递归的方式把函数算出来，当一个值处理，在这里做一全套的\r\n        let endStart: string = this._bracketPair[this._tokenizer.next().getTrigger()];\r\n        return this.functionCall(endStart);\r\n      } else { // 变量\r\n        // VryVar变量\r\n        let varValue: Variable | null;\r\n        let loc: IPosition = this._tokenizer.current();\r\n        let variableID: string = this._tokenizer.consume().getContents();\r\n        if (variableID.endsWith('.') && this._tokenizer.current().isOperator('*') && this._tokenizer.next().isIdentifier()) { // 对象.*变量\r\n          // 解析VeryVar变量，此处解析“对象.*变量名”类型\r\n          this._tokenizer.consume();\r\n          let varID: string = variableID + '*' + this._tokenizer.current().getContents();\r\n          let varExpression: Nullable<IExpression> = VE_Expressions.getParseExpression(this._projectName, this._objectID, varID, this._varScope);\r\n          if (varExpression === null) {\r\n            // TODO：暂时不支持‘模板变量’\r\n            let templateExpression: Nullable<VeryTemplateExpression> = VE_Expressions.getTemplateExpression(this._projectName, this._objectID, varID, this._varScope);\r\n            if (templateExpression === null) {\r\n              this._tokenizer.addError(loc, `VeryVar变量名：${varID}，该VeryVar变量未定义，无法在系统中查找到，请检查！`);\r\n            } else {\r\n              this._tokenizer.addError(this._tokenizer.current(), \"VeryVar变量名：\" + varID + \"，公式中不支持模板变量，请检查！\");\r\n            }\r\n            this._tokenizer.consume();\r\n            return ConstantExpression.Empty();\r\n          } else {\r\n            this._tokenizer.consume();\r\n            return varExpression;\r\n          }\r\n          // return ConstantExpression.Empty();\r\n        } else {\r\n          // 一般变量\r\n          varValue = this._scope.find(variableID);\r\n          // console.log(variableID + '  ---  ' + varValue);\r\n          if (varValue === null) {\r\n            this._tokenizer.addError(loc, `变量名：${variableID}，该变量在变量作用域中未定义，也未定义该表达式，无法识别！另外，赋值响应右侧如果是公式，不允许引用模板变量！`);\r\n            return ConstantExpression.Empty();\r\n          } else {\r\n            return new VariableExpression(varValue);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // 关键字处理，TODO：需要测试\r\n    if (this._tokenizer.current().isKeyword()) {\r\n      // this关键字处理，专用于处理状态当前状态变量\r\n      if (this._tokenizer.current().getContents().toLowerCase().trim() === \"this\") {\r\n        if (this._varScope === VariableScope.Fsm && this._fsmID !== \"\") {\r\n          // 提取状态变量\r\n          let objects: VE_Objects = VE_Manager.objects(this._projectName);\r\n          if (objects !== null) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(this._objectID);\r\n            if (veryObject != null) {\r\n              let fsm: VE_Fsm = veryObject.getFsm(this._fsmID);\r\n              if (fsm != null) {\r\n                this._tokenizer.consume();\r\n                return new VeryVarExpression(fsm.fsmVar);\r\n              }\r\n            }\r\n          }\r\n        }\r\n        this._tokenizer.addError(this._tokenizer.current(), \"关键字：this，该关键字只能使用与状态定义中的触发启动条件和状态逻辑表达式，此处超出使用范围，请检查！\");\r\n        this._tokenizer.consume();\r\n        return ConstantExpression.Empty();\r\n      }\r\n      // 暂时适用于 模板变量 == null 判断\r\n      else if (this._tokenizer.current().getContents().toLowerCase().trim() === \"null\" || this._tokenizer.current().getContents().toLowerCase().trim() === \"none\") {\r\n        //UnityEngine.Debug.LogError(\"关键字：\" + _tokenizer.current());\r\n        this._tokenizer.consume();\r\n        // TODO: 需要测试\r\n        return new VeryTemplateExpression();\r\n      }\r\n      else {\r\n        this._tokenizer.addError(this._tokenizer.current(), \"关键字：\" + this._tokenizer.current().getContents() + \"，该关键字暂无定义，请勿使用！\");\r\n        this._tokenizer.consume();\r\n        return ConstantExpression.Empty();\r\n      }\r\n    }\r\n\r\n    // 暂时没有\r\n    if (this._tokenizer.current().isSpecialIdentifier()) {\r\n      this._tokenizer.addError(this._tokenizer.current(), `特殊ID：${this._tokenizer.current().getSource()}，暂时未定义，请勿使用！`);\r\n      this._tokenizer.consume();\r\n      return ConstantExpression.Empty();\r\n    }\r\n\r\n    // 未知情况\r\n    // console.warn(this._tokenizer.current());\r\n    this._tokenizer.addError(this._tokenizer.current(), `检测到无效字符：${this._tokenizer.current().getSource()}，请检查！`);\r\n    this._tokenizer.consume();\r\n\r\n    return ConstantExpression.Empty();\r\n  }\r\n\r\n  private static reOrder(left: IExpression, right: IExpression, op: BinaryOperator): IExpression {\r\n    if (right.className === 'BinaryExpression') {\r\n      let rightOp: BinaryExpression = <BinaryExpression>right;\r\n      if (!rightOp.isSealed() && rightOp.getPriority() === rightOp.getPriorityOp(op)) {\r\n        this.replaceLeft(rightOp, left, op);\r\n        return right;\r\n      }\r\n    }\r\n    return new BinaryExpression(left, right, op);\r\n  }\r\n\r\n  private static replaceLeft(target: BinaryExpression, newLeft: IExpression, op: BinaryOperator): void {\r\n    if (target.getLeftExp().className === 'BinaryExpression') {\r\n      let leftOp: BinaryExpression = <BinaryExpression>target.getLeftExp();\r\n      if (!leftOp.isSealed() && leftOp.getPriority() === leftOp.getPriorityOp(op)) {\r\n        this.replaceLeft(leftOp, newLeft, op);\r\n        return;\r\n      }\r\n    }\r\n    target.setLeftExp(new BinaryExpression(newLeft, target.getLeftExp(), op));\r\n  }\r\n\r\n  private static functionCall(end_bracket: string): IExpression {\r\n    let call: FunctionExpression = new FunctionExpression();\r\n    let funcToken: Token = this._tokenizer.consume();\r\n    if (!CustomFunctions.hasFunction(funcToken.getContents())) {\r\n      this._tokenizer.addError(funcToken, `未定义函数：${funcToken.getContents()}！`);\r\n      return ConstantExpression.Empty();\r\n    }\r\n    let fun: IFunction = CustomFunctions.createFunction(funcToken.getContents());\r\n    call.setFunction(fun);\r\n    this._tokenizer.consume(); // 消除（\r\n    while (!this._tokenizer.current().isOperator(end_bracket) && !this._tokenizer.current().isEnd()) {\r\n      if (call.paraCount() !== 0) {\r\n        this.expectTrigger(ExpressionType.OPERATOR, ',');\r\n      }\r\n      call.addPara(this.buildExpression());\r\n    }\r\n    this.expectTrigger(ExpressionType.OPERATOR, end_bracket);\r\n    call.evaluate();\r\n    if (call.paraCount() > fun.parameterNumber() && fun.parameterNumber() >= 0) {\r\n      this._tokenizer.addError(funcToken, `函数参数不一致，当前函数：${funcToken.getContents()}，规定参数个数Max：${fun.parameterNumber()}，当前参数个数：${call.paraCount()}，请检查！`);\r\n      return ConstantExpression.Empty();\r\n    }\r\n    return call;\r\n  }\r\n\r\n  private static expectTrigger(type: ExpressionType, trigger: string): void {\r\n    if (this._tokenizer.current().matches(type, trigger)) {\r\n      this._tokenizer.consume();\r\n    } else {\r\n      this._tokenizer.addError(this._tokenizer.current(), `期望获得：${trigger}，当前值为：${this._tokenizer.current().getTrigger()}，请检查！`);\r\n    }\r\n  }\r\n\r\n  public static getProjectCollector(): ParseError[] {\r\n    return this._tokenizer.getProblemCollector();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n\r\nVE_ExpressionParsing.init();","export class BabylonEngine {\r\n  public static Canvas: HTMLCanvasElement;\r\n  public static Engine: BABYLON.Engine;\r\n  public static Scene: BABYLON.Scene;\r\n}","import { IVeryVar } from \"../variables\";\r\nimport { IExpression } from \"../expression\";\r\n\r\nexport class VE_AssignmentTypeJudge {\r\n\r\n  public static allow(first: IVeryVar, second: IVeryVar): boolean {\r\n    if (first.varType === second.varType) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static allowExpression(first: IVeryVar, second: IExpression): boolean {\r\n    if (first.varType === second.expType) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n}","\r\nexport * from \"./veryTableRow\";\r\nexport * from \"./veryTable\";\r\nexport * from \"./veryTableSet\";\r\n","\r\nexport class VeryTableRow {\r\n  public get Count(): number {\r\n    if (!this._rowData) {\r\n      return 0;\r\n    } else {\r\n      return this._rowData.length;\r\n    }\r\n  }\r\n\r\n  private _rowData: string[] = [];\r\n\r\n  constructor(row_data: string[]) {\r\n    // null或者undefined数据转为\"\"\r\n    row_data.forEach((val, index, array) => {\r\n      if(!array[index]) {\r\n        array[index] = \"\";\r\n      }\r\n    });\r\n    this._rowData = row_data;\r\n  }\r\n\r\n  /**\r\n   * 根据列序号获取表格数据\r\n   * @param column_index 列序号\r\n   */\r\n  public getData(column_index: number): string {\r\n    // if (column_index >= 0 && column_index < this.Count) {\r\n    //   return this._rowData[column_index];\r\n    // } else {\r\n    //   return undefined;\r\n    // }\r\n    return this._rowData[column_index];\r\n  }\r\n\r\n  public add(data: string): void {\r\n    this._rowData.push(data);\r\n  }\r\n\r\n  public insert(index: number, data: string): void {\r\n    // 先将数组一分为二，在第2个\r\n    this._rowData.push(data);\r\n    let tempData = this._rowData.slice(index);\r\n    tempData.push(data);\r\n    this._rowData = tempData;\r\n  }\r\n\r\n  public remove(index: number): void {\r\n    this._rowData.splice(index, 1);\r\n  }\r\n\r\n  public removeEnd(): void {\r\n    this._rowData.pop();\r\n  }\r\n\r\n  public isEmpty(): boolean {\r\n    if(!this._rowData) {\r\n      return true;\r\n    }\r\n    for(let i: number = 0; i < this._rowData.length; i++) {\r\n      if(this._rowData[i] === '' || this._rowData[i] === null || this._rowData[i] === undefined) {\r\n        continue;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // public\r\n\r\n  // public remove(index: number): any {\r\n\r\n  // }\r\n}","import { VeryTable } from '../index';\r\nimport { VE_Template, VE_Templates } from '../template';\r\nimport { VeryEngineObject, VE_Objects } from '../object';\r\nimport { VE_FsmData, VE_StateData, VE_StateTriggerData, VE_StateActionData } from '../dataSource';\r\nimport { VE_Manager } from '../manager';\r\nimport { VE_Variables, VeryVarManager } from '../variables';\r\nimport { VE_StringFormat } from '../utility';\r\nimport { VE_ErrorManager, VE_Error } from '../global';\r\nimport { StateConst } from '../state';\r\nimport { CreateInstance } from './createInstance';\r\nimport { GameObject } from '../babylon';\r\n\r\n\r\nexport enum AnalisysType { Global, Object, Template }\r\n\r\nexport class LoaderManager {\r\n\r\n  private _currentType: AnalisysType = AnalisysType.Global;\r\n\r\n  private _table!: VeryTable;\r\n\r\n  private _projectName: string = '';\r\n\r\n  private _lastFsmID: string = '';\r\n  private _lastObjectID: string = '';\r\n  private _activeTemplate: Nullable<VE_Template> = null;\r\n  private _activeObject: Nullable<VeryEngineObject> = null;\r\n  private _activeFsmData: Nullable<VE_FsmData> = null;\r\n  private _activeStateData: Nullable<VE_StateData> = null;\r\n  private _emptyLine: boolean = false;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public load(project_name: string, table: VeryTable): boolean {\r\n    this._projectName = project_name;\r\n    this._table = table;\r\n\r\n    // 初始化项目存储结构\r\n    VE_Manager.createProject(project_name);\r\n\r\n    let templates: VE_Templates = VE_Manager.templates(project_name);\r\n    let objects: VE_Objects = VE_Manager.objects(project_name);\r\n    let globalVars: VE_Variables = VE_Manager.variables(project_name);\r\n\r\n    // console.log(table);\r\n    if (table) {\r\n      for (let i: number = 1; i < table.RowCount; i++) {\r\n        // console.log(`行号：${i+1}，内容：${table.getData(i, 0)}`);\r\n        // 注释行，直接跳过\r\n        if (table.getData(i, 0).startsWith('//')) {\r\n          continue;\r\n        }\r\n        // 空行\r\n        if (table.getRow(i)!.isEmpty()) {\r\n          // console.log('空行：' + (i + 1));\r\n          // TODO：空行直接分隔状态；\r\n          this._emptyLine = true;\r\n          continue;\r\n        }\r\n        // （1）模板对象，创建\r\n        if (table.getData(i, 0).startsWith(\"模板_\")) {\r\n          this._activeFsmData = null;\r\n          this._activeStateData = null;\r\n          this._currentType = AnalisysType.Template;\r\n          let templateID = table.getData(i, 0).replace(/ /g, '').substring(3);\r\n          // TODO: 继承关系\r\n          if (templateID.indexOf(':') > -1 || templateID.indexOf('：') > -1) {\r\n\r\n          } else {\r\n            if (!VE_StringFormat.isIDLegal(templateID)) {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 0), \"模板对象名：\" + table.getData(i, 0) + \"，当前模板对象名不合法，包含非法字符，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n            if (!templates.isCreatedTemplate(templateID)) {\r\n              this._lastObjectID = templateID;\r\n              this._emptyLine = true;\r\n              let template: VE_Template = new VE_Template(project_name, templateID);\r\n              templates.addTemplate(templateID, template);\r\n              this._activeTemplate = template;\r\n            } else {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 0), \"模板对象名：\" + table.getData(i, 0) + \"，当前模板已创建，请勿使用重复的模板对象名！\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        // （2）一般对象\r\n        else if (table.getData(i, 0) !== '') {\r\n          this._activeFsmData = null;\r\n          this._activeStateData = null;\r\n          this._currentType = AnalisysType.Object;\r\n          let objectID: string = table.getData(i, 0);\r\n          let objName: string = '';\r\n          if (objectID.indexOf('=') > -1) {\r\n            let nameArray: string[] = objectID.split('=');\r\n            if (nameArray.length === 2) {\r\n              objectID = nameArray[0].trim();\r\n              objName = nameArray[1].trim();\r\n            } else {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 0), \"对象名：\" + table.getData(i, 0) + \"，当前对象名格式错误，应为“对象名”或者“对象名=场景物体名”的形式，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n\r\n          if (!VE_StringFormat.isIDLegal(objectID)) {\r\n            VE_ErrorManager.Add(VE_Error.error(table.pos(i, 0), \"对象名：\" + table.getData(i, 0) + \"，当前对象名不合法，包含非法字符，请检查！\", table.ID))\r\n            return false;\r\n          }\r\n          // 创建实际GameObject\r\n          let activeGameObject: Nullable<GameObject> = null;\r\n          if (objName === '') {\r\n            activeGameObject = new GameObject(`__${objectID}_Empty`);\r\n          } else {\r\n            activeGameObject = GameObject.Find(objName);\r\n            if (activeGameObject === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 0), \"对象名：\" + objName + \"，当前对象在场景中不存在，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n          this._lastObjectID = objectID;\r\n          this._emptyLine = true;\r\n          if (!objects.isCreated(objectID)) {\r\n            // 规范化数据存储结构，与模板对象通用\r\n            let tempObject: VeryEngineObject = new VeryEngineObject(project_name, objectID, activeGameObject);\r\n            objects.add(objectID, tempObject);\r\n            this._activeObject = tempObject;\r\n          } else {\r\n            VE_ErrorManager.Add(VE_Error.error(table.pos(i, 0), \"对象名：\" + table.getData(i, 0) + \"，当前对象已创建，请勿使用重复的对象名！\", table.ID))\r\n            return false;\r\n          }\r\n        }\r\n        // （3）变量或者单独的状态\r\n        else if (table.getData(i, 5) !== \"\" && table.getData(i, 1) === \"\" && table.getData(i, 2) === \"\" && table.getData(i, 3) === \"\" && table.getData(i, 4) === \"\" && table.getData(i, 6) === \"\" && table.getData(i, 7) === \"\" && table.getData(i, 8) === \"\") {\r\n          let paraData: string = table.getData(i, 5);\r\n          // 全局变量\r\n          if (this._currentType === AnalisysType.Global) {\r\n            this._emptyLine = true;\r\n            // 字符串加法公式咋办？双引号先不移除\r\n            let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n            if (varArray.length === 2 || varArray.length === 3) {\r\n              let varID: string = varArray[0].trim();\r\n              if (!VE_StringFormat.isIDLegal(varID)) {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"全局变量：\" + table.getData(i, 5) + \"，当前变量名不合法，包含非法字符，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n              let paraArray: string[] = [varArray[1].trim()];\r\n              if (varArray.length === 2) {\r\n                paraArray[1] = '';\r\n              } else {\r\n                paraArray[1] = varArray[2].trim();\r\n              }\r\n              if (!globalVars.varData.isCreatedVariable(varID)) {\r\n                globalVars.varData.addVariable(varID, paraArray, table.pos(i, 5));\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"全局变量：\" + table.getData(i, 5) + \"，当前全局变量名已创建，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n            } else {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"全局变量：\" + table.getData(i, 5) + \"，当前全局变量格式不正确，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n          // 状态赋值或者局部公式变量\r\n          else if (paraData.indexOf('=') > -1) {\r\n            let paraArray: string[] = paraData.split('=');\r\n            // 状态赋值\r\n            // 目前暂不考虑赋值公式中有等号的情况，赋值公式后面只能是常量或者已创建的变量\r\n            if (paraArray.length === 2 && paraArray[0].trim() === this._lastFsmID) {\r\n              this._emptyLine = false;\r\n              if (this._activeFsmData === null) {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态赋值：\" + table.getData(i, 5) + \"，当前状态不属于任何对象和模板对象，请检查！\", table.ID))\r\n                return false;\r\n              } else {\r\n                // let stateInfo: string[] = paraArray[1].trim().split(/,|，/);\r\n                // let stateIndex: number = StateConst.STATE_INDEX;\r\n                // let stateData: Nullable<VE_StateData> = null;\r\n                // if (stateInfo.length === 2) {\r\n                //   stateInfo[0] = stateInfo[0].trim();\r\n                //   stateInfo[1] = stateInfo[1].trim();\r\n                //   if (stateInfo[1].startsWith('#')) {\r\n                //     stateIndex = parseInt(stateInfo[1].substring(1));\r\n                //     if (stateIndex === NaN) {\r\n                //       VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态赋值：\" + table.getData(i, 5) + \"，状态关联ID格式错误，状态关联标志ID写法：“状态ID=赋值，#整数ID”，当前整数转化错误！\", table.ID))\r\n                //       return false;\r\n                //     }\r\n                //   } else {\r\n                //     VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态赋值：\" + table.getData(i, 5) + \"，状态关联ID格式错误，状态关联标志ID写法：“状态ID=赋值，#整数ID”，请检查！\", table.ID))\r\n                //     return false;\r\n                //   }\r\n                // }\r\n                let stateData: VE_StateData = new VE_StateData(this._activeFsmData, paraArray[1].trim(), false);\r\n                stateData.rowIndex = i;\r\n                this._activeFsmData.addState(stateData);\r\n                this._activeStateData = stateData;\r\n              }\r\n            }\r\n            // 公式变量，局部变量\r\n            else {\r\n              this._emptyLine = true;\r\n              let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n              if (varArray.length === 3) {\r\n                let varID: string = varArray[0].trim();\r\n                if (!VE_StringFormat.isIDLegal(varID)) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"变量：\" + table.getData(i, 5) + \"，当前变量名不合法，包含非法字符，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n                let para2Array: string[] = [varArray[1].trim(), varArray[2].trim()];\r\n                // 判断是模板变量，还是对象变量，注意：局部变量名与状态名也不能重合\r\n                if (this._currentType === AnalisysType.Object) {\r\n                  if (this._activeObject!.varData.isCreatedVariable(varID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"对象名：\" + this._activeObject!.objectID + \"，局部变量：\" + table.getData(i, 5) + \"，当前局部变量名已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // 状态重复判断，应该是判断未初始化的原始数据\r\n                  if (this._activeObject!.dataSource.isCreatedFsm(varID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"对象名：\" + this._activeObject!.objectID + \"，局部变量：\" + table.getData(i, 5) + \"，局部变量名不能与状态名相同，当前状态已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  this._activeObject!.varData.addVariable(varID, para2Array, table.pos(i, 5));\r\n                }\r\n                else if (this._currentType === AnalisysType.Template) {\r\n                  if (this._activeTemplate!.varData.isCreatedVariable(varID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"模板对象名：\" + this._activeTemplate!.templateID + \"，局部变量：\" + table.getData(i, 5) + \"，当前局部变量名已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // 状态重复判断，应该是判断未初始化的原始数据\r\n                  if (this._activeTemplate!.dataSource.isCreatedFsm(varID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"模板对象名：\" + table.getData(i, 5) + \"，当前局部变量所属未知，格式错误，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  this._activeTemplate!.varData.addVariable(varID, para2Array, table.pos(i, 5));\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"局部变量：\" + table.getData(i, 5) + \"，当前局部变量所属未知，格式错误，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"局部公式变量：\" + table.getData(i, 5) + \"，当前局部公式变量格式不正确，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          // 局部变量，一般变量，模板变量或者公式变量\r\n          else {\r\n            this._emptyLine = true;\r\n            let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n            if (varArray.length === 2 || varArray.length === 3) {\r\n              let varID: string = varArray[0].trim();\r\n              if (!VE_StringFormat.isIDLegal(varID)) {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"变量：\" + table.getData(i, 5) + \"，当前变量名不合法，包含非法字符，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n              let paraArray: string[] = [varArray[1].trim()];\r\n              if (varArray.length === 2) {\r\n                paraArray[1] = '';\r\n              } else {\r\n                paraArray[1] = varArray[2].trim();\r\n              }\r\n              // 判断是模板变量，还是对象变量，注意：局部变量名与状态名也不能重合\r\n              if (this._currentType === AnalisysType.Object) {\r\n                if (this._activeObject!.varData.isCreatedVariable(varID)) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"对象名：\" + this._activeObject!.objectID + \"，局部变量：\" + table.getData(i, 5) + \"，当前局部变量名已创建，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n                // 状态重复判断，应该是判断未初始化的原始数据\r\n                if (this._activeObject!.dataSource.isCreatedFsm(varID)) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"对象名：\" + this._activeObject!.objectID + \"，局部变量：\" + table.getData(i, 5) + \"，局部变量名不能与状态名相同，当前状态已创建，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n                this._activeObject!.varData.addVariable(varID, paraArray, table.pos(i, 5));\r\n              }\r\n              else if (this._currentType === AnalisysType.Template) {\r\n                if (this._activeTemplate!.varData.isCreatedVariable(varID)) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"模板对象名：\" + this._activeTemplate!.templateID + \"，局部变量：\" + table.getData(i, 5) + \"，当前局部变量名已创建，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n                // 状态重复判断，应该是判断未初始化的原始数据\r\n                if (this._activeTemplate!.dataSource.isCreatedFsm(varID)) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"模板对象名：\" + this._activeTemplate!.templateID + \"，局部变量：\" + table.getData(i, 5) + \"，局部变量名不能与状态名相同，当前状态已创建，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n                this._activeTemplate!.varData.addVariable(varID, paraArray, table.pos(i, 5));\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"局部变量：\" + table.getData(i, 5) + \"，当前局部变量所属未知，格式错误，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n            } else {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"局部变量：\" + table.getData(i, 5) + \"，当前局部变量格式不正确，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        // （4）状态 + 触发 + 条件 + 响应 + 关联状态，多种复合情况\r\n        else {\r\n          // 状态解析\r\n          let hasState: boolean = false;\r\n          let paraData: string = table.getData(i, 5);\r\n          if (paraData !== '') {\r\n            hasState = true;\r\n            this._emptyLine = false;\r\n          }\r\n          // 空行分隔新状态\r\n          else {\r\n            if (this._emptyLine) {\r\n              this._emptyLine = false;\r\n              hasState = true;\r\n              paraData = (this._lastObjectID + '_空状态_' + StateConst.StateCount++) + ',' + StateConst.STATE_VALUE;\r\n            }\r\n          }\r\n\r\n          // 状态解析，状态值只能为string字符串，非空行，且状态为空，跳过状态解析\r\n          if (hasState) {\r\n            // 状态赋值\r\n            if (paraData.indexOf('=') > -1) {\r\n              let stateArray: string[] = paraData.split('=');\r\n              let fsmID: string = stateArray[0].trim();\r\n              // 状态\r\n              if (stateArray.length === 2 && fsmID === this._lastFsmID) {\r\n                if (this._activeFsmData === null) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态赋值：\" + table.getData(i, 5) + \"，当前状态不属于任何对象和模板对象，请检查！\", table.ID))\r\n                  return false;\r\n                } else {\r\n                  // let stateIndex: number = StateConst.STATE_INDEX;\r\n                  let stateData: VE_StateData = new VE_StateData(this._activeFsmData, stateArray[1].trim(), false);\r\n                  stateData.rowIndex = i;\r\n                  this._activeFsmData.addState(stateData);\r\n                  this._activeStateData = stateData;\r\n                }\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态赋值：\" + table.getData(i, 5) + \"，状态名：\" + fsmID + \"，当前状态未定义，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n            // 创建状态机\r\n            else {\r\n              let varArray: string[] = VE_StringFormat.paraSegment(paraData);\r\n              if (varArray.length === 2) {\r\n                let fsmID: string = varArray[0].trim();\r\n                if (!VE_StringFormat.isIDLegal(fsmID)) {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态名：\" + table.getData(i, 5) + \"，当前状态名不合法，包含非法字符，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n                varArray[1] = varArray[1].trim();\r\n                this._lastFsmID = fsmID;\r\n                // let stateIndex: number = StateConst.STATE_INDEX;\r\n                // 判断是模板状态，还是对象状态，注意：局部变量名与状态名也不能重合\r\n                if (this._currentType === AnalisysType.Object) {\r\n                  if (this._activeObject!.varData.isCreatedVariable(fsmID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"对象名：\" + this._lastObjectID + \"，状态名：\" + fsmID + \"，状态名与局部变量名不能相同，当前局部变量已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // 状态重复判断，应该是判断未初始化的原始数据\r\n                  if (this._activeObject!.dataSource.isCreatedFsm(fsmID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"对象名：\" + this._lastObjectID + \"，状态名：\" + fsmID + \"，当前状态已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // 创建状态机数据\r\n                  this._activeObject!.dataSource.createFsm(fsmID, table.pos(i, 5));\r\n                  this._activeFsmData = this._activeObject!.dataSource.getFsmData(fsmID);\r\n                  // 初始化状态机\r\n                  this._activeFsmData.initFsm('string', varArray[1]);\r\n                  // 创建具体状态\r\n                  let stateData: VE_StateData = new VE_StateData(this._activeFsmData, varArray[1], true);\r\n                  stateData.rowIndex = i;\r\n                  this._activeFsmData.addState(stateData);\r\n                  this._activeStateData = stateData;\r\n                }\r\n                else if (this._currentType === AnalisysType.Template) {\r\n                  if (this._activeTemplate!.varData.isCreatedVariable(fsmID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"模板对象名：\" + this._lastObjectID + \"，状态名：\" + fsmID + \"，状态名与局部变量名不能相同，当前局部变量已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // 状态重复判断，应该是判断未初始化的原始数据\r\n                  if (this._activeTemplate!.dataSource.isCreatedFsm(fsmID)) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"模板对象名：\" + this._lastObjectID + \"，状态名：\" + fsmID + \"，当前状态已创建，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  // 创建状态机数据\r\n                  this._activeTemplate!.dataSource.createFsm(fsmID, table.pos(i, 5));\r\n                  this._activeFsmData = this._activeTemplate!.dataSource.getFsmData(fsmID);\r\n                  // 初始化状态机\r\n                  this._activeFsmData.initFsm('string', varArray[1]);\r\n                  // 创建具体状态\r\n                  let stateData: VE_StateData = new VE_StateData(this._activeFsmData, varArray[1], true);\r\n                  stateData.rowIndex = i;\r\n                  this._activeFsmData.addState(stateData);\r\n                  this._activeStateData = stateData;\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"局部变量：\" + table.getData(i, 5) + \"，当前局部变量所属未知，格式错误，请检查！\", table.ID))\r\n                  return false;\r\n                }\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 5), \"状态：\" + table.getData(i, 5) + \"，当前状态格式不正确，应为“状态名，状态值”的形式，请检查！\", table.ID));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n\r\n          // 触发解析\r\n          if (table.getData(i, 2) !== '' || table.getData(i, 3) !== '') {\r\n            if (this._activeFsmData === null || this._activeStateData === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 2), \"触发：\" + table.getData(i, 2) + \"，当前触发不属于任何对象和模板对象，请检查！\", table.ID));\r\n              return false;\r\n            }\r\n            // 触发定义不为空，则加入到DataSource中，并且判断重复性\r\n            let triggerID: string = table.getData(i, 2);\r\n            if (table.getData(i, 2) === '') {\r\n              triggerID = this._lastObjectID + '_' + this._lastFsmID + '_空触发_' + StateConst.TriggerCount++;\r\n            }\r\n            let idTemp: string = triggerID.replace(/./g, '');\r\n            if (!VE_StringFormat.isIDLegal(idTemp)) {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 2), \"触发名：\" + table.getData(i, 2) + \"，当前触发名不合法，包含非法字符，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n\r\n            if (table.getData(i, 3) !== '') {\r\n              if (!this._activeFsmData!.dataSource.isCreatedTrigger(triggerID)) {\r\n                this._activeFsmData!.dataSource.addTrigger(triggerID, VE_StringFormat.paraSegment(table.getData(i, 3)), table.pos(i, 2));\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 2), \"触发：\" + table.getData(i, 2) + \"，当前触发已在该对象中定义，请勿重复定义，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n\r\n            // 触发数据加入StateData中\r\n            let triggerData: VE_StateTriggerData = new VE_StateTriggerData(triggerID);\r\n            this._activeStateData.addTrigger(triggerData, table.pos(i, 2));\r\n\r\n            // 触发启动条件\r\n            if (table.getData(i, 1) !== '') {\r\n              triggerData.logicalSwitch = table.getData(i, 1);\r\n            }\r\n\r\n            // 触发逻辑条件\r\n            if (table.getData(i, 4) !== '') {\r\n              triggerData.logicalExp = table.getData(i, 4);\r\n            }\r\n          } else {\r\n            // 触发启动条件\r\n            if (table.getData(i, 1) !== '') {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 1), \"触发启动条件：\" + table.getData(i, 1) + \"，当前无触发，请勿定义触发启动条件，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n\r\n            // 关联状态逻辑条件 --- 保留！！！！\r\n            if (table.getData(i, 4) !== '') {\r\n              if (this._activeFsmData === null || this._activeStateData === null) {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 4), \"状态逻辑条件：\" + table.getData(i, 4) + \"，当前状态逻辑条件不属于任何对象和模板对象，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n              if (this._activeStateData.logicalExp !== '') {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 4), \"状态逻辑条件：\" + table.getData(i, 4) + \"，在状态的某个值中，无触发的状态逻辑条件只能填写1个，作为关联状态的逻辑条件，此处为第2个，不符合规则，请检查！\", table.ID))\r\n                return false;\r\n              } else {\r\n                this._activeStateData.logicalExp = table.getData(i, 4);\r\n              }\r\n            }\r\n\r\n            // if (table.getData(i, 3) !== '') {\r\n            //   VE_ErrorManager.Add(VE_Error.warning(table.pos(i, 3), \"触发参数：\" + table.getData(i, 3) + \"，该处无触发定义，但是填写了触发参数，请检查！\", table.ID))\r\n            // }\r\n          }\r\n\r\n          // 响应解析\r\n          if (table.getData(i, 6) !== '' || table.getData(i, 7) !== '') {\r\n            if (this._activeFsmData === null || this._activeStateData === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 6), \"响应：\" + table.getData(i, 6) + \"，当前响应不属于任何对象和模板对象，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n\r\n            // 分3种类型，合成2种\r\n            if (table.getData(i, 7) !== '') {\r\n              // 响应定义（有响应名或为空）、变量赋值、log调试；\r\n              let tempStr: string = table.getData(i, 7).toLowerCase();\r\n              if (tempStr.startsWith('log(') || tempStr.startsWith('log（') || tempStr.startsWith('调试（') || tempStr.startsWith('调试(')) {\r\n                let newActionID: string = project_name + '__log__' + StateConst.LogCount++;\r\n                let actionData: VE_StateActionData = new VE_StateActionData(newActionID, 'true', 'false');\r\n                this._activeStateData.addAction(actionData, table.pos(i, 7));\r\n                let actionPara: string = table.getData(i, 7).substring(4);\r\n                if (tempStr.startsWith('调试')) {\r\n                  actionPara = table.getData(i, 7).substring(3);\r\n                }\r\n                this._activeFsmData.dataSource.addAction(newActionID, ['调试', '调试', actionPara.substring(0, actionPara.length - 1)], ['true', 'false'], table.pos(i, 7));\r\n                if (table.getData(i, 6) !== '') {\r\n                  VE_ErrorManager.Add(VE_Error.warning(table.pos(i, 6), \"响应名：\" + table.getData(i, 6) + \"，该处不应该再有响应定义，但是填写了响应名，请检查！\", table.ID))\r\n                }\r\n              }\r\n              else if (tempStr.startsWith('error(') || tempStr.startsWith('error（') || tempStr.startsWith('错误（') || tempStr.startsWith('错误(')) {\r\n                let newActionID: string = project_name + '__log__' + StateConst.LogCount++;\r\n                let actionData: VE_StateActionData = new VE_StateActionData(newActionID, 'true', 'false');\r\n                this._activeStateData.addAction(actionData, table.pos(i, 7));\r\n                let actionPara: string = table.getData(i, 7).substring(6);\r\n                if (tempStr.startsWith('错误')) {\r\n                  actionPara = table.getData(i, 7).substring(3);\r\n                }\r\n                this._activeFsmData.dataSource.addAction(newActionID, ['调试', '错误', actionPara.substring(0, actionPara.length - 1)], ['true', 'false'], table.pos(i, 7));\r\n                if (table.getData(i, 6) !== '') {\r\n                  VE_ErrorManager.Add(VE_Error.warning(table.pos(i, 6), \"响应名：\" + table.getData(i, 6) + \"，该处不应该再有响应定义，但是填写了响应名，请检查！\", table.ID))\r\n                }\r\n              }\r\n              else if (tempStr.startsWith('warn(') || tempStr.startsWith('warn（') || tempStr.startsWith('警告（') || tempStr.startsWith('警告(')) {\r\n                let newActionID: string = project_name + '__log__' + StateConst.LogCount++;\r\n                let actionData: VE_StateActionData = new VE_StateActionData(newActionID, 'true', 'false');\r\n                this._activeStateData.addAction(actionData, table.pos(i, 7));\r\n                let actionPara: string = table.getData(i, 7).substring(5);\r\n                if (tempStr.startsWith('警告')) {\r\n                  actionPara = table.getData(i, 7).substring(3);\r\n                }\r\n                this._activeFsmData.dataSource.addAction(newActionID, ['调试', '警告', actionPara.substring(0, actionPara.length - 1)], ['true', 'false'], table.pos(i, 7));\r\n                if (table.getData(i, 6) !== '') {\r\n                  VE_ErrorManager.Add(VE_Error.warning(table.pos(i, 6), \"响应名：\" + table.getData(i, 6) + \"，该处不应该再有响应定义，但是填写了响应名，请检查！\", table.ID))\r\n                }\r\n              }\r\n              else {\r\n                // 响应ID\r\n                let actionArray: string[] = VE_StringFormat.paraSegment(table.getData(i, 7));\r\n                // TODO：分辨是变量赋值 还是 响应参数\r\n                // 允许“=”后面直接赋值 公式\r\n                if (actionArray.length === 1 && actionArray[0].indexOf('=') > -1) {\r\n                  if (table.getData(i, 6) !== '') {\r\n                    VE_ErrorManager.Add(VE_Error.warning(table.pos(i, 6), \"响应名：\" + table.getData(i, 6) + \"，该处不应该再有响应定义，但是填写了响应名，请检查！\", table.ID))\r\n                  }\r\n\r\n                  // 允许“=”后面直接赋值 公式\r\n                  let equalIndex: number = table.getData(i, 7).indexOf('=');\r\n                  let actionData: VE_StateActionData = new VE_StateActionData('');\r\n                  actionData.setAssignmentAction(table.getData(i, 7), table.getData(i, 7).substring(0, equalIndex).trim(), table.getData(i, 7).substring(equalIndex + 1).trim());\r\n                  this._activeStateData.addAction(actionData, table.pos(i, 7));\r\n                } else {\r\n\r\n                  let actionNames: string[];\r\n                  if (table.getData(i, 6) !== '') {\r\n                    actionNames = VE_StringFormat.paraSegment(table.getData(i, 6));\r\n                  } else {\r\n                    actionNames = [this._lastObjectID + '_' + this._lastFsmID + '_空响应_' + StateConst.ActionCount++, 'true', 'false', 'false'];\r\n                  }\r\n\r\n                  // console.log(actionArray);\r\n                  if (actionNames.length === 2 || actionNames.length === 3 || actionNames.length === 4) {\r\n                    let actionData: VE_StateActionData;\r\n                    if (actionNames.length === 2) {\r\n                      actionData = new VE_StateActionData(actionNames[0], actionNames[1]);\r\n                    } else if (actionNames.length === 3) {\r\n                      actionData = new VE_StateActionData(actionNames[0], actionNames[1], actionNames[2]);\r\n                    } else {\r\n                      actionData = new VE_StateActionData(actionNames[0], actionNames[1], actionNames[2], actionNames[3]);\r\n                    }\r\n                    this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n                  } else {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 6), \"响应：\" + table.getData(i, 6) + \"，响应格式不正确，应为“响应ID，启动标志（bool），每帧运行标志（bool）”的形式，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n\r\n                  // 响应定义\r\n                  if (!VE_StringFormat.isIDLegal(actionNames[0])) {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 6), \"响应名：\" + table.getData(i, 6) + \"，当前响应名不合法，包含非法字符，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                  if (!this._activeFsmData.dataSource.isCreatedAction(actionNames[0])) {\r\n                    if (actionNames.length == 2) {\r\n                      this._activeFsmData.dataSource.addAction(actionNames[0], VE_StringFormat.paraSegment(table.getData(i, 7)), [actionNames[1], 'false'], table.pos(i, 6));\r\n                    } else {\r\n                      this._activeFsmData.dataSource.addAction(actionNames[0], VE_StringFormat.paraSegment(table.getData(i, 7)), [actionNames[1], actionNames[2]], table.pos(i, 6));\r\n                    }\r\n                  } else {\r\n                    VE_ErrorManager.Add(VE_Error.error(table.pos(i, 6), \"响应：\" + table.getData(i, 6) + \"，当前响应已在该对象中定义，请勿重复定义，请检查！\", table.ID))\r\n                    return false;\r\n                  }\r\n                }\r\n              }\r\n            } else {\r\n              // 响应名引用；\r\n              let actionArray: string[] = VE_StringFormat.paraSegment(table.getData(i, 6));\r\n              // console.log(actionArray);\r\n              if (actionArray.length === 2 || actionArray.length === 3 || actionArray.length === 4) {\r\n                let actionData: VE_StateActionData;\r\n                if (actionArray.length === 2) {\r\n                  actionData = new VE_StateActionData(actionArray[0], actionArray[1]);\r\n                } else if (actionArray.length === 3) {\r\n                  actionData = new VE_StateActionData(actionArray[0], actionArray[1], actionArray[2]);\r\n                } else {\r\n                  actionData = new VE_StateActionData(actionArray[0], actionArray[1], actionArray[2], actionArray[3]);\r\n                }\r\n                this._activeStateData.addAction(actionData, table.pos(i, 6));\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(table.pos(i, 6), \"响应：\" + table.getData(i, 6) + \"，响应格式不正确，应为“响应ID，启动标志（bool），每帧运行标志（bool）”的形式，请检查！\", table.ID))\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n\r\n          // 关联状态解析\r\n          if (table.getData(i, 8) !== '') {\r\n            if (this._activeFsmData === null || this._activeStateData === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(table.pos(i, 8), \"关联状态：\" + table.getData(i, 8) + \"，当前关联状态不属于任何对象和模板对象，请检查！\", table.ID))\r\n              return false;\r\n            }\r\n            this._activeStateData!.addAssociatedState(table.getData(i, 8), table.pos(i, 8));\r\n          }\r\n        }\r\n      }\r\n\r\n      return CreateInstance.createProject(project_name);\r\n    } else {\r\n      VE_ErrorManager.Add(VE_Error.error('', '表格内容不存在，引擎无法启动！', 'null'));\r\n      return false;\r\n    }\r\n\r\n  }\r\n\r\n\r\n}","import { VE_DataSource, VE_StateData } from \"./index\";\r\n\r\nexport class VE_FsmData {\r\n  public get dataSource(): VE_DataSource {\r\n    return this._dataSource;\r\n  }\r\n  private _dataSource: VE_DataSource;\r\n\r\n  public get fsmID(): string {\r\n    return this._fsmID;\r\n  }\r\n  private _fsmID: string;\r\n\r\n  public get fsmType(): string {\r\n    return this._fsmType;\r\n  }\r\n  private _fsmType: string = '';\r\n\r\n  public get initialValStr(): string {\r\n    return this._initialValStr;\r\n  }\r\n  private _initialValStr: string = '';\r\n\r\n  private _states: VE_StateData[] = [];\r\n\r\n  public get count(): number {\r\n    return this._states.length;\r\n  }\r\n\r\n  constructor(fsm_id: string, data_source: VE_DataSource) {\r\n    this._dataSource = data_source;\r\n    this._fsmID = fsm_id;\r\n  }\r\n\r\n  public initFsm(fsm_type: string, initial_var: string): void {\r\n    this._fsmType = fsm_type;\r\n    this._initialValStr = initial_var;\r\n  }\r\n\r\n  public addState(state_data: VE_StateData): void {\r\n    this._states.push(state_data);\r\n  }\r\n\r\n  public getStateData(index: number): VE_StateData {\r\n    return this._states[index];\r\n  }\r\n\r\n}","/**字典数据结构类 */\r\nexport class Dictionary<KT, VT> {\r\n  private _keys: KT[] = [];\r\n  private _values: VT[] = [];\r\n  public get count(): number {\r\n    return this.Count();\r\n  }\r\n\r\n  public constructor() {\r\n  }\r\n\r\n  /**给字典增加一条数据,返回字典的长度 */\r\n  public Add(key: any, value: any): number {\r\n    this._keys.push(key);\r\n    return this._values.push(value);\r\n  }\r\n\r\n  public Remove(key: any) {\r\n    var index = this._keys.indexOf(key, 0);\r\n    this._keys.splice(index, 1);\r\n    this._values.splice(index, 1);\r\n  }\r\n\r\n  private Count(): number {\r\n    return this._keys.length;\r\n  }\r\n\r\n  /**直接使用SetValue()修改已经存在的字典数据项 */\r\n  public SetValue(key: any, value: any): boolean {\r\n    var index = this._keys.indexOf(key, 0);\r\n    if (index != -1) {\r\n      this._keys[index] = key;\r\n      this._values[index] = value;\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n\t/**\r\n\t *返回字典数据；\r\n\t */\r\n  public GetValue(key: KT): VT | null {\r\n    var index = this._keys.indexOf(key, 0);\r\n    if (index != -1) {\r\n      return this._values[index];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public ContainsKey(key: any): boolean {\r\n    let ks = this._keys;\r\n    for (let i = 0; i < ks.length; ++i) {\r\n      if (ks[i] == key) {\r\n        return true;;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public GetKeys(): KT[] {\r\n    return this._keys;\r\n  }\r\n\r\n  public GetValues(): VT[] {\r\n    return this._values;\r\n  }\r\n}","export class ErrorInfo {\r\n\r\n  public isRight: boolean = true;\r\n  public message: string = '';\r\n\r\n  constructor() {\r\n    \r\n  }\r\n\r\n  public clear(): void {\r\n    this.isRight = true;\r\n    this.message = '';\r\n  }\r\n\r\n}","import { IExpression } from \"./expressions\";\r\nimport { ShowError } from \"../html\";\r\nimport { VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { Severity } from \"../enum\";\r\n\r\nexport interface IFunction {\r\n  expType: string;\r\n  className: string;\r\n  parameterNumber(): number;\r\n  evaluate(args: Array<IExpression>): any;\r\n}\r\n\r\nexport class Pow implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'pow';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 2;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.pow(args[0].evaluate(), args[1].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Pow函数参数错误，参数1类型：${args[0].expType}，参数1值：${args[0].evaluate()}，参数2类型：${args[1].expType}，参数2值：${args[1].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Ln implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'ln';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.log(args[0].evaluate());\r\n    if (value === NaN || value === Infinity) {\r\n      ShowError.showError(`表达式编译错误：Ln函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Lg implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'lg';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.log10(args[0].evaluate());\r\n    if (value === NaN || value === Infinity) {\r\n      ShowError.showError(`表达式编译错误：Lg函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Sqrt implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'sqrt';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.sqrt(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Sqrt函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Abs implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'abs';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.abs(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Abs函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Random implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'random';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 2;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let start: number = args[0].evaluate();\r\n    let distance: number = args[1].evaluate() - args[0].evaluate();\r\n    let value: number = Math.random() * distance + start;\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Random函数参数错误，参数1类型：${args[0].expType}，参数1值：${args[0].evaluate()}，参数2类型：${args[1].expType}，参数2值：${args[1].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Round implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'round';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.round(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Round函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Sin implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'sin';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.sin(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Sin函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ASin implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'asin';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.asin(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：ASin函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Cos implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'cos';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.cos(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Cos函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ACos implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'acos';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.acos(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：ACos函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class Tan implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'tan';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.tan(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：Tan函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\nexport class ATan implements IFunction {\r\n\r\n  public get expType(): string {\r\n    return 'number';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'atan';\r\n  }\r\n\r\n  public parameterNumber(): number {\r\n    return 1;\r\n  }\r\n\r\n  public evaluate(args: IExpression[]): any {\r\n    let value: number = Math.atan(args[0].evaluate());\r\n    if (value === NaN) {\r\n      ShowError.showError(`表达式编译错误：ATan函数参数错误，参数类型：${args[0].expType}，参数值：${args[0].evaluate()}，请检查！`);\r\n      return undefined;\r\n    } else {\r\n      return value;\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport class CustomFunctions {\r\n\r\n  // private static _functions: {[key:string]: IFunction} = {};\r\n\r\n  private static _functionsDic: { [key: string]: Function } = {};\r\n\r\n  public static hasFunction(func_name: string): boolean {\r\n    func_name = func_name.toLowerCase();\r\n    if (this._functionsDic[func_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // public static addFunction(func: IFunction): void {\r\n  //   let funcName: string = func.className.toLowerCase();\r\n  //   if(this._functions[funcName]) {\r\n  //     ShowError.showError(`自定义函数初始化错误，函数ID重复，当前函数ID：${funcName}，请为当前自定义函数重新分配ID！`);\r\n  //   } else {\r\n  //     this._functions[funcName] = func;\r\n  //   }\r\n  // }\r\n\r\n  public static addFunction(func: Function): void {\r\n    let tempFunc: any = new func.prototype.constructor();\r\n    let funcName: string = tempFunc.className.toLowerCase();\r\n    if (this._functionsDic[funcName]) {\r\n      VE_ErrorManager.Add(new VE_Error('', `自定义函数初始化错误，函数ID重复，当前函数ID：${tempFunc.className}，请为当前自定义函数重新分配ID！`, '', Severity.Error));\r\n    } else {\r\n      this._functionsDic[funcName] = func;\r\n    }\r\n  }\r\n\r\n  public static createFunction(func_name: string): IFunction {\r\n    let tempFunc: any = new this._functionsDic[func_name.trim().toLowerCase()].prototype.constructor();\r\n    return <IFunction>tempFunc;\r\n  }\r\n\r\n  public static remove(func_name: string): void {\r\n    func_name = func_name.toLowerCase();\r\n    delete this._functionsDic[func_name];\r\n  }\r\n}\r\n\r\n\r\nCustomFunctions.addFunction(Pow);\r\nCustomFunctions.addFunction(Ln);\r\nCustomFunctions.addFunction(Lg);\r\nCustomFunctions.addFunction(Sqrt);\r\nCustomFunctions.addFunction(Abs);\r\nCustomFunctions.addFunction(Random);\r\nCustomFunctions.addFunction(Round);\r\nCustomFunctions.addFunction(Sin);\r\nCustomFunctions.addFunction(ASin);\r\nCustomFunctions.addFunction(Cos);\r\nCustomFunctions.addFunction(ACos);\r\nCustomFunctions.addFunction(Tan);\r\nCustomFunctions.addFunction(ATan);\r\n\r\n","import { IPosition } from \"./positions\";\r\n\r\nexport class ExpChar implements IPosition {\r\n\r\n  private _value: string = '';\r\n  private _line: number = 0;\r\n  private _pos: number = 0;\r\n\r\n\r\n  constructor(value: string, line: number, pos: number) {\r\n    this._value = value;\r\n    this._line = line;\r\n    this._pos = pos;\r\n  }\r\n\r\n  public getValue(): string {\r\n    return this._value;\r\n  }\r\n\r\n  public getLine(): number {\r\n    return this._line;\r\n  }\r\n\r\n  public getPos(): number {\r\n\r\n    return this._pos;\r\n  }\r\n\r\n  public isDigit(): boolean {\r\n    return (/\\d/).test(this._value);\r\n  }\r\n\r\n  public isLetterOrCharactor(): boolean {\r\n    if((/[！；：，。《》？、“”‘’（）【】￥]/).test(this._value)) {\r\n      return false;\r\n    }\r\n    var result: boolean = (/[a-zA-Z]/).test(this._value);\r\n    // 汉字等符号识别\r\n    if (!result) {\r\n      result = escape(this._value).indexOf('%u') > -1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public isWhiteSpace(): boolean {\r\n    return this._value === ' ';\r\n  }\r\n\r\n  public isNewLine(): boolean {\r\n    return this._value === '\\n';\r\n  }\r\n\r\n  public isEndOfInput(): boolean {\r\n    return this._value === '\\0';\r\n  }\r\n\r\n  public is(...val: string[]): boolean {\r\n    for (let i: number = 0; i < val.length; i++) {\r\n      if (val[i] === this._value && val[i] !== '\\0') {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public toString(): string {\r\n    return this._value;\r\n  }\r\n\r\n}\r\n\r\n","import { IPosition } from \"./positions\";\r\nimport { ExpressionType } from \"./expressionEnum\";\r\nimport { ExpChar } from \"./expChar\";\r\n\r\nexport class Token implements IPosition {\r\n\r\n  public type: ExpressionType = ExpressionType.STRING;\r\n\r\n  private _source: string = '';\r\n  private _contents: string = '';\r\n  private _trigger: string = '';\r\n\r\n  private _line: number = 0;\r\n  private _pos: number = 0;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static Create(type: ExpressionType, pos: IPosition): Token {\r\n    let result: Token = new Token();\r\n    result.type = type;\r\n    result._line = pos.getLine();\r\n    result._pos = pos.getPos();\r\n    return result;\r\n  }\r\n\r\n  public static CreateAndFill(type: ExpressionType, ch: ExpChar): Token {\r\n    let result: Token = new Token();\r\n    result.type = type;\r\n    result._line = ch.getLine();\r\n    result._pos = ch.getPos();\r\n    result._contents = ch.getValue();\r\n    result._trigger = ch.getValue();\r\n    result._source = ch.toString();\r\n    return result;\r\n  }\r\n\r\n  public addToTrigger(ch: ExpChar): Token {\r\n    this._trigger += ch.getValue();\r\n    this._source += ch.getValue();\r\n    return this;\r\n  }\r\n\r\n  public addToSource(ch: ExpChar): Token {\r\n    this._source += ch.getValue();\r\n    return this;\r\n  }\r\n\r\n  public addToContentChar(ch: ExpChar): Token {\r\n    this.addToContent(ch.getValue());\r\n    return this;\r\n  }\r\n\r\n  public addToContent(ch: string): Token {\r\n    this._contents += ch;\r\n    this._source += ch;\r\n    return this;\r\n  }\r\n\r\n  public getTrigger(): string {\r\n    return this._trigger;\r\n  }\r\n\r\n  public getTokenType(): ExpressionType {\r\n    return this.type;\r\n  }\r\n\r\n  public getContents(): string {\r\n    return this._contents;\r\n  }\r\n\r\n  public getSource(): string {\r\n    return this._source;\r\n  }\r\n\r\n  public getValue(): string {\r\n    return this._source;\r\n  }\r\n\r\n  public getLine(): number {\r\n    return this._line;\r\n  }\r\n\r\n  public getPos(): number {\r\n    return this._pos;\r\n  }\r\n\r\n  public setTokenType(new_type: ExpressionType): void {\r\n    this.type = new_type;\r\n  }\r\n\r\n  public setTrigger(trigger: string): void {\r\n    this._trigger = trigger;\r\n  }\r\n\r\n  public setContent(content: string): void {\r\n    this._contents = content;\r\n  }\r\n\r\n  public setSource(source: string): void {\r\n    this._source = source;\r\n  }\r\n\r\n  public isEnd(): boolean {\r\n    return this.type === ExpressionType.EOI;\r\n  }\r\n\r\n  public is(type: ExpressionType): boolean {\r\n    return this.type === type;\r\n  }\r\n\r\n  public matches(type: ExpressionType, trigger: string): boolean {\r\n    if (!this.is(type)) {\r\n      return false;\r\n    }\r\n    if (trigger === '') {\r\n      return false;\r\n    }\r\n    return this.getTrigger() === trigger;\r\n  }\r\n\r\n  public isOperator(...symbols: string[]): boolean {\r\n    if (symbols.length === 0) {\r\n      return this.is(ExpressionType.OPERATOR);\r\n    }\r\n    for (let i: number = 0; i < symbols.length; i++) {\r\n      if (this.matches(ExpressionType.OPERATOR, symbols[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isStartBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '(' || this._trigger === '（') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isEndBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === ')' || this._trigger === '）') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isStartSquareBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '[' || this._trigger === '【') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isEndSquareBracket(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === ']' || this._trigger === '】') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isStartBrace(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '{') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isEndBrace(): boolean {\r\n    if (this.is(ExpressionType.OPERATOR)) {\r\n      if (this._trigger === '}') {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isKeyword(...keywords: string[]): boolean {\r\n    if (keywords.length === 0) {\r\n      return this.is(ExpressionType.KEYWORD);\r\n    }\r\n    for (let i: number = 0; i < keywords.length; i++) {\r\n      if (this.matches(ExpressionType.KEYWORD, keywords[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isIdentifier(...values: string[]): boolean {\r\n    if (values.length === 0) {\r\n      return this.is(ExpressionType.ID);\r\n    }\r\n    for (let i: number = 0; i < values.length; i++) {\r\n      if (this.matches(ExpressionType.ID, values[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isSpecialIdentifier(...triggers: string[]): boolean {\r\n    if (triggers.length === 0) {\r\n      return this.is(ExpressionType.SPECIAL_ID);\r\n    }\r\n    for (let i: number = 0; i < triggers.length; i++) {\r\n      if (this.matches(ExpressionType.SPECIAL_ID, triggers[i])) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isSpecialIdentifierWithContent(trigger: string, ...contents: string[]): boolean {\r\n    if (!this.matches(ExpressionType.SPECIAL_ID, trigger)) {\r\n      return false;\r\n    }\r\n    if (contents.length === 0) {\r\n      return true;\r\n    }\r\n    for (let i: number = 0; i < contents.length; i++) {\r\n      if (this.getContents() === contents[i]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public isNumber(): boolean {\r\n    return this.is(ExpressionType.NUMBER);\r\n  }\r\n\r\n  public isBool(): boolean {\r\n    return this.is(ExpressionType.BOOL);\r\n  }\r\n\r\n  public isString(): boolean {\r\n    return this.is(ExpressionType.STRING);\r\n  }\r\n\r\n  public isConstant(): boolean {\r\n    return this.isNumber() || this.isBool() || this.isString();\r\n  }\r\n\r\n  public toString(): string {\r\n    return this.getTokenType().toString() + ': ' + this.getContents() + ' (' + this._line + ': ' + this._pos + '), Trigger: ' + this.getTrigger();\r\n  }\r\n\r\n\r\n\r\n\r\n}","import { ForwardQuery } from \"./forwardQuery\";\r\nimport { Token } from \"./token\";\r\nimport { TokenReader } from \"./tokenReader\";\r\nimport { ExpressionType } from \"./expressionEnum\";\r\nimport { ParseError, IPosition } from \"./positions\";\r\nimport { ExpChar } from \"./expChar\";\r\n\r\nexport class Tokenizer extends ForwardQuery<Token> {\r\n\r\n  private _inputExp: TokenReader;\r\n\r\n  private _decimalSeparator: string = '.';\r\n  private _lineComment: string = '//';\r\n  private _blockCommentStart: string = '/*';\r\n  private _blockCommentEnd: string = '*/';\r\n  private _brackets: string[] = ['(', ')', '（', '）', '[', ']', '{', '}', '【', '】'];\r\n  private _treatSinglePipeAsBracket: boolean = true;\r\n  private _specialIdStarters: string[] = [];\r\n  private _specialIdTerminators: string[] = [];\r\n  private _keywords: { [key: string]: string } = {};\r\n  private _keywordsCaseSensitive: boolean = false;\r\n  private _stringDelimiters: { [key: string]: string } = {};\r\n  private _boolConstant: string[] = [];\r\n\r\n  constructor(input_exp: string) {\r\n    super();\r\n    this._inputExp = new TokenReader(input_exp);\r\n    this._stringDelimiters = {};\r\n    this._stringDelimiters['\\\"'] = '\\\\';\r\n    this._stringDelimiters['\\''] = '\\0';\r\n    this._boolConstant = [];\r\n    this._boolConstant.push('false');\r\n    this._boolConstant.push('true');\r\n    this._keywords = {};\r\n    this._keywords['this'] = 'this';\r\n    this._keywords['null'] = 'null';\r\n    this._keywords['none'] = 'none';\r\n    this._keywords['undefined'] = 'undefined';\r\n  }\r\n\r\n  public endOfInput(): Token {\r\n    return Token.CreateAndFill(ExpressionType.EOI, this._inputExp.current());\r\n  }\r\n\r\n  public fetch(): Token | undefined {\r\n    // 获取并且消除空格\r\n    while (this._inputExp.current().isWhiteSpace()) {\r\n      this._inputExp.consume();\r\n    }\r\n\r\n    // 为行尾则返回空\r\n    if (this._inputExp.current().isEndOfInput()) {\r\n      return undefined;\r\n    }\r\n\r\n    // 行注释处理\r\n    if (this.isAtStartOfLineComment(true)) {\r\n      this.skipToEndOfLine();\r\n      return this.fetch();\r\n    }\r\n\r\n    // 注释块处理\r\n    if (this.isAtStartOfBlockComment(true)) {\r\n      this.skipBlockComment();\r\n      return this.fetch();\r\n    }\r\n\r\n    // 是否以数字起始，获取常量\r\n    if (this.isAtStartOfNumber()) {\r\n      return this.fetchNumber();\r\n    }\r\n\r\n    // 是否为字母开头，获取变量和函数\r\n    if (this.isAtStartOfIdentifier()) {\r\n      return this.fetchId();\r\n    }\r\n\r\n    // 字符串常量识别\r\n    if (this._stringDelimiters[this._inputExp.current().getValue()]) {\r\n      return this.fetchString();\r\n    }\r\n\r\n    //括号处理\r\n    if (this.isAtBracket(false)) {\r\n      return Token.CreateAndFill(ExpressionType.OPERATOR, this._inputExp.consume());\r\n    }\r\n\r\n    // 检测是否在特殊字符的开头，一些特殊的ID起始标志位，像“$Test”中的“$”\r\n    if (this.isAtStartOfSpecialId()) {\r\n      return this.fetchSpecialId();\r\n    }\r\n\r\n    // 运算符处理\r\n    if (this.isOperator(this._inputExp.current())) {\r\n      return this.fetchOperator();\r\n    }\r\n\r\n    //当前输入有问题，一般不应该运行到这一步\r\n    this.problemCollector.push(ParseError.Error(this._inputExp.current(), \"无效的输入字符: \" + this._inputExp.current().getValue()));\r\n\r\n    this._inputExp.consume();\r\n    return this.fetch();\r\n  }\r\n\r\n  private fetchNumber(): Token {\r\n    let result: Token = Token.Create(ExpressionType.NUMBER, this._inputExp.current());\r\n    result.addToContentChar(this._inputExp.consume());\r\n    let hasDecimal: boolean = false;\r\n    while (this._inputExp.current().isDigit() || this._inputExp.current().is(this._decimalSeparator)) {\r\n      if (this._inputExp.current().is(this._decimalSeparator)) {\r\n        if (hasDecimal) {\r\n          this.problemCollector.push(ParseError.Error(this._inputExp.current(), \"公式中有多个小数点！\"));\r\n        }\r\n        hasDecimal = true;\r\n        result.addToContentChar(this._inputExp.consume());\r\n      } else {\r\n        result.addToContentChar(this._inputExp.consume());\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  private fetchId(): Token {\r\n    let result: Token = Token.Create(ExpressionType.ID, this._inputExp.current());\r\n    result.addToContentChar(this._inputExp.consume());\r\n    while (this.isIdentifierChar(this._inputExp.current())) {\r\n      result.addToContentChar(this._inputExp.consume());\r\n    }\r\n    //UnityEngine.Debug.LogWarning(result.GetContents());\r\n    if (!this._inputExp.current().isEndOfInput() && this._specialIdTerminators.indexOf(this._inputExp.current().getValue()) > -1) {\r\n      let specialId: Token = Token.Create(ExpressionType.SPECIAL_ID, result);\r\n      specialId.setTrigger(this._inputExp.current().getValue());\r\n      specialId.setContent(result.getContents());\r\n      specialId.setSource(result.getContents());\r\n      specialId.addToSource(this._inputExp.current());\r\n      this._inputExp.consume();\r\n      return this.handleKeywords(specialId);\r\n    }\r\n    return this.handleKeywords(result);\r\n  }\r\n\r\n  private fetchString(): Token {\r\n    //读进来的分词标志\r\n    let separator: string = this._inputExp.current().getValue();\r\n    //字典中对应的分词标志\r\n    //char escapeChar = _stringDelimiters[_inputExp.current().GetValue()];\r\n    let result: Token = Token.Create(ExpressionType.STRING, this._inputExp.current());\r\n    result.addToTrigger(this._inputExp.consume());\r\n    while (!this._inputExp.current().isNewLine() && !this._inputExp.current().is(separator) && !this._inputExp.current().isEndOfInput()) {\r\n      result.addToContentChar(this._inputExp.consume());\r\n    }\r\n    if (this._inputExp.current().is(separator)) {\r\n      result.addToSource(this._inputExp.consume());\r\n    }\r\n    else {\r\n      this.problemCollector.push(ParseError.Error(this._inputExp.current(), \"常量字符串没有结束分隔符！\"));\r\n    }\r\n    return result;\r\n  }\r\n\r\n  private isAtStartOfLineComment(consume: boolean): boolean {\r\n    if (this._lineComment !== '') {\r\n      return this.canConsumeThisString(this._lineComment, consume);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private canConsumeThisString(check_string: string, consume: boolean): boolean {\r\n    for (let i: number = 0; i < check_string.length; i++) {\r\n      //利用next向后对比，看是否为行注释符“//”\r\n      if (!(this._inputExp.nextOffset(i).is(check_string[i]))) {\r\n        return false;\r\n      }\r\n    }\r\n    if (consume) {\r\n      this._inputExp.consumeNext(check_string.length);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private skipToEndOfLine(): void {\r\n    while (!this._inputExp.current().isEndOfInput() && !this._inputExp.current().isNewLine()) {\r\n      this._inputExp.consume();\r\n    }\r\n  }\r\n\r\n  private isAtStartOfBlockComment(consume: boolean): boolean {\r\n    return this.canConsumeThisString(this._blockCommentStart, consume);\r\n  }\r\n\r\n  private skipBlockComment(): void {\r\n    while (!this._inputExp.current().isEndOfInput()) {\r\n      if (this.isAtEndOfBlockComment()) {\r\n        return;\r\n      }\r\n      this._inputExp.consume();\r\n    }\r\n    this.problemCollector.push(ParseError.Error(this._inputExp.current(), '块注释没有结束符！'));\r\n  }\r\n\r\n  private isAtEndOfBlockComment(): boolean {\r\n    return this.canConsumeThisString(this._blockCommentEnd, true);\r\n  }\r\n\r\n  private isAtStartOfNumber(): boolean {\r\n    if (this._inputExp.current().isDigit()) {\r\n      return true;\r\n    } else if (this._inputExp.current().is('.') && this._inputExp.next().isDigit()) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  private isAtStartOfIdentifier(): boolean {\r\n    return this._inputExp.current().isLetterOrCharactor() || this._inputExp.current().is('_') || this._inputExp.current().is('#');\r\n  }\r\n\r\n  private isIdentifierChar(current: ExpChar): boolean {\r\n    return current.isDigit() || current.isLetterOrCharactor() || current.is('_') || current.is('.') || current.is('#') || current.is(':') || current.is('：');\r\n  }\r\n\r\n  private isAtBracket(in_symbol: boolean): boolean {\r\n    let r: boolean = true;\r\n    for (let i: number = 0; i < this._brackets.length; i++) {\r\n      if (!this._inputExp.current().is(this._brackets[i])) {\r\n        r = false;\r\n      }\r\n    }\r\n    if (r) {\r\n      return true;\r\n    }\r\n    if (!in_symbol && this._treatSinglePipeAsBracket && this._inputExp.current().is('|') && this._inputExp.next().is('|')) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  private isAtStartOfSpecialId(): boolean {\r\n    return this._specialIdStarters.indexOf(this._inputExp.current().getValue()) > -1;\r\n  }\r\n\r\n  private fetchSpecialId(): Token {\r\n    let result: Token = Token.Create(ExpressionType.SPECIAL_ID, this._inputExp.current());\r\n    result.addToTrigger(this._inputExp.consume());\r\n    while (this.isIdentifierChar(this._inputExp.current())) {\r\n      result.addToContentChar(this._inputExp.consume());\r\n    }\r\n    return this.handleKeywords(result);\r\n  }\r\n\r\n  private handleKeywords(id_token: Token): Token {\r\n    let keyword: string = \"\";\r\n    if (this._keywordsCaseSensitive) {\r\n      if (this._keywords[id_token.getContents()]) {\r\n        keyword = this._keywords[id_token.getContents()];\r\n      }\r\n    } else {\r\n      if (this._keywords[id_token.getContents().toLowerCase()]) {\r\n        keyword = this._keywords[id_token.getContents().toLowerCase()];\r\n      }\r\n    }\r\n    if (keyword != \"\") { //关键字处理\r\n      let keywordToken: Token = Token.Create(ExpressionType.KEYWORD, id_token);\r\n      keywordToken.setTrigger(keyword);\r\n      keywordToken.setContent(id_token.getContents());\r\n      keywordToken.setSource(id_token.getSource());\r\n      return keywordToken;\r\n    } else if (!id_token.is(ExpressionType.SPECIAL_ID)) { //bool类型处理\r\n      keyword = id_token.getContents().toLowerCase();\r\n      if (this._boolConstant.indexOf(keyword) > -1) {\r\n        id_token.setTokenType(ExpressionType.BOOL);\r\n      }\r\n    }\r\n    return id_token;\r\n  }\r\n\r\n  private isOperator(ch: ExpChar): boolean {\r\n    if (ch.isEndOfInput() || ch.isDigit() || ch.isLetterOrCharactor() || ch.isWhiteSpace()) {\r\n      return false;\r\n    }\r\n\r\n    // let c: string = ch.getValue();\r\n    // if (char.IsControl(c)) {\r\n    // \treturn false;\r\n    // }\r\n\r\n    if (this.isAtBracket(true) || this.isAtStartOfBlockComment(false) || this.isAtStartOfLineComment(false) || this.isAtStartOfNumber() || this.isAtStartOfIdentifier() || this._stringDelimiters[ch.getValue()]) {\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private fetchOperator(): Token {\r\n    let result: Token = Token.Create(ExpressionType.OPERATOR, this._inputExp.current());\r\n    result.addToTrigger(this._inputExp.consume());\r\n    if (result.isOperator(\"*\") && this._inputExp.current().is('*')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"&\") && this._inputExp.current().is('&')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"|\") && this._inputExp.current().is('|')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"<\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\">\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if ((result.isOperator(\"!\") || result.isOperator(\"！\")) && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    else if (result.isOperator(\"=\") && this._inputExp.current().is('=')) {\r\n      result.addToTrigger(this._inputExp.consume());\r\n    }\r\n    return result;\r\n  }\r\n\r\n  public addError(pos: IPosition, msg: string): void {\r\n    this.getProblemCollector().push(ParseError.Error(pos, msg));\r\n  }\r\n\r\n  public addWarning(pos: IPosition, msg: string): void {\r\n    this.getProblemCollector().push(ParseError.Warning(pos, msg));\r\n  }\r\n\r\n\r\n\r\n}","import { ForwardQuery } from \"./forwardQuery\";\r\nimport { ExpChar } from \"./expChar\";\r\n\r\nexport class TokenReader extends ForwardQuery<ExpChar> {\r\n\r\n  private _inputExp: string = '';\r\n  private _line: number = 1;\r\n  private _pos: number = 0;\r\n  private _count: number = 0;\r\n  private _operator: number = 0;\r\n\r\n  constructor(input_exp: string) {\r\n    super();\r\n    if (input_exp === '') {\r\n\r\n    }\r\n    this._inputExp = input_exp;\r\n    this._count = input_exp.length;\r\n    this._operator = 0;\r\n  }\r\n\r\n  protected endOfInput(): ExpChar {\r\n    return new ExpChar('\\0', this._line, this._pos);\r\n  }\r\n\r\n\r\n  protected fetch(): ExpChar | undefined {\r\n    if (this._operator <= this._count - 1) {\r\n      let readChar: string = this._inputExp[this._operator];\r\n      this._operator++;\r\n      if (readChar === '\\n') {\r\n        this._line++;\r\n        this._pos = 0;\r\n      }\r\n      this._pos++;\r\n      return new ExpChar(readChar, this._line, this._pos);\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  public toString(): string {\r\n    if (this.itemBuffer.length === 0) {\r\n      return this._line + ':' + this._pos + ': Buffer empty';\r\n    }\r\n    if (this.itemBuffer.length < 2) {\r\n      return this._line + ':' + this._pos + ': ' + this.current().toString();\r\n    }\r\n    return this._line + ':' + this._pos + ': ' + this.current().toString() + ', ' + this.next().toString();\r\n  }\r\n\r\n}","export class Variable {\r\n\r\n  public get expType(): string {\r\n    return this._expType;\r\n  }\r\n  private _expType: string = 'string';\r\n\r\n  private _value: any = null;\r\n\r\n  private _name: string = '';\r\n\r\n  private _constant: boolean = false;\r\n\r\n  constructor(name: string, type: string, value: any) {\r\n    this._name = name;\r\n    this._expType = type;\r\n    this._value = value;\r\n  }\r\n\r\n  public setType(type: string): void {\r\n    if(!this._constant) {\r\n      this._expType = type;\r\n    }\r\n  }\r\n\r\n  public setValue(value: any): void {\r\n    if(!this._constant) {\r\n      this._value = value;\r\n    }\r\n  }\r\n\r\n  public makeConstant(value: any): void {\r\n    this.setValue(value);\r\n    this._constant = true;\r\n  }\r\n\r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public getName(): string {\r\n    return this._name;\r\n  }\r\n\r\n  public isConstant(): boolean {\r\n    return this._constant;\r\n  }\r\n\r\n  public toString(): string {\r\n    return `Type: ${this._expType} --- ${this._name}: ${this._value.toString()}`;\r\n  }\r\n\r\n}","import { IExpression } from \"./expressions\";\r\nimport { Variable } from \"./variable\";\r\n\r\nexport class VariableExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._value.expType;\r\n  }  \r\n\r\n  public get className(): string {\r\n    return 'VariableExpression';\r\n  }\r\n\r\n  private _value: Variable;\r\n  \r\n  constructor(value: Variable) {\r\n    this._value = value;\r\n  }\r\n  \r\n  public evaluate(): any {\r\n    return this._value.getValue();\r\n  }\r\n\r\n  public toString(): string {\r\n    return this._value.getName();\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: VariableExpression = new VariableExpression(this._value);\r\n    return expClone;\r\n  }\r\n  \r\n\r\n}","import { IExpression } from \"./expressions\";\r\nimport { IFunction } from \"./functions\";\r\n\r\nexport class FunctionExpression implements IExpression {\r\n\r\n  public get expType(): string {\r\n    return this._function.expType;\r\n  }\r\n\r\n  public get className(): string {\r\n    return this._function.className;\r\n  }\r\n\r\n  private _function!: IFunction;\r\n  private _paras: IExpression[] = [];\r\n\r\n  public setFunction(func: IFunction): void {\r\n    this._function = func;\r\n  }\r\n\r\n  public addPara(exp: IExpression): void {\r\n    this._paras.push(exp);\r\n  }\r\n\r\n  public paraCount(): number {\r\n    return this._paras.length;\r\n  }\r\n\r\n  public evaluate(): any {\r\n    let r: any = null;\r\n    try {\r\n      r = this._function.evaluate(this._paras);\r\n    } catch (e) {\r\n      console.error('自定义函数编译错误，错误信息：' + e);\r\n      return null;\r\n    }\r\n    return r;\r\n  }\r\n\r\n  public clone(): IExpression {\r\n    let expClone: FunctionExpression = new FunctionExpression();\r\n    expClone._function = this._function;\r\n    for (let i: number = 0; i < this._paras.length; i++) {\r\n      expClone._paras.push(this._paras[i].clone());\r\n    }\r\n    return expClone;\r\n  }\r\n\r\n  public toString(): string {\r\n    let printStr: string = this._function.className + '(';\r\n    for(let i: number = 0; i < this._paras.length; i++) {\r\n      if(i > 0) {\r\n        printStr += ',' + this._paras[i].toString();\r\n      } else {\r\n        printStr += this._paras[i].toString();\r\n      }\r\n    }\r\n    return printStr + ')';\r\n  }\r\n\r\n}","import { Scope } from \"./scope\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { IExpression, VeryVarExpression, VeryTemplateExpression } from \"./expressions\";\r\nimport { VE_ExpressionParsing } from \"./expressionParsing\";\r\nimport { VariableScope } from \"../enum\";\r\nimport { ParseError } from \"./positions\";\r\nimport { VerySceneVariables } from \"../scene\";\r\nimport { IVeryVar, VE_Variables } from \"../variables\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { Variable } from \"./variable\";\r\nimport { VE_Template } from \"../template\";\r\n\r\n\r\nexport class VE_Expressions {\r\n\r\n  public static _scope: Scope = Scope.Create();\r\n\r\n  // 1、场景变量创建公式 - 只能引用场景变量；\r\n  // 2、项目全局变量创建公式 - 场景变量 + 项目全局变量；\r\n  // 3、对象局部变量创建公式 - 场景变量 + 项目全局变量 + 对象局部变量 + 对象状态值；\r\n  // 4、模板对象局部变量创建公式 - 场景变量 + 项目全局变量 + 模板对象局部变量 + 模板对象状态值；\r\n  // 5、触发激活条件 - 场景变量 + 项目全局变量 + 对象局部变量 + 对象状态值，且为bool类型；\r\n  // 6、状态逻辑表达式 - 同上；\r\n\r\n\r\n  // TODO：公式中有一类特殊情况，由模板直接判断当前模板变量是否 == 某个GameObject或者物体\r\n  // 创建场景变量\r\n  public static createSceneExpression(name_id: string, expression_str: string, error_info: ErrorInfo): IExpression {\r\n    let sceneExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, '', '', '', VariableScope.Scene);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return sceneExp;\r\n  }\r\n\r\n  // 创建全局变量\r\n  public static createGlobalExpression(name_id: string, expression_str: string, project_name: string, error_info: ErrorInfo): IExpression {\r\n    let globalExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, project_name, '', '', VariableScope.Global);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return globalExp;\r\n  }\r\n\r\n  // 创建局部变量\r\n  public static createLocalExpression(name_id: string, expression_str: string, project_name: string, object_id: string, error_info: ErrorInfo): IExpression {\r\n    let localExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, project_name, object_id, '', VariableScope.Local);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return localExp;\r\n  }\r\n\r\n  // 创建状态变量\r\n  public static createFsmExpression(name_id: string, expression_str: string, project_name: string, object_id: string, fsm_id: string, error_info: ErrorInfo): IExpression {\r\n    let fsmExp: IExpression = VE_ExpressionParsing.parsing(name_id, expression_str, VE_Expressions._scope, project_name, object_id, fsm_id, VariableScope.Fsm);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      error_info.isRight = false;\r\n      error_info.message = VE_Expressions.errorMessage(VE_ExpressionParsing.errors);\r\n    }\r\n    return fsmExp;\r\n  }\r\n\r\n\r\n  // 公式中不允许引用模板变量\r\n  public static getParseExpression(project_name: string, object_id: string, var_id: string, var_scope: VariableScope): Nullable<IExpression> {\r\n    // TODO: 暂时先不考虑模板\r\n    // 对象.*变量\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        return null;\r\n      } else {\r\n        object_id = varArray[0].trim();\r\n        var_id = varArray[1].trim().substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          // 场景变量 + 项目全局变量 + 对象局部变量 + 对象状态值\r\n          // 1. 查找对象局部变量\r\n          // 2. 查找对象状态值\r\n          // 3. 查找项目全局变量\r\n          // 4. 查找场景变量\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          } else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            } else {\r\n              // 局部变量，一般变量\r\n              if (veryObject.isCreatedVariable(var_id)) {\r\n                let v: IVeryVar = veryObject.getVariable(var_id);\r\n                return new VeryVarExpression(v);\r\n              }\r\n              // 局部变量，公式\r\n              else if (veryObject.isCreatedExpression(var_id)) {\r\n                return veryObject.getExpression(var_id);\r\n              }\r\n              // 局部状态变量\r\n              else if (veryObject.isCreatedFsm(var_id)) {\r\n                let v: IVeryVar = veryObject.getFsm(var_id).fsmVar;\r\n                return new VeryVarExpression(v);\r\n              }\r\n              else {\r\n                // 全局变量\r\n                return null;\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    // *变量\r\n    else {\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          // 场景变量 + 项目全局变量 + 对象局部变量 + 对象状态值\r\n          // 1. 查找对象局部变量\r\n          // 2. 查找对象状态值\r\n          // 3. 查找项目全局变量\r\n          // 4. 查找场景变量\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          } else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            } else {\r\n              //局部变量，一般变量\r\n              if (veryObject.isCreatedVariable(var_id)) {\r\n                let v: IVeryVar = veryObject.getVariable(var_id);\r\n                return new VeryVarExpression(v);\r\n              }\r\n              //局部变量，公式\r\n              else if (veryObject.isCreatedExpression(var_id)) {\r\n                return veryObject.getExpression(var_id);\r\n              }\r\n              //局部状态变量\r\n              else if (veryObject.isCreatedFsm(var_id)) {\r\n                let v: IVeryVar = veryObject.getFsm(var_id).fsmVar;\r\n                return new VeryVarExpression(v);\r\n              }\r\n              else {\r\n                //全局变量\r\n                return this.getParseGlobal(project_name, var_id);\r\n              }\r\n            }\r\n          }\r\n        } else if (var_scope === VariableScope.Global) {\r\n          // 全局变量\r\n          return this.getParseGlobal(project_name, var_id);\r\n        } else {\r\n          // 场景变量\r\n          return this.getParseScene(var_id);\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  private static getParseGlobal(project_name: string, var_id: string): Nullable<IExpression> {\r\n    // 全局变量\r\n    let variables: VE_Variables = VE_Manager.variables(project_name);\r\n    if (!variables) {\r\n      return null;\r\n    } else {\r\n      if (variables.isCreatedVariable(var_id)) {\r\n        let v: IVeryVar = variables.getVariable(var_id);\r\n        return new VeryVarExpression(v);\r\n      } else if (variables.isCreatedExpression(var_id)) {\r\n        return variables.getExpression(var_id);\r\n      } else {\r\n        // 场景变量\r\n        return this.getParseScene(var_id);\r\n      }\r\n    }\r\n  }\r\n\r\n  // 获取场景变量\r\n  private static getParseScene(var_id: string): Nullable<IExpression> {\r\n    // 场景变量\r\n    if (VerySceneVariables.Variables.isCreated(var_id)) {\r\n      let v: IVeryVar = VerySceneVariables.Variables.getVariable(var_id);\r\n      return new VeryVarExpression(v);\r\n    } else if (VerySceneVariables.Variables.isCreatedExpression(var_id)) {\r\n      return VerySceneVariables.Variables.getExpression(var_id);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  private static errorMessage(errors: ParseError[]): string {\r\n    let errorStr: string = '';\r\n    for (let i: number = 0; i < errors.length; i++) {\r\n      errorStr += `\\n(${(i+1)}) ${errors[i].getMessage()} ;`;\r\n    }\r\n    errorStr += '\\n';\r\n    return errorStr;\r\n  }\r\n\r\n\r\n  public static getTemplateExpression(project_name: string, object_id: string, var_id: string, var_scope: VariableScope): Nullable<VeryTemplateExpression> {\r\n    // 对象.*变量\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        //error_info = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n        return null;\r\n      }\r\n      else {\r\n        object_id = varArray[0].trim();\r\n        var_id = varArray[1].trim().substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          }\r\n          else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            }\r\n            else {\r\n              // 局部变量，一般变量\r\n              if (veryObject.isCreatedTemplate(var_id)) {\r\n                let template: VE_Template = veryObject.getTemplate(var_id);\r\n                let r = new VeryTemplateExpression();\r\n                r.setTemplate(template);\r\n                return r;\r\n              }\r\n              else {\r\n                // 全局变量\r\n                return null;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      // *变量\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        if (var_scope === VariableScope.Local || var_scope === VariableScope.Fsm) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (!objects) {\r\n            return null;\r\n          }\r\n          else {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (!veryObject) {\r\n              return null;\r\n            }\r\n            else {\r\n              // 局部变量，一般变量\r\n              if (veryObject.isCreatedTemplate(var_id)) {\r\n                let template: VE_Template = veryObject.getTemplate(var_id);\r\n                let r: VeryTemplateExpression = new VeryTemplateExpression();\r\n                r.setTemplate(template);\r\n                return r;\r\n              }\r\n              else {\r\n                // 全局变量\r\n                let variables: VE_Variables = VE_Manager.variables(project_name);\r\n                if (!variables) {\r\n                  return null;\r\n                }\r\n                else {\r\n                  if (variables.isCreatedTemplate(var_id)) {\r\n                    let template: VE_Template = variables.getTemplate(var_id);\r\n                    let r: VeryTemplateExpression = new VeryTemplateExpression();\r\n                    r.setTemplate(template);\r\n                    return r;\r\n                  }\r\n                  else {\r\n                    // 场景变量\r\n                    return null;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else if (var_scope === VariableScope.Global) {\r\n          // 全局变量\r\n          let variables: VE_Variables = VE_Manager.variables(project_name);\r\n          if (!variables) {\r\n            return null;\r\n          }\r\n          else {\r\n            if (variables.isCreatedTemplate(var_id)) {\r\n              let template: VE_Template = variables.getTemplate(var_id);\r\n              let r: VeryTemplateExpression = new VeryTemplateExpression();\r\n              r.setTemplate(template);\r\n              return r;\r\n            }\r\n            else {\r\n              //场景变量\r\n              return null;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          return null;\r\n        }\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n\r\n\r\n","import { VE_Objects } from \"../object\";\r\nimport { VE_VariableData } from \"../dataSource\";\r\nimport { VE_Templates } from \"../template\";\r\nimport { VE_Variables } from \"../variables\";\r\n\r\n\r\nexport class VE_Projects {\r\n\r\n  private _objects: { [key: string]: VE_Objects } = {};\r\n  private _variables: { [key: string]: VE_Variables } = {};\r\n  private _templates: { [key: string]: VE_Templates } = {};\r\n\r\n  public projects: string[] = [];\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public addProject(project_name: string): void {\r\n    if (this.projects.indexOf(project_name) === -1) {\r\n      this.projects.push(project_name);\r\n    }\r\n  }\r\n\r\n  public isCreatedObjects(project_name: string): boolean {\r\n    if (this._objects[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addObjects(project_name: string, objects: VE_Objects): void {\r\n    this._objects[project_name] = objects;\r\n  }\r\n\r\n  public getObjects(project_name: string): VE_Objects {\r\n    return this._objects[project_name];\r\n  }\r\n\r\n  public isCreatedVariables(project_name: string): boolean {\r\n    if (this._variables[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariables(project_name: string, variables: VE_Variables): void {\r\n    this._variables[project_name] = variables;\r\n  }\r\n\r\n  public getVariables(project_name: string): VE_Variables {\r\n    return this._variables[project_name];\r\n  }\r\n\r\n  public isCreatedTemplates(project_name: string): boolean {\r\n    if (this._templates[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplates(project_name: string, templates: VE_Templates): void {\r\n    this._templates[project_name] = templates;\r\n  }\r\n\r\n  public getTemplates(project_name: string): VE_Templates {\r\n    return this._templates[project_name];\r\n  }\r\n\r\n  public isCreatedGlobals(project_name: string): boolean {\r\n    if (this._variables[project_name]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getGlobalVars(project_name: string): VE_VariableData {\r\n    return this._variables[project_name].varData;\r\n  }\r\n\r\n  public clear(): void {\r\n    for (let i: number = 0; i < this.projects.length; i++) {\r\n      this.disposeProject(this.projects[i]);\r\n    }\r\n    this.projects = [];\r\n  }\r\n\r\n\r\n\r\n  public clearProject(project_name: string): void {\r\n    this.disposeProject(project_name);\r\n    let index: number = this.projects.indexOf(project_name);\r\n    if (index > -1) {\r\n      this.projects.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  private disposeProject(project_name: string): void {\r\n    if (this._objects[project_name]) {\r\n      this._objects[project_name].clear();\r\n    }\r\n    delete this._objects[project_name];\r\n    if (this._templates[project_name]) {\r\n      this._templates[project_name].clear();\r\n    }\r\n    delete this._templates[project_name];\r\n    if (this._variables[project_name]) {\r\n      this._variables[project_name].clear();\r\n    }\r\n    delete this._variables[project_name];\r\n  }\r\n\r\n  public sleep(): void {\r\n\r\n  }\r\n\r\n  public dispose(): void {\r\n    this.clear();\r\n  }\r\n\r\n}","import { VE_Projects } from \"./projects\";\r\nimport { VE_Objects } from \"../object\";\r\nimport { VE_Templates } from \"../template\";\r\nimport { VE_Variables } from \"../variables\";\r\nimport { VE_VariableData } from \"../dataSource\";\r\nimport { StateConst } from \"../state\";\r\n\r\nexport class VE_Manager {\r\n\r\n  public static get projects(): VE_Projects {\r\n    if (this._projects === null) {\r\n      this._projects = new VE_Projects();\r\n    }\r\n    return this._projects;\r\n  }\r\n  private static _projects: VE_Projects | null = null;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static createProject(project_name: string): void {\r\n    VE_Manager.projects.addProject(project_name);\r\n    if (!VE_Manager.projects.isCreatedObjects(project_name)) {\r\n      VE_Manager.projects.addObjects(project_name, new VE_Objects(project_name));\r\n    }\r\n    if (!VE_Manager.projects.isCreatedTemplates(project_name)) {\r\n      VE_Manager.projects.addTemplates(project_name, new VE_Templates(project_name));\r\n    }\r\n    if (!VE_Manager.projects.isCreatedVariables(project_name)) {\r\n      VE_Manager.projects.addVariables(project_name, new VE_Variables(project_name));\r\n    }\r\n  }\r\n\r\n  public static globalVarData(project_name: string): VE_VariableData {\r\n    if (!VE_Manager.projects.isCreatedGlobals(project_name)) {\r\n      VE_Manager.projects.addVariables(project_name, new VE_Variables(project_name));\r\n    }\r\n    return VE_Manager.projects.getGlobalVars(project_name);\r\n  }\r\n\r\n  public static templates(project_name: string): VE_Templates {\r\n    if (!VE_Manager.projects.isCreatedTemplates(project_name)) {\r\n      VE_Manager.projects.addTemplates(project_name, new VE_Templates(project_name));\r\n    }\r\n    return VE_Manager.projects.getTemplates(project_name);\r\n  }\r\n\r\n  public static variables(project_name: string): VE_Variables {\r\n    if (!VE_Manager.projects.isCreatedVariables(project_name)) {\r\n      VE_Manager.projects.addVariables(project_name, new VE_Variables(project_name));\r\n    }\r\n    return VE_Manager.projects.getVariables(project_name);\r\n  }\r\n\r\n  public static objects(project_name: string): VE_Objects {\r\n    if (!VE_Manager.projects.isCreatedObjects(project_name)) {\r\n      VE_Manager.projects.addObjects(project_name, new VE_Objects(project_name));\r\n    }\r\n    return VE_Manager.projects.getObjects(project_name);\r\n  }\r\n\r\n  public static clear(): void {\r\n    VE_Manager.projects.clear()\r\n    this._projects = null;\r\n  }\r\n\r\n  public static clearProject(project_name: string): void {\r\n    VE_Manager.projects.clearProject(project_name);\r\n  }\r\n\r\n  public static dispose(): void {\r\n    if (VE_Manager.projects) {\r\n      VE_Manager.clear();\r\n      StateConst.LogCount = 0;\r\n      StateConst.AssignmentFormulaCount = 0;\r\n      StateConst.TriggerCount = 0;\r\n      StateConst.ActionCount = 0;\r\n      StateConst.StateCount = 0;\r\n    }\r\n  }\r\n\r\n}","import { BabylonEngine } from \"./engine\";\r\n\r\n\r\nexport class GameObject {\r\n\r\n\r\n  public get gameObject(): GameObject {\r\n    return this;\r\n  }\r\n\r\n  public get transform(): Transform {\r\n    return this._transform;\r\n  }\r\n  public set transform(val: Transform) {\r\n    this._transform = val;\r\n  }\r\n  private _transform: Transform;\r\n\r\n  public get name(): string {\r\n    return this.transform.name;\r\n  }\r\n  public set name(val: string) {\r\n    this.transform.name = val;\r\n  }\r\n\r\n  public get isEmpty(): boolean {\r\n    return this._transform.isEmpty;\r\n  }\r\n\r\n  public get mesh(): Nullable<BABYLON.AbstractMesh> {\r\n    return this._transform.mesh;\r\n  }\r\n\r\n  constructor(name?: string, mesh: Nullable<BABYLON.AbstractMesh> = null, node: Nullable<BABYLON.TransformNode> = null) {\r\n    if (mesh) {\r\n      this._transform = new Transform('', mesh);\r\n    } else {\r\n      if (node) {\r\n        this._transform = new Transform('', null, node);\r\n      } else if (name) {\r\n        this._transform = new Transform(name);\r\n      } else {\r\n        this._transform = new Transform();\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public static Find(name: string, scene?: BABYLON.Scene): Nullable<GameObject> {\r\n    if (!scene) {\r\n      scene = BabylonEngine.Scene;\r\n    }\r\n    let node: Nullable<BABYLON.Node> = scene.getNodeByName(name);\r\n    if (!node) {\r\n      return null;\r\n    } else {\r\n      if (node instanceof BABYLON.AbstractMesh) {\r\n        return new GameObject('', <BABYLON.AbstractMesh>node);\r\n      } else if (node instanceof BABYLON.TransformNode) {\r\n        return new GameObject('', null, <BABYLON.TransformNode>node);\r\n      } else {\r\n        console.error('GameObject.Find函数查找到不支持的类型：' + node.getClassName());\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public static Destroy(obj: GameObject): void {\r\n    if (obj) {\r\n      obj.transform.destroy();\r\n    }\r\n  }\r\n\r\n\r\n  public static CreateInstance(game_object: GameObject): Nullable<GameObject> {\r\n    if (!game_object) {\r\n      return null;\r\n    }\r\n\r\n    if (game_object.isEmpty) {\r\n      return new GameObject();\r\n    } else {\r\n      if (game_object.transform.mesh) {\r\n        let tempMesh: BABYLON.AbstractMesh;\r\n        if (game_object.transform.mesh instanceof BABYLON.Mesh) {\r\n          tempMesh = (<BABYLON.Mesh>game_object.transform.mesh).createInstance(game_object.name + '_instance');\r\n        } else {\r\n          tempMesh = (<BABYLON.InstancedMesh>game_object.transform.mesh).sourceMesh.createInstance(game_object.name + '_instance');\r\n        }\r\n        return new GameObject('', tempMesh);\r\n      } else {\r\n        let newNode: Nullable<BABYLON.TransformNode> = game_object.transform.transformNode!.clone(game_object.name + '_intance');\r\n        return new GameObject('', null, newNode);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  // public static empty(name: string): GameObject {\r\n\r\n  // }\r\n\r\n}\r\n\r\n\r\nexport class Transform {\r\n\r\n  // public get gameObject(): GameObject {\r\n  //   return this._gameObject;\r\n  // }\r\n  // private _gameObject: GameObject;\r\n\r\n  private _transformNode: BABYLON.Nullable<BABYLON.TransformNode> = null;\r\n  private _mesh: BABYLON.Nullable<BABYLON.AbstractMesh> = null;\r\n\r\n  public get transformNode(): Nullable<BABYLON.TransformNode> {\r\n    if (this._mesh) {\r\n      return this._mesh;\r\n    } else if (this._transformNode) {\r\n      return this._transformNode;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public get mesh(): Nullable<BABYLON.AbstractMesh> {\r\n    return this._mesh;\r\n  }\r\n\r\n  public get isMesh(): boolean {\r\n    if (this._mesh) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public get isEmpty(): boolean {\r\n    if (this._transformNode || this._mesh) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  // public get parent(): Nullable<BABYLON.TransformNode>\r\n\r\n  public get name(): string {\r\n    return this._name;\r\n  }\r\n  public set name(val: string) {\r\n    if (this._transformNode) {\r\n      this._transformNode.name = val;\r\n    }\r\n    if (this._mesh) {\r\n      this._mesh.name = val;\r\n    }\r\n    this._name = val;\r\n  }\r\n  private _name: string = '';\r\n\r\n  private _tempVec: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n\r\n  public get parent(): Nullable<Transform> {\r\n    return this._parent;\r\n  }\r\n  private _parent: Nullable<Transform> = null;\r\n\r\n  public set parent(val: Nullable<Transform>) {\r\n    if (!this.isEmpty) {\r\n      if (val && !val.isEmpty) {\r\n        this._transformNode!.setParent(val.transformNode);\r\n        this._parent = val;\r\n      } else {\r\n        this._transformNode!.setParent(null);\r\n        this._parent = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取相对坐标\r\n   */\r\n  public get localPosition(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      this._tempVec.copyFrom(this.transformNode!.position);\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置相对坐标\r\n   */\r\n  public set localPosition(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      this.transformNode!.position = val;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取绝对坐标\r\n   */\r\n  public get position(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      this._tempVec.copyFrom(this.transformNode!.getAbsolutePosition());\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置绝对坐标\r\n   */\r\n  public set position(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      this.transformNode!.setAbsolutePosition(val);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取相对欧拉角度\r\n   */\r\n  public get localEulerAngles(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      let para: number = 180 / Math.PI;\r\n      return this.transformNode!.rotation.multiplyByFloats(para, para, para);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置相对欧拉角度\r\n   */\r\n  public set localEulerAngles(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      let para: number = Math.PI / 180;\r\n      this.transformNode!.rotation = val.multiplyByFloats(para, para, para);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取相对角度（弧度）\r\n   */\r\n  public get localRotation(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      this._tempVec.copyFrom(this.transformNode!.rotation);\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置相对角度（弧度）\r\n   */\r\n  public set localRotation(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      this.transformNode!.rotation = val;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取绝对欧拉角度\r\n   */\r\n  public get eulerAngles(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      let para: number = 180 / Math.PI;\r\n      this.transformNode!.setParent(null);\r\n      let result: BABYLON.Vector3 = this.transformNode!.rotation.multiplyByFloats(para, para, para);\r\n      this.transformNode!.setParent(parent);\r\n      return result;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置绝对欧拉角度\r\n   */\r\n  public set eulerAngles(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      let para: number = Math.PI / 180;\r\n      this.transformNode!.setParent(null);\r\n      this.transformNode!.rotation = val.multiplyByFloats(para, para, para);\r\n      this.transformNode!.setParent(parent);\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取绝对角度（弧度）\r\n   */\r\n  public get rotation(): BABYLON.Vector3 {\r\n    if (this.isEmpty) {\r\n      return BABYLON.Vector3.Zero();\r\n    } else {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      this.transformNode!.setParent(null);\r\n      this._tempVec.copyFrom(this.transformNode!.rotation);\r\n      this.transformNode!.setParent(parent);\r\n      return this._tempVec;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置绝对角度（弧度）\r\n   */\r\n  public set rotation(val: BABYLON.Vector3) {\r\n    if (!this.isEmpty) {\r\n      let parent: Nullable<BABYLON.Node> = this.transformNode!.parent;\r\n      this.transformNode!.setParent(null);\r\n      this.transformNode!.rotation = val;\r\n      this.transformNode!.setParent(parent);\r\n    }\r\n  }\r\n\r\n\r\n  public get childCount(): number {\r\n    return 0;\r\n  }\r\n\r\n  public forward: BABYLON.Vector3 = BABYLON.Vector3.Forward();\r\n\r\n\r\n  public get hierarchyCount(): number {\r\n    return 0;\r\n  }\r\n\r\n  public localScale: BABYLON.Vector3 = new BABYLON.Vector3(1, 1, 1);\r\n\r\n\r\n\r\n  constructor(name?: string, mesh: Nullable<BABYLON.AbstractMesh> = null, node: Nullable<BABYLON.TransformNode> = null) {\r\n    if (mesh) {\r\n      this._mesh = mesh;\r\n      this._transformNode = mesh;\r\n      this._name = mesh.name;\r\n    } else {\r\n      if (node) {\r\n        this._mesh = null;\r\n        this._transformNode = node;\r\n        this._name = node.name;\r\n      } else if (name) {\r\n        this._mesh = null;\r\n        this._transformNode = new BABYLON.TransformNode(name);\r\n        this._name = name;\r\n      } else {\r\n        this._mesh = null;\r\n        this._transformNode = null;\r\n        this._name = '';\r\n      }\r\n    }\r\n\r\n    // 设置父物体\r\n    if (this._transformNode) {\r\n      let tempParent: Nullable<BABYLON.Node> = this._transformNode.parent;\r\n      if (tempParent) {\r\n        if (tempParent instanceof BABYLON.AbstractMesh) {\r\n          this._parent = new Transform(tempParent.name, <BABYLON.AbstractMesh>tempParent);\r\n        } else {\r\n          this._parent = new Transform(tempParent.name, null, <BABYLON.TransformNode>tempParent);\r\n        }\r\n      }\r\n    } else {\r\n      this._parent = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿世界或局部坐标系平移；\r\n   * @param translation 平移方向向量；\r\n   * @param relativeTo 平移参考系，LOCAL为局部坐标，WORLD为世界坐标；\r\n   */\r\n  public translate(translation: BABYLON.Vector3, relativeTo: BABYLON.Space): void {\r\n    if (this.transformNode) {\r\n      this.transformNode.translate(translation, 1, relativeTo);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿着某个参考物体的局部方向向量平移，参考物体为null时，则沿世界坐标移动；\r\n   * @param translation 参考物体的局部方向向量；\r\n   * @param trans 平移参考物体；\r\n   */\r\n  public translateRelativeTo(translation: BABYLON.Vector3, trans: Transform): void {\r\n    if (this.transformNode) {\r\n      let direction: BABYLON.Vector3 = translation.clone();\r\n      if (trans && trans.transformNode) {\r\n        direction = this.transformDirection(direction);\r\n      }\r\n      this.transformNode.translate(direction, 1, BABYLON.Space.WORLD);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿某个轴自转，可选择相对世界坐标或自身坐标；\r\n   * @param eulerAngles 自转运动向量；\r\n   * @param relativeTo 自转参考系；\r\n   */\r\n  public rotate(eulerAngles: BABYLON.Vector3, relativeTo: BABYLON.Space): void {\r\n    if (this.transformNode) {\r\n      let angle: number = eulerAngles.length();\r\n      let axis: BABYLON.Vector3 = BABYLON.Vector3.Zero().copyFrom(eulerAngles.normalize());\r\n      //console.log(axis + \"--Rotate3--\" + angle);\r\n      this.transformNode.rotate(axis, angle, relativeTo);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 沿世界坐标某个轴公转；\r\n   * @param point 旋转点；\r\n   * @param axis 旋转轴；\r\n   * @param speed 旋转速度；\r\n   */\r\n  public rotateAround(point: BABYLON.Vector3, axis: BABYLON.Vector3, speed: number): void {\r\n    if (this.transformNode) {\r\n      this.transformNode.rotateAround(point, axis, speed);\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  /**\r\n   * 局部坐标位置转世界坐标位置；\r\n   * @param local_position 局部坐标位置；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public transformPosition(local_position: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = this.transformNode.computeWorldMatrix();\r\n      return BABYLON.Vector3.TransformCoordinates(local_position, matrix);\r\n    } else {\r\n      return local_position;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 局部方向向量转世界方向向量，转换后保持向量长度相等；\r\n   * @param local_direction 局部方向向量；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public transformDirection(local_direction: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = this.transformNode.computeWorldMatrix();\r\n      return BABYLON.Vector3.TransformCoordinates(local_direction, matrix).subtract(this.transformNode.getAbsolutePosition());\r\n    } else {\r\n      return local_direction;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 世界坐标位置转局部坐标位置；\r\n   * @param global_position 世界坐标位置；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public inverseTransformPosition(global_position: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = BABYLON.Matrix.Invert(this.transformNode.computeWorldMatrix());\r\n      return BABYLON.Vector3.TransformCoordinates(global_position, matrix);\r\n    } else {\r\n      return global_position;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 世界方向向量转局部方向向量，转换后保持向量长度相等；\r\n   * @param global_direction 世界方向向量；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public inverseTransformDirection(global_direction: BABYLON.Vector3): BABYLON.Vector3 {\r\n    if (this.transformNode) {\r\n      let matrix: BABYLON.Matrix = BABYLON.Matrix.Invert(this.transformNode.computeWorldMatrix());\r\n      let pointA: BABYLON.Vector3 = BABYLON.Vector3.TransformCoordinates(global_direction, matrix);\r\n      let pointOrigin: BABYLON.Vector3 = BABYLON.Vector3.TransformCoordinates(BABYLON.Vector3.Zero(), matrix);\r\n      return pointA.subtract(pointOrigin);\r\n    } else {\r\n      return global_direction;\r\n    }\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    if (this.mesh) this.mesh.dispose();\r\n    if (this.transformNode) this.transformNode.dispose();\r\n  }\r\n\r\n}\r\n\r\n\r\n// let trans: Transform = new Transform();\r\n// let trans2: Transform = new Transform(null, null, 'my name');\r\n// let trans3: Transform = new Transform(new BABYLON.TransformNode('a', null));","\r\nimport { VE_ActionBehaviour } from \"../action/actionBehaviour\";\r\nimport { StateActionType } from \"../enum\";\r\nimport { VE_Assignment } from \"../action\";\r\nimport { IVeryVar, VeryBool } from \"../variables\";\r\n\r\nexport class VE_StateAction {\r\n\r\n  public get type(): StateActionType {\r\n    return this._type;\r\n  }\r\n  private _type: StateActionType = StateActionType.Action;\r\n\r\n  public get action(): Nullable<VE_ActionBehaviour> {\r\n    return this._action;\r\n  }\r\n  private _action: Nullable<VE_ActionBehaviour> = null;\r\n\r\n  public get enabled(): IVeryVar {\r\n    return this._enabled;\r\n  }\r\n  private _enabled: IVeryVar;\r\n\r\n  public get everyFrame(): IVeryVar {\r\n    return this._everyFrame;\r\n  }\r\n  private _everyFrame: IVeryVar;\r\n\r\n  public get assignment(): Nullable<VE_Assignment> {\r\n    return this._assignment;\r\n  }\r\n  private _assignment: Nullable<VE_Assignment> = null;\r\n\r\n  constructor() {\r\n    this._enabled = new VeryBool();\r\n    this._everyFrame = new VeryBool();\r\n  }\r\n\r\n  public setAction(action: VE_ActionBehaviour, enabled: IVeryVar = new VeryBool(), every_frame: IVeryVar = new VeryBool(), sequence: boolean = false): void {\r\n    this._action = action;\r\n    this._enabled = enabled;\r\n    this._everyFrame = every_frame;\r\n    this._action.isSequence = sequence;\r\n    this._type = StateActionType.Action; \r\n  }\r\n\r\n  public setAssignment(assignment: VE_Assignment): void {\r\n    this._assignment = assignment;\r\n    this._type = StateActionType.Assignment; \r\n  }\r\n\r\n\r\n}","import { SequenceActionState, StateActionType, ActionType } from \"../enum\";\r\nimport { VE_StateAction } from \"./stateAction\";\r\nimport { VE_AssociatedState } from \"./associatedState\";\r\nimport { VE_ActionBehaviour } from \"../action\";\r\nimport { BabylonEngine } from \"../babylon\";\r\n\r\nexport class VE_SequenceActions {\r\n\r\n  public get sequenceState(): SequenceActionState {\r\n    return this._sequenceState;\r\n  }\r\n  private _sequenceState: SequenceActionState = SequenceActionState.Initial;\r\n\r\n  private _activeActionIndex: number = -1;\r\n\r\n  public get StateActions(): VE_StateAction[] {\r\n    return this._stateActions;\r\n  }\r\n  private _stateActions: VE_StateAction[] = [];\r\n\r\n  public get ActiveActions(): VE_StateAction[] {\r\n    return this._activeActions;\r\n  }\r\n  private _activeActions: VE_StateAction[] = [];\r\n\r\n  public get AssociatedStates(): VE_AssociatedState[] {\r\n    return this._associatedStates;\r\n  }\r\n  private _associatedStates: VE_AssociatedState[] = [];\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public sequenceAction(actions: VE_StateAction[], associated_states: VE_AssociatedState[]) {\r\n    //this._actionDic.Clear();\r\n    this._activeActions = [];\r\n    this._stateActions = [];\r\n    this._associatedStates = [];\r\n    this._sequenceState = SequenceActionState.Running;\r\n    for (let i: number = 0; i < actions.length; i++) {\r\n      if (actions[i].type === StateActionType.Action && actions[i].action!.type === ActionType.Animation) {\r\n        actions[i].action!.SequenceState = SequenceActionState.Prepared;\r\n      }\r\n      this._stateActions.push(actions[i]);\r\n    }\r\n    for (let i: number = 0; i < associated_states.length; i++) {\r\n      this._associatedStates.push(associated_states[i]);\r\n    }\r\n    if (this.activate(0)) {\r\n      this.checkActionsFinished();\r\n    }\r\n\r\n    this._observer = BabylonEngine.Scene.onBeforeRenderObservable.add(() => {\r\n      this.update();\r\n    });\r\n  }\r\n\r\n  private activate(start_index: number): boolean {\r\n    for (let i: number = start_index; i < this.StateActions.length; i++) {\r\n      this._activeActionIndex = i;\r\n      if (this.StateActions[i].type === StateActionType.Assignment) {\r\n        this.StateActions[i].assignment!.assign();\r\n      }\r\n      else {\r\n        let action: VE_ActionBehaviour = this.StateActions[i].action!;\r\n        if (action.type === ActionType.Normal || !action.isSequence) {\r\n          action.action(this.StateActions[i].enabled.getValue(), this.StateActions[i].everyFrame.getValue());\r\n        }\r\n        else {\r\n          this.ActiveActions.push(this.StateActions[i]);\r\n          action.sequenceAction(this, this.StateActions[i].enabled.getValue(), this.StateActions[i].everyFrame.getValue());\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  public pause(): void {\r\n    if (this.ActiveActions.length > 0) {\r\n      this._sequenceState = SequenceActionState.Pause;\r\n      this.ActiveActions[0].action!.pause();\r\n    }\r\n  }\r\n\r\n  public resume(): void {\r\n    if (this.ActiveActions.length > 0) {\r\n      this._sequenceState = SequenceActionState.Running;\r\n      this.ActiveActions[0].action!.resume();\r\n    }\r\n  }\r\n\r\n\r\n  public stop(): void {\r\n    if (this.ActiveActions.length > 0) {\r\n      this._sequenceState = SequenceActionState.Initial;\r\n      this.ActiveActions[0].action!.stop();\r\n      this.actionRecover();\r\n      // 销毁\r\n      this.destroy();\r\n    }\r\n  }\r\n\r\n  private checkActionsFinished(): void {\r\n    if (this.ActiveActions.length == 0 && (++this._activeActionIndex >= this.StateActions.length || this.activate(this._activeActionIndex))) {\r\n      this._sequenceState = SequenceActionState.Initial;\r\n      this.actionRecover();\r\n      // Debug.Log(this.AssociatedStates.Count);\r\n      // 结束，关联状态\r\n      if (this.AssociatedStates.length > 0) {\r\n        for (let i: number = 0; i < this.AssociatedStates.length; i++) {\r\n          this.AssociatedStates[i].connect();\r\n        }\r\n        // 销毁\r\n        this.destroy();\r\n      }\r\n    }\r\n  }\r\n\r\n  private actionRecover(): void {\r\n    for (let i: number = 0; i < this.StateActions.length; i++) {\r\n      if (this.StateActions[i].type === StateActionType.Action && this.StateActions[i].action!.type === ActionType.Animation) {\r\n        this.StateActions[i].action!.SequenceState = SequenceActionState.Initial;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public finishAction(action: VE_ActionBehaviour): void {\r\n    if (this.ActiveActions.length > 0) {\r\n      for (let i: number = 0; i < this.ActiveActions.length; i++) {\r\n        if (this.ActiveActions[i].type === StateActionType.Action && this.ActiveActions[i].action === action) {\r\n          this._activeActions.splice(i, 1);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  private update(): void {\r\n    if (this._sequenceState === SequenceActionState.Running) {\r\n      // this.StateTime += Time.deltaTime;\r\n      this.checkActionsFinished();\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      BabylonEngine.Scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n}","import { ShowError } from \"../html/showError\";\r\nimport { IVeryVar } from \"./IVeryVar\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { VE_Variables } from \"./variables\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Template } from \"../template\";\r\nimport { GameGlobal, VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { VeryExpression } from \"./veryExpression\";\r\nimport { Severity } from \"../enum\";\r\n\r\nexport class VeryVarManager {\r\n\r\n  // private static _veryVarTypes: { [key: string]: IVeryVar } = {};\r\n\r\n  private static _veryVarFunctions: { [key: string]: Function } = {};\r\n\r\n  public static hasVarType(var_type: string): boolean {\r\n    var_type = var_type.toLowerCase();\r\n    if (this._veryVarFunctions[var_type]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  // public static addVarType(var_type: string, var_prototype: IVeryVar): void {\r\n  //   // 平台只加载一次，避免重复加载\r\n  //   if (!GameGlobal.PlatformLoaded) {\r\n  //     var_type = var_type.toLowerCase().trim();\r\n  //     // 由于直接访问，所以在这里直接报错\r\n  //     if (this._veryVarTypes[var_type]) {\r\n  //       ShowError.showError('VeryVar变量初始化错误，变量类型重复，当前变量名：' + var_type + '，当前变量类型：' + var_prototype.className);\r\n  //     } else {\r\n  //       // console.log(var_proto.VarType);\r\n  //       this._veryVarTypes[var_type] = var_prototype;\r\n  //       // let a = Object.create(this.GetVarType(var_type));\r\n  //       // console.log(a.Value);\r\n  //       // a.Value = true;\r\n  //       // console.log(a.Value);\r\n  //       // a.Value = 1234;\r\n  //       // console.log(a.getValue());\r\n  //       // console.log(this.GetVarType(var_type).__proto__);\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  public static addVarType(var_function: Function): void {\r\n    // 平台只加载一次，避免重复加载\r\n    if (!GameGlobal.PlatformLoaded) {\r\n      let tempVar: any = new var_function.prototype.constructor();\r\n      // console.log(`变量ID：  ${tempVar.ID}， 变量名： ${tempVar.className} `);\r\n      let ids: string[] = tempVar.ID.split('|');\r\n      for (let i: number = 0; i < ids.length; i++) {\r\n        let id: string = ids[i].trim().toLowerCase();\r\n        if (this._veryVarFunctions[id]) {\r\n          VE_ErrorManager.Add(new VE_Error('', `变量类型重复，当前变量类型：${id}，重复变量：${tempVar.className}，请为当前变量重新分配变量类型！`, '', Severity.Error));\r\n        } else {\r\n          this._veryVarFunctions[id] = var_function;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static createVariable(var_id: string, var_type: string, value: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    var_type = var_type.toLowerCase();\r\n    if (!this._veryVarFunctions[var_type]) {\r\n      error_info.isRight = false;\r\n      error_info.message = `变量创建错误：当前变量类型在平台中不存在，请检查！变量类型：` + var_type;\r\n      return null;\r\n    }\r\n\r\n    let variable: any;\r\n    try {\r\n      // variable = Object.create(this.getVarType(var_type));\r\n      // new方式创建响应，Object.create方式创建因为prototype的关系，引用变量是唯一的，所有创建的响应共享，不合适\r\n      variable = new this._veryVarFunctions[var_type].prototype.constructor();\r\n\r\n      if (!variable) {\r\n        error_info.isRight = false;\r\n        error_info.message = '变量创建错误：当前类型在平台中不存在，请检查！类型名：' + var_type;\r\n        return null;\r\n      }\r\n      let result: any = (<IVeryVar>variable).initValue(value, error_info);\r\n      if (error_info.isRight) {\r\n        (<IVeryVar>variable).setValue(result);\r\n        (<IVeryVar>variable).name = var_id;\r\n        return <IVeryVar>variable;\r\n      } else {\r\n        return null;\r\n      }\r\n    } catch (error) {\r\n      console.log(`变量创建错误：${error.message}`);\r\n      error_info.isRight = false;\r\n      error_info.message = '变量创建错误：当前类型在平台中不存在，请检查！类型名：' + var_type + '，错误原因：' + error.message;\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static getVarType(var_type: string): any {\r\n    var_type = var_type.toLowerCase();\r\n    if (this._veryVarFunctions && this._veryVarFunctions[var_type]) {\r\n      return this._veryVarFunctions[var_type];\r\n    }\r\n    return null;\r\n  }\r\n\r\n\r\n  public static remove(var_type: string): void {\r\n    var_type = var_type.toLowerCase();\r\n    delete this._veryVarFunctions[var_type];\r\n  }\r\n\r\n  // *变量\r\n  // 对象名.*变量\r\n  public static getVariable(var_id: string, project_name: string, object_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (project_name === '') {\r\n      return this.getSceneVariable(var_id, error_info);\r\n    } else if (object_id === '') {\r\n      return this.getGlobalVariable(var_id, project_name, error_info);\r\n    } else {\r\n      let objects: VE_Objects = VE_Manager.objects(project_name);\r\n      if (objects) {\r\n        let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n        if (veryObject) {\r\n          if (veryObject.isCreatedVariable(var_id)) {\r\n            return veryObject.getVariable(var_id);\r\n          } else if (veryObject.isCreatedExpression(var_id)) {\r\n            return new VeryExpression(veryObject.getExpression(var_id));\r\n          } else if (veryObject.isCreatedFsm(var_id)) {\r\n            return veryObject.getFsm(var_id).fsmVar;\r\n          } else {\r\n            return this.getGlobalVariable(var_id, project_name, error_info);\r\n          }\r\n        } else {\r\n          return this.getGlobalVariable(var_id, project_name, error_info);\r\n        }\r\n      } else {\r\n        return this.getGlobalVariable(var_id, project_name, error_info);\r\n      }\r\n    }\r\n  }\r\n\r\n  // *模板变量.*变量\r\n  // 对象名.*模板变量.*变量\r\n  public static getTemplateVariable(template_var_id: string, var_id: string, project_name: string, object_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (project_name === '') {\r\n      // 场景变量暂不允许模板变量的存在\r\n      error_info.isRight = false;\r\n      error_info.message = \"无法在当前项目中查找到当前模板变量：\" + template_var_id + \"；\\n\";\r\n      return null;\r\n    }\r\n    else {\r\n      if (object_id !== '')  //对象局部变量\r\n      {\r\n        let objects: VE_Objects = VE_Manager.objects(project_name);\r\n        if (!objects) {\r\n          error_info.isRight = false;\r\n          error_info.message += \"无法在当前项目中查找到当前对象：\" + object_id + \"；\\n\";\r\n          return null;\r\n        }\r\n        else {\r\n          if (objects.isCreated(object_id)) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n            if (veryObject.isCreatedTemplate(template_var_id)) {\r\n              let template: VE_Template = veryObject.getTemplate(template_var_id);\r\n              if (template.templateInstance === null) {\r\n                error_info.isRight = false;\r\n                error_info.message += \"当前模板变量未实例化，请先实例化该模板对象，模板变量名：\" + template_var_id + \"；\\n\";\r\n                return null;\r\n              }\r\n              else {\r\n                if (template.templateInstance.isCreatedVariable(var_id)) {\r\n                  return template.templateInstance.getVariable(var_id);\r\n                }\r\n                else if (template.templateInstance.isCreatedExpression(var_id)) {\r\n                  return new VeryExpression(template.templateInstance.getExpression(var_id));\r\n                }\r\n                else if (template.templateInstance.isCreatedFsm(var_id)) {\r\n                  return template.templateInstance.getFsm(var_id).fsmVar;\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message += \"当前模板变量中无法查找到该变量，模板变量名：\" + template_var_id + \"，变量名：\" + var_id + \"；\\n\";\r\n                  return null;\r\n                }\r\n              }\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message += \"无法在当前项目中查找到当前模板变量：\" + template_var_id + \"；\\n\";\r\n              return null;\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message += \"无法在当前项目中查找到当前对象：\" + object_id + \"；\\n\";\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n      // 全局变量\r\n      else {\r\n        let variables: VE_Variables = VE_Manager.variables(project_name);\r\n        if (!variables) {\r\n          error_info.isRight = false;\r\n          error_info.message += \"无法在当前项目中查找到当前模板变量：\" + template_var_id + \"；\\n\";\r\n          return null;\r\n        }\r\n        else {\r\n          if (variables.isCreatedTemplate(template_var_id)) {\r\n            let template: VE_Template = variables.getTemplate(template_var_id);\r\n            if (template.templateInstance === null) {\r\n              error_info.isRight = false;\r\n              error_info.message += \"当前模板变量未实例化，请先实例化该模板对象，模板变量名：\" + template_var_id + \"；\\n\";\r\n              return null;\r\n            }\r\n            else {\r\n              if (template.templateInstance.isCreatedVariable(var_id)) {\r\n                return template.templateInstance.getVariable(var_id);\r\n              }\r\n              else if (template.templateInstance.isCreatedExpression(var_id)) {\r\n                return new VeryExpression(template.templateInstance.getExpression(var_id));\r\n              }\r\n              else if (template.templateInstance.isCreatedFsm(var_id)) {\r\n                return template.templateInstance.getFsm(var_id).fsmVar;\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message += \"当前模板变量中无法查找到该变量，模板变量名：\" + template_var_id + \"，变量名：\" + var_id + \"；\\n\";\r\n                return null;\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message += \"无法在当前项目中查找到当前模板变量：\" + template_var_id + \"；\\n\";\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static getGlobalVariable(var_id: string, project_name: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (project_name === '') {\r\n      return this.getSceneVariable(var_id, error_info);\r\n    } else {\r\n      let variables: VE_Variables = VE_Manager.variables(project_name);\r\n      if (variables) {\r\n        if (variables.isCreatedVariable(var_id)) {\r\n          return variables.getVariable(var_id);\r\n        } else if (variables.isCreatedExpression(var_id)) {\r\n          return new VeryExpression(variables.getExpression(var_id));\r\n        } else {\r\n          return this.getSceneVariable(var_id, error_info);\r\n        }\r\n      } else {\r\n        return this.getSceneVariable(var_id, error_info);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static getSceneVariable(var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    error_info.isRight = false;\r\n    error_info.message = '暂时不支持场景变量！'\r\n    return null;\r\n  }\r\n\r\n  public static dispose(): void {\r\n    VeryVarManager._veryVarFunctions = {};\r\n  }\r\n}\r\n","import { ErrorInfo } from \"./errorInfo\";\r\n\r\nexport class VE_TypeConvert {\r\n\r\n\r\n  public static boolConvert(info: string, errorInfo: ErrorInfo): boolean {\r\n    info = info.toLowerCase().trim();\r\n    if(info === 'true' || info === '开') {\r\n      return true;\r\n    } else if(info === 'false' || info === '关') {\r\n      return false;\r\n    } else {\r\n      errorInfo.isRight = false;\r\n      errorInfo.message = 'bool|开关类型转换错误，格式不正确，原始字符串：' + info;\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static intConvert(info: string, errorInfo: ErrorInfo): number {\r\n    info = info.toLowerCase().trim();\r\n    let num: number = parseFloat(info);\r\n    if(isNaN(num)) {\r\n      errorInfo.isRight = false;\r\n      errorInfo.message = 'number|数字类型转化错误，格式不正确，原始字符串：' + info;\r\n      return - 1;\r\n    } else {\r\n      return Math.round(num);\r\n    }\r\n  }\r\n\r\n  public static floatConvert(info: string, errorInfo: ErrorInfo): number {\r\n    info = info.toLowerCase().trim();\r\n    let num: number = parseFloat(info);\r\n    if(isNaN(num)) {\r\n      errorInfo.isRight = false;\r\n      errorInfo.message = 'number|数字类型转化错误，格式不正确，原始字符串：' + info;\r\n      return - 1;\r\n    } else {\r\n      return num;\r\n    }\r\n  }\r\n\r\n\r\n}","import { VE_Templates, VE_Template } from \"../template\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Variables, VeryVarManager, IVeryVar, VeryExpression, VeryString, VarTools, VeryBool } from \"../variables\";\r\nimport { ErrorInfo, VE_StringFormat } from \"../utility\";\r\nimport { VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { VE_Expressions, IExpression } from \"../expression\";\r\nimport { VE_FsmData, VE_StateData, VE_StateTriggerData, VE_StateActionData } from \"../dataSource\";\r\nimport { VE_Fsm, VE_State, VE_StateAction, VE_AssociatedState, StateConst } from \"../state\";\r\nimport { VE_Triggers, VE_TriggerBehaviour, VE_CustomTriggerManager } from \"../trigger\";\r\nimport { VE_Actions, VE_ActionBehaviour, VE_Assignment } from \"../action\";\r\nimport { StateActionType, AssignType } from \"../enum\";\r\nimport { VE_TypeConvert } from \"../utility/typeConvert\";\r\nimport { VE_AssignmentTypeJudge } from \"../action/assignmentTypeJudge\";\r\nimport { VerySceneVariables } from \"../scene\";\r\nimport { Trigger_Custom } from \"../library/trigger\";\r\n\r\nexport class CreateInstance {\r\n\r\n\r\n\r\n\r\n\r\n  public static createProject(project_name: string): boolean {\r\n    let templates: VE_Templates = VE_Manager.templates(project_name);\r\n    let objects: VE_Objects = VE_Manager.objects(project_name);\r\n    let globalVars: VE_Variables = VE_Manager.variables(project_name);\r\n\r\n    // 1. 全局变量——创建\r\n    // (1).先初始化普通变量和模板\r\n    for (let i: number = 0; i < globalVars.varData.count; i++) {\r\n      let varID: string = globalVars.varData.getVariableID(i);\r\n      let varPara: string[] = globalVars.varData.getVariableParas(varID);\r\n      // 判断，1.普通变量；2.公式；3.模板变量；\r\n      // 1.公式，等普通变量初始化完毕再处理\r\n      if (varPara[0] === \"公式\" || varPara[0].toLowerCase() === \"expression\") {\r\n        continue;\r\n      }\r\n      // 2.普通IVeryVar变量\r\n      else if (VeryVarManager.hasVarType(varPara[0])) {\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(varID, varPara[0], varPara[1], errorInfo);\r\n        // TODO: List或者Dictionary处理\r\n        if (!errorInfo.isRight || newVar === null) {\r\n          VE_ErrorManager.Add(VE_Error.error(globalVars.varData.getPos(varID), \"项目：\" + project_name + \"，全局变量：\" + varID + \"，\" + varPara[0] + \"，\" + varPara[1] + \"，全局变量创建失败，失败原因：\" + errorInfo.message + \"，请检查！\", ''));\r\n          return false;\r\n        } else {\r\n          globalVars.addVariable(varID, newVar);\r\n        }\r\n      }\r\n      // 3.模板变量\r\n      else if (templates.isCreatedTemplate(varPara[0])) {\r\n        globalVars.addTemplate(varID, templates.getTemplate(varPara[0]).clone('__global__', varID));\r\n      }\r\n      // 未知错误\r\n      else {\r\n        VE_ErrorManager.Add(VE_Error.error(globalVars.varData.getPos(varID), \"项目：\" + project_name + \"，全局变量：\" + varID + \"，\" + varPara[0] + \"，\" + varPara[1] + \"，全局变量创建失败，当前变量不存在，请检查！\", ''));\r\n        return false;\r\n      }\r\n    }\r\n\r\n    // (2).再初始化公式\r\n    for (let i: number = 0; i < globalVars.varData.count; i++) {\r\n      let varID: string = globalVars.varData.getVariableID(i);\r\n      let varPara: string[] = globalVars.varData.getVariableParas(varID);\r\n      // 判断，公式；\r\n      // 1.公式\r\n      if (varPara[0] === \"公式\" || varPara[0].toLowerCase() === \"expression\") {\r\n        // 公式之间以从前到后的解析顺序变异，若前面的公式引用了后面的公式，会直接报错\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let globalExp: IExpression = VE_Expressions.createGlobalExpression(varID, varPara[1], project_name, errorInfo);\r\n        if (!errorInfo.isRight || globalExp === null) {\r\n          VE_ErrorManager.Add(VE_Error.error(globalVars.varData.getPos(varID), \"项目：\" + project_name + \"，全局变量：\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"，全局变量创建失败，公式创建错误：\\n\" + errorInfo.message, \"\"));\r\n          return false;\r\n        }\r\n        globalVars.addExpression(varID, globalExp);\r\n      }\r\n      else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    // 2. 局部变量----创建\r\n    // （1）.先初始化普通变量和模板\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.varData.count; k++) {\r\n        // (1). 局部变量\r\n        let varID: string = veryObject.varData.getVariableID(k);\r\n        let varPara: string[] = veryObject.varData.getVariableParas(varID);\r\n        // 判断，1.普通变量；2.公式；3.模板变量；\r\n        // 1.公式\r\n        if (varPara[0] === \"公式\" || varPara[0].toLowerCase().trim() === \"expression\") {\r\n          continue;\r\n        }\r\n        // 2.普通IVeryVar变量\r\n        else if (VeryVarManager.hasVarType(varPara[0])) {\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(varID, varPara[0], varPara[1], errorInfo);\r\n          // TODO: List或者Dictionary处理\r\n          if (newVar === null || !errorInfo.isRight) {\r\n            VE_ErrorManager.Add(VE_Error.error(veryObject.varData.getPos(varID), \"项目：\" + project_name + \"，全局变量：\" + varID + \"，\" + varPara[0] + \"，\" + varPara[1] + \"，全局变量创建失败，失败原因：\" + errorInfo.message + \"，请检查！\", ''));\r\n            return false;\r\n          } else {\r\n            veryObject.addVariable(varID, newVar);\r\n          }\r\n        }\r\n        // 3.模板变量\r\n        else if (templates.isCreatedTemplate(varPara[0])) {\r\n          veryObject.addTemplate(varID, templates.getTemplate(varPara[0]).clone(objectID, varID));\r\n        }\r\n        // 未知错误\r\n        else {\r\n          VE_ErrorManager.Add(VE_Error.error(veryObject.varData.getPos(varID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，局部变量：\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"，局部变量创建失败，当前变量不存在，请检查！\", \"\"));\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    // 3. 状态机 —— 状态机创建\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.fsmCount; k++) {\r\n        let fsmID: string = veryObject.dataSource.getFsmID(k);\r\n        let fsmData: VE_FsmData = veryObject.dataSource.getFsmData(fsmID);\r\n        // 创建状态变量，目前默认为string变量\r\n        let newVar: VeryString = new VeryString();\r\n        newVar.setValue(fsmData.initialValStr);\r\n        /* *\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(fsmID, fsmData.fsmType, fsmData.initialValStr, errorInfo);\r\n        // TODO: List或者Dictionary处理\r\n        if (newVar === null || !errorInfo.isRight) {\r\n          VE_ErrorManager.Add(VE_Error.error(veryObject.dataSource.getFsmPos(fsmID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，状态变量初始值创建错误，错误原因：\" + errorInfo.message + \"，请检查！\", ''));\r\n          return false;\r\n        }\r\n        */\r\n        // 状态机\r\n        let fsm: VE_Fsm = new VE_Fsm(project_name, objectID, fsmID, newVar, veryObject);\r\n        veryObject.addFsm(fsmID, fsm);\r\n      }\r\n    }\r\n    // 公式放在状态机创建之后，因为可以引用状态变量\r\n    // 4. 对象局部变量再初始化公式\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.varData.count; k++) {\r\n        // (1). 局部变量\r\n        let varID: string = veryObject.varData.getVariableID(k);\r\n        let varPara: string[] = veryObject.varData.getVariableParas(varID);\r\n        // 判断，1.普通变量；2.公式；3.模板变量；\r\n        // 1.公式\r\n        if (varPara[0] === \"公式\" || varPara[0].toLowerCase().trim() === \"expression\") {\r\n          // 公式之间以从前到后的解析顺序变异，若前面的公式引用了后面的公式，会直接报错\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let newVar: IExpression = VE_Expressions.createLocalExpression(varID, varPara[1], project_name, objectID, errorInfo);\r\n          if (!errorInfo.isRight || newVar === null) {\r\n            VE_ErrorManager.Add(VE_Error.error(veryObject.varData.getPos(varID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，局部变量：\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"，局部变量创建失败，公式创建错误：\\n\" + errorInfo.message, ''));\r\n            return false;\r\n          }\r\n          veryObject.addExpression(varID, newVar);\r\n        }\r\n        else {\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    // TODO: UI\r\n\r\n    // 5. 触发——触发创建\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.triggerCount; k++) {\r\n        let triggerID: string = veryObject.dataSource.getTriggerID(k);\r\n        //Debug.Log(\"触发ID：\" + triggerID);\r\n        let triggerPara: string[] = veryObject.dataSource.getTriggerPara(triggerID);\r\n\r\n        if (!VE_Triggers.hasTrigger(triggerPara[0])) {\r\n          VE_ErrorManager.Add(VE_Error.error(veryObject.dataSource.getTriggerPos(triggerID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，触发：\" + triggerID + \"，触发类型：\" + triggerPara[0] + \"，当前系统中不存在该触发类型，请检查！\", \"\"));\r\n          return false;\r\n        } else {\r\n          // 初始化Trigger\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let trigger: Nullable<VE_TriggerBehaviour> = VE_Triggers.createTrigger(veryObject, triggerID, triggerPara[0], triggerPara.slice(1), errorInfo);\r\n\r\n          if (!errorInfo.isRight || trigger === null) {\r\n            VE_ErrorManager.Add(VE_Error.error(veryObject.dataSource.getTriggerPos(triggerID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，触发：\" + triggerID + \"，触发创建错误，原因：\" + errorInfo.message + \"，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n          // 自定义触发特殊处理\r\n          if (trigger.className === \"Trigger_Custom\") {\r\n            VE_CustomTriggerManager.AddTriggerEvent(project_name, objectID, triggerID, ((<Trigger_Custom>trigger).customEvent).bind(trigger));\r\n          }\r\n          veryObject.addTrigger(triggerID, trigger!);\r\n        }\r\n      }\r\n    }\r\n\r\n    // 6. 响应——响应创建\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.actionCount; k++) {\r\n        let actionID: string = veryObject.dataSource.getActionID(k);\r\n        let actionPara: string[] = veryObject.dataSource.getActionPara(actionID);\r\n        // console.log(actionID);\r\n        // console.log(actionPara);\r\n        if (!VE_Actions.hasAction(actionPara[0])) {\r\n          VE_ErrorManager.Add(VE_Error.error(veryObject.dataSource.getActionPos(actionID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，响应：\" + actionID + \"，响应类型：\" + actionPara[0] + \"，当前系统中不存在该响应类型，请检查！\", \"\"));\r\n          return false;\r\n        } else {\r\n          // 初始化Action\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let action: Nullable<VE_ActionBehaviour> = VE_Actions.createAction(veryObject, actionID, actionPara[0], actionPara.slice(1), veryObject.dataSource.getActionInitVal(actionID), errorInfo);\r\n\r\n          if (!errorInfo.isRight || action === null) {\r\n            VE_ErrorManager.Add(VE_Error.error(veryObject.dataSource.getActionPos(actionID), \"项目：\" + project_name + \"，对象：\" + objectID + \"，响应：\" + actionID + \"，响应创建错误，原因：\" + errorInfo.message + \"，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n\r\n          veryObject.addAction(actionID, action!);\r\n        }\r\n      }\r\n    }\r\n\r\n    // 7. 状态机 —— 状态机信息关联：触发关联 + 响应关联 + 状态赋值\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.fsmCount; k++) {\r\n        let fsmID: string = veryObject.dataSource.getFsmID(k);\r\n        let fsmData: VE_FsmData = veryObject.dataSource.getFsmData(fsmID);\r\n        // 状态机\r\n        let fsm: VE_Fsm = veryObject.getFsm(fsmID);\r\n        // 状态信息关联：触发激活条件，触发，逻辑表达式，状态值计算公式，响应，关联状态\r\n        for (let p: number = 0; p < fsmData.count; p++) {\r\n          let stateData: VE_StateData = fsmData.getStateData(p);\r\n          if (fsm.hasStateValue(stateData.ValStr)) {\r\n            VE_ErrorManager.Add(VE_Error.error(\"（\" + stateData.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，当前状态值重复，同一个状态的值不允许重复，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n          // 状态值，判断状态值不能重复，状态值为常量字符串\r\n          let state: VE_State = new VE_State(fsm, fsm.count + 1);\r\n          state.setConstValue(stateData.ValStr);\r\n\r\n          /*\r\n          if (stateData.isInitialValue) {\r\n            state.setInitialValue(fsm.fsmVar.getValue());\r\n          }\r\n          else {\r\n            // TODO: 状态赋值处理\r\n            // if (!this.stateAssignment(project_name, objectID, fsmID, globalVars, objects, veryObject, fsm, stateData, state)) {\r\n            //   return false;\r\n            // }\r\n          }\r\n          */\r\n\r\n          // 响应是否顺序运行\r\n          if (stateData.isSequence) {\r\n            state.setSequence();\r\n          }\r\n\r\n          // 关联状态条件\r\n          if (stateData.logicalExp !== '') {\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let logicalExp: IExpression = VE_Expressions.createFsmExpression('', stateData.logicalExp, project_name, objectID, fsmID, errorInfo);\r\n            if (!errorInfo.isRight || logicalExp === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(\"（\" + stateData.rowIndex.toString() + \"，E）\", \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，状态逻辑表达式：\" + stateData.logicalExp + \"，逻辑表达式创建失败，公式创建错误：\\n\" + errorInfo.message, \"\"));\r\n              return false;\r\n            }\r\n            state.logicalAssociated = logicalExp;\r\n          }\r\n\r\n          // 触发信息关联\r\n          for (let s: number = 0; s < stateData.triggerCount; s++) {\r\n            let triggerData: VE_StateTriggerData = stateData.getTrigger(s);\r\n            let triggerPos: string = stateData.getTriggerPos(s);\r\n            // 可能为当前对象，也可能是其他对象上的触发\r\n            let trigger: Nullable<VE_TriggerBehaviour> = VE_Triggers.findTrigger(veryObject, triggerData.triggerID);\r\n            if (trigger === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(triggerPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，触发：\" + triggerData.triggerID + \"，当前触发无法在系统中查找到，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n            // 逻辑条件\r\n            let logicalExp: Nullable<IExpression> = null;\r\n            // Debug.LogWarning(\"逻辑表达式：\" + triggerData.LogicalExp);\r\n            if (triggerData.logicalExp !== '') {\r\n              // 状态逻辑表达式\r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n              logicalExp = VE_Expressions.createFsmExpression('', triggerData.logicalExp, project_name, objectID, fsmID, errorInfo);\r\n              // Debug.LogWarning(logicalExp);\r\n              if (!errorInfo.isRight || logicalExp === null) {\r\n                VE_ErrorManager.Add(VE_Error.error(triggerPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，状态逻辑表达式：\" + triggerData.logicalExp + \"，逻辑表达式创建失败，公式创建错误：\\n\" + errorInfo.message, \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            // console.log(state);\r\n            // console.log(trigger);\r\n            trigger.addTriggerTarget(logicalExp, state);\r\n            // 触发启动条件\r\n            if (triggerData.logicalSwitch !== '') {\r\n              // 触发启动条件\r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n              let logicalSwitch: IExpression = VE_Expressions.createFsmExpression('', triggerData.logicalSwitch, project_name, objectID, fsmID, errorInfo);\r\n              if (!errorInfo.isRight || logicalSwitch === null) {\r\n                VE_ErrorManager.Add(VE_Error.error(triggerPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，触发启动条件：\" + triggerData.logicalSwitch + \"，触发启动条件创建失败，公式创建错误：\\n\" + errorInfo.message, \"\"));\r\n                return false;\r\n              }\r\n              trigger.addLogicalSwitch(logicalSwitch);\r\n            }\r\n          }\r\n\r\n          // 响应信息关联\r\n          for (let s: number = 0; s < stateData.actionCount; s++) {\r\n            let actionData: VE_StateActionData = stateData.getAction(s);\r\n            let actionPos: string = stateData.getActionPos(s);\r\n            // 正常响应\r\n            if (actionData.type === StateActionType.Action) {\r\n              // 可能为当前对象，也可能是其他对象上的响应\r\n              let action: Nullable<VE_ActionBehaviour> = VE_Actions.findAction(veryObject, actionData.actionID);\r\n              if (action === null) {\r\n                VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，当前响应无法在系统中查找到，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n              // 响应参数，目前默认只支持常量（两个bool值理论上可以为常量或者变量和公式值引用）\r\n              // 启动标志\r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n              let enableVar: Nullable<IVeryVar> = null;\r\n              let enableStr: string = actionData.enabled.trim().toLowerCase();\r\n              if (enableStr === 'false' || enableStr === '停止') {\r\n                enableVar = new VeryBool();\r\n                enableVar.setValue(false);\r\n              } else if (enableStr === 'true' || enableStr === '启动') {\r\n                enableVar = new VeryBool();\r\n                enableVar.setValue(true);\r\n              } else {\r\n                // 支持变量：（1）*变量名；（2）对象名.*变量名；注意：必须返回boolean\r\n                if (actionData.enabled.indexOf(StateConst.VARIABLE_SYMBOL) > -1) {\r\n                  errorInfo.clear();\r\n                  enableVar = VarTools.GetVeryVarWithExpression(project_name, objectID, actionData.enabled, errorInfo);\r\n                  if (!errorInfo.isRight || enableVar === null) {\r\n                    VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.enabled + \"，响应启动参数格式不正确，错误信息：\" + errorInfo.message, \"\"));\r\n                    return false;\r\n                  }\r\n                  if (enableVar.varType !== 'bool') {\r\n                    VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.enabled + \"，响应启动参数变量必须返回bool值类型，当前变量类型：\" + enableVar.varType, \"\"));\r\n                    return false;\r\n                  }\r\n\r\n                } else {\r\n                  VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.enabled + \"，响应启动参数允许填写格式为：“启动/true”、“停止/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数不符合，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n\r\n              // 每帧运行\r\n              let everyFrameVar: Nullable<IVeryVar> = null;\r\n              let everyFrameStr: string = actionData.everyFrame.trim().toLowerCase();\r\n              if (everyFrameStr === 'false' || everyFrameStr === '一次') {\r\n                everyFrameVar = new VeryBool();\r\n                everyFrameVar.setValue(false);\r\n              } else if (everyFrameStr === 'true' || everyFrameStr === '持续') {\r\n                everyFrameVar = new VeryBool();\r\n                everyFrameVar.setValue(true);\r\n              } else {\r\n                // 支持变量：（1）*变量名；（2）对象名.*变量名；注意：必须返回boolean\r\n                if (actionData.everyFrame.indexOf(StateConst.VARIABLE_SYMBOL) > -1) {\r\n                  errorInfo.clear();\r\n                  everyFrameVar = VarTools.GetVeryVarWithExpression(project_name, objectID, actionData.everyFrame, errorInfo);\r\n                  if (!errorInfo.isRight || everyFrameVar === null) {\r\n                    VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.everyFrame + \"，响应帧循环参数格式不正确，错误信息：\" + errorInfo.message, \"\"));\r\n                    return false;\r\n                  }\r\n                  if (everyFrameVar.varType !== 'bool') {\r\n                    VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.everyFrame + \"，响应帧循环参数变量必须返回bool值类型，当前变量类型：\" + everyFrameVar.varType, \"\"));\r\n                    return false;\r\n                  }\r\n\r\n                } else {\r\n                  VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.everyFrame + \"，响应帧循环参数允许填写格式为：“持续/true”、“一次/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数不符合，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n\r\n              // 顺序运行\r\n              let isSequenceStr: string = actionData.isSequence.trim().toLowerCase();\r\n              let isSequence: boolean = false;\r\n              if (isSequenceStr === 'false' || isSequenceStr === '同时') {\r\n                isSequence = false;\r\n              } else if (isSequenceStr === 'true' || isSequenceStr === '依次') {\r\n                isSequence = true;\r\n              } else {\r\n                VE_ErrorManager.Add(VE_Error.error(actionPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，响应：\" + actionData.actionID + \"，参数：\" + actionData.isSequence + \"，响应依次运行状态允许填写格式为：“同时/false”、“依次/true”，不允许填写变量，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n\r\n              // 创建状态响应\r\n              let stateAction: VE_StateAction = new VE_StateAction();\r\n              stateAction.setAction(action, enableVar, everyFrameVar, isSequence);\r\n              state.addAction(stateAction);\r\n            }\r\n            // 赋值\r\n            else {\r\n              // TODO：能否再简单一些\r\n              if (!this.assignmentAction(project_name, objectID, fsmID, globalVars, objects, veryObject, actionData, state)) {\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n\r\n          fsm.addState(state);\r\n\r\n          /*\r\n          // 关联状态\r\n          if (fsm.isCreatedState(stateData.stateIndex)) {\r\n            VE_ErrorManager.Add(VE_Error.error(\"（\" + stateData.rowIndex.toString() + \"，I）\", \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，状态赋值：\" + stateData.ValStr + \"，当前关联ID已创建，请勿重复创建！\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            fsm.addState(state, stateData.stateIndex);\r\n          }\r\n          */\r\n        }\r\n      }\r\n    }\r\n\r\n    // 8. 状态机 —— 状态机信息关联：关联状态信息关联\r\n    for (let i: number = 0; i < objects.count; i++) {\r\n      let objectID: string = objects.getObjectID(i);\r\n      let veryObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n      for (let k: number = 0; k < veryObject.dataSource.fsmCount; k++) {\r\n        let fsmID: string = veryObject.dataSource.getFsmID(k);\r\n        let fsmData: VE_FsmData = veryObject.dataSource.getFsmData(fsmID);\r\n        // 状态机\r\n        let fsm: VE_Fsm = veryObject.getFsm(fsmID);\r\n        // 状态信息关联：触发激活条件，触发，逻辑表达式，状态值计算公式，响应，关联状态\r\n        for (let p: number = 0; p < fsmData.count; p++) {\r\n          let stateData: VE_StateData = fsmData.getStateData(p);\r\n          let state: Nullable<VE_State> = fsm.getStateInSequence(p);\r\n          // 关联状态信息关联\r\n          for (let s: number = 0; s < stateData.associatedStateCount; s++) {\r\n            let associatedStateInfo: string = stateData.getAssociatedState(s);\r\n            let associatedPos: string = stateData.getAssociatedStatePos(s);\r\n            let associatedState: VE_AssociatedState = new VE_AssociatedState(state!);\r\n            let multipleAssociatedState: string[] = associatedStateInfo.split(/,|，/);\r\n            for (let www: number = 0; www < multipleAssociatedState.length; www++) {\r\n              associatedStateInfo = multipleAssociatedState[www].trim();\r\n              // let stateIndex: number = StateConst.STATE_INDEX;\r\n\r\n              let stateValue: string = StateConst.STATE_VALUE;\r\n\r\n              let strArray: string[] = associatedStateInfo.split('=');\r\n              if (strArray.length === 1) {\r\n              }\r\n              else if (strArray.length === 2) {\r\n                stateValue = strArray[1].trim();\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态格式错误，应为“状态名 = 状态值”的形式，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n\r\n              // 1. 状态名\r\n              // 2. 对象名.状态名\r\n              // 3. *模板变量.状态名\r\n              // 4. 对象名.*局部模板变量.状态名\r\n\r\n              let aFsmID: string = strArray[0].trim();\r\n              if (aFsmID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n                let stateArray: string[] = aFsmID.split(StateConst.STATE_SEPARATOR);\r\n                for (let q: number = 0; q < stateArray.length; q++) {\r\n                  stateArray[q] = stateArray[q].trim();\r\n                }\r\n                // 对象名.*局部模板变量.状态名\r\n                if (stateArray.length === 3) {\r\n                  if (objects.isCreated(stateArray[0])) {\r\n                    let aObject: VeryEngineObject = objects.getVeryObject(stateArray[0]);\r\n                    if (stateArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n                      let varID: string = stateArray[1].substring(1);\r\n                      if (aObject.isCreatedTemplate(varID)) {\r\n                        let template: VE_Template = aObject.getTemplate(varID);\r\n                        if (template.dataSource.isCreatedFsm(stateArray[2])) {\r\n                          associatedState.addTemplate(template, stateArray[2], stateValue, associatedPos);\r\n                          // VE_AssociatedState associatedState = new VE_AssociatedState(state, template, stateArray[2], stateIndex);\r\n                          // state.AddAssociatedState(associatedState);\r\n                        }\r\n                        else {\r\n                          VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.*模板变量.状态名”，在当前对象的该模板变量中无法查找到对应状态名，请检查！\", \"\"));\r\n                          return false;\r\n                        }\r\n                      }\r\n                      else {\r\n                        VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.*模板变量.状态名”，在当前对象中无法查找到该模板变量，请检查！\", \"\"));\r\n                        return false;\r\n                      }\r\n                    }\r\n                    else {\r\n                      VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.*模板变量.状态名”，模板变量填写格式不正确，请检查！\", \"\"));\r\n                      return false;\r\n                    }\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.*模板变量.状态名”，无法查找到该对象，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else if (stateArray.length === 2) {\r\n                  let aObjectID: string = stateArray[0].trim();\r\n                  aFsmID = stateArray[1].trim();\r\n                  // *模板变量.状态名\r\n                  if (aObjectID.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n                    aObjectID = aObjectID.substring(1);\r\n                    if (veryObject.isCreatedTemplate(aObjectID)) {\r\n                      let template: VE_Template = veryObject.getTemplate(aObjectID);\r\n                      if (template.dataSource.isCreatedFsm(stateArray[1])) {\r\n                        associatedState.addTemplate(template, stateArray[1], stateValue, associatedPos);\r\n                        // VE_AssociatedState associatedState = new VE_AssociatedState(state, template, stateArray[1], stateIndex);\r\n                        // state.AddAssociatedState(associatedState);\r\n                      }\r\n                      else {\r\n                        VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“*模板变量.状态名”，在当前模板变量中无法查找到对应状态名，请检查！\", \"\"));\r\n                        return false;\r\n                      }\r\n                    }\r\n                    else {\r\n                      if (globalVars.isCreatedTemplate(aObjectID)) {\r\n                        let template: VE_Template = globalVars.getTemplate(aObjectID);\r\n                        if (template.dataSource.isCreatedFsm(stateArray[1])) {\r\n                          associatedState.addTemplate(template, stateArray[1], stateValue, associatedPos);\r\n                          // VE_AssociatedState associatedState = new VE_AssociatedState(state, template, stateArray[1], stateIndex);\r\n                          // state.AddAssociatedState(associatedState);\r\n                        }\r\n                        else {\r\n                          VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“*模板变量.状态名”，在当前模板变量中无法查找到对应状态名，请检查！\", \"\"));\r\n                          return false;\r\n                        }\r\n                      }\r\n                      else {\r\n                        VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“*模板变量.状态名”，在当前系统中无法查找到该模板变量，请检查！\", \"\"));\r\n                        return false;\r\n                      }\r\n                    }\r\n                  }\r\n                  // 对象名.状态名\r\n                  else {\r\n                    let aObject: VeryEngineObject = objects.getVeryObject(aObjectID);\r\n                    if (aObject === null) {\r\n                      VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.状态名”，当前系统中无法查找到该对象名，请检查！\", \"\"));\r\n                      return false;\r\n                    }\r\n                    let aFsm: VE_Fsm = aObject.getFsm(aFsmID);\r\n                    if (aFsm === null) {\r\n                      VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.状态名”，当前对象名所对应的对象中无法查找到该状态名，请检查！\", \"\"));\r\n                      return false;\r\n                    }\r\n                    let toState: Nullable<VE_State> = aFsm.getState(stateValue);\r\n                    if (toState === null) {\r\n                      VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，当前关联状态填写格式为“对象名.状态名”，当前关联状态序号超出对应状态序号范围，请检查！\", \"\"));\r\n                      return false;\r\n                    }\r\n                    associatedState.add(toState, stateValue, associatedPos);\r\n                    // VE_AssociatedState associatedState = new VE_AssociatedState(state, toState);\r\n                    // state.AddAssociatedState(associatedState);\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，状态名填写错误，无法查找到对应状态，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              //状态名\r\n              else {\r\n                let aFsm: VE_Fsm = veryObject.getFsm(aFsmID);\r\n                if (aFsm === null) {\r\n                  VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，状态名填写错误，可以查找到对象，但是对象上无法查找到该状态，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n                let toState: Nullable<VE_State> = aFsm.getState(stateValue);\r\n                if (toState === null) {\r\n                  VE_ErrorManager.Add(VE_Error.error(associatedPos, \"项目：\" + project_name + \"，对象：\" + objectID + \"，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，状态名填写错误，可以查找到对象和状态，但是状态序号超出范围，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n\r\n                associatedState.add(toState, stateValue, associatedPos);\r\n                //VE_AssociatedState associatedState = new VE_AssociatedState(state, toState);\r\n                //state.AddAssociatedState(associatedState);\r\n              }\r\n            }\r\n            state!.addAssociatedState(associatedState);\r\n\r\n          }\r\n\r\n        }\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n  private static stateAssignment(project_name: string, object_id: string, fsm_id: string, global_vars: VE_Variables, objects: VE_Objects, very_object: VeryEngineObject, fsm: VE_Fsm, state_data: VE_StateData, state: VE_State): boolean {\r\n    // 状态值只能为常量或者变量和公式引用，不能创建新公式\r\n    // 允许引用模板变量，数据结构上需要支持\r\n    let assignStr: string = state_data.ValStr;\r\n    // *变量\r\n    // 对象名.*变量\r\n    // *模板变量.*变量\r\n    // 对象名.*模板变量.*变量\r\n    if (assignStr.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // 变量或者公式\r\n    {\r\n      if (assignStr.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n        let valArray: string[] = assignStr.split(StateConst.STATE_SEPARATOR);\r\n        for (let q: number = 0; q < valArray.length; q++) {\r\n          valArray[q] = valArray[q].trim();\r\n        }\r\n        if (valArray.length === 2) {\r\n          if (!valArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n            VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，状态赋值变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            // *模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n            if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n              let templateVarID: string = valArray[0].substring(1);\r\n              let varID: string = valArray[1].substring(1);\r\n              if (very_object.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = very_object.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  state.setTemplateInfo(template, varID, assignStr);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                  if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                    state.setTemplateInfo(template, varID, assignStr);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            // 对象名.*变量\r\n            else {\r\n              if (valArray[0] === object_id && valArray[1].substring(1) === fsm_id) {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“对象名.*变量”，状态变量赋值不能自己赋值给自己，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n              let errorInfo: ErrorInfo = new ErrorInfo();\r\n\r\n              let veryVar: Nullable<IVeryVar> = VeryVarManager.getVariable(valArray[1].substring(1), project_name, valArray[0], errorInfo);\r\n              if (!errorInfo.isRight || veryVar === null) {\r\n                VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“对象名.*变量”，*变量：\" + valArray[1] + \"无法在系统中查找到，错误信息：\" + errorInfo.message, \"\"));\r\n                return false;\r\n              }\r\n              else {\r\n                // 检测是否可以赋值\r\n                if (VE_AssignmentTypeJudge.allow(fsm.fsmVar, veryVar)) {\r\n                  state.setStateVariable(veryVar);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“对象名.*变量”，变量类型与状态类型不匹配，不能赋值，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else if (valArray.length === 3) {\r\n          // 对象名.*模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n          if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n            VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，状态赋值变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            let templateVarID: string = valArray[1].substring(1);\r\n            let varID: string = valArray[2].substring(1);\r\n            if (objects.isCreated(valArray[0])) {\r\n              let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              if (tObject.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  state.setTemplateInfo(template, varID, assignStr);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，状态赋值变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        // *变量\r\n        let varID: string = assignStr.substring(1);\r\n        if (varID == fsm_id) {\r\n          VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“*变量”，状态变量赋值不能自己赋值给自己，请检查！\", \"\"));\r\n          return false;\r\n        }\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let stateVar: Nullable<IVeryVar> = VeryVarManager.getVariable(varID, project_name, object_id, errorInfo);\r\n        if (stateVar === null) {\r\n          VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，状态赋值变量无法在当前系统中查找到，错误信息：\" + errorInfo.message, \"\"));\r\n          return false;\r\n        }\r\n        else {\r\n          //检测是否可以赋值\r\n          if (VE_AssignmentTypeJudge.allow(fsm.fsmVar, stateVar)) {\r\n            state.setStateVariable(stateVar);\r\n          }\r\n          else {\r\n            VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，当前赋值格式“*变量”，变量类型与状态类型不匹配，不能赋值，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    //常量\r\n    else {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let val: any = fsm.fsmVar.initValue(assignStr, errorInfo);\r\n      if (!errorInfo.isRight) {\r\n        VE_ErrorManager.Add(VE_Error.error(\"（\" + state_data.rowIndex + \"，F）\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，状态赋值：\" + state_data.ValStr + \"，状态赋值常量转化错误，请检查！\", \"\"));\r\n        return false;\r\n      }\r\n      state.setConstValue(val);\r\n    }\r\n    return true;\r\n  }\r\n  **/\r\n\r\n  private static assignmentAction(project_name: string, object_id: string, fsm_id: string, global_vars: VE_Variables, objects: VE_Objects, very_object: VeryEngineObject, action_data: VE_StateActionData, state: VE_State): boolean {\r\n    // 赋值\r\n    let assignment: VE_Assignment = new VE_Assignment(state, action_data.totalString);\r\n    let varID: string = action_data.varID;\r\n    // Debug.LogWarning(\"赋值响应：\" + action_data.TotalString);\r\n    // （1）等号左侧： 变量必须为普通变量，允许格式：（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量；\r\n    if (varID.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // 变量或者公式\r\n    {\r\n      if (varID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n        let valArray: string[] = varID.split(StateConst.STATE_SEPARATOR);\r\n        for (let q: number = 0; q < valArray.length; q++) {\r\n          valArray[q] = valArray[q].trim();\r\n        }\r\n        // 对象名.*变量 or *模板变量.*变量\r\n        if (valArray.length === 2) {\r\n          // *模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n          if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n            let templateVarID: string = valArray[0].substring(1);\r\n            varID = valArray[1].substring(1);\r\n            if (very_object.isCreatedTemplate(templateVarID)) {\r\n              let template: VE_Template = very_object.getTemplate(templateVarID);\r\n              if (template.varData.isCreatedVariable(varID)) {\r\n                let varPara: string[] = template.varData.getVariableParas(varID);\r\n                if (varPara[1].toLowerCase() === \"expression\" || varPara[1].toLowerCase() === \"公式\") {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n                else {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n              }\r\n              else if (template.dataSource.isCreatedFsm(varID)) {\r\n                assignment.setLeftTemplateVar(template, varID);\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID)) {\r\n                  let varPara: string[] = template.varData.getVariableParas(varID);\r\n                  if (varPara[1].toLowerCase() === \"expression\" || varPara[1].toLowerCase() === \"公式\") {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    assignment.setLeftTemplateVar(template, varID);\r\n                  }\r\n                }\r\n                else if (template.dataSource.isCreatedFsm(varID)) {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          //对象名.*变量\r\n          else {\r\n            if (objects.isCreated(valArray[0])) {\r\n              let aObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              varID = varID.substring(1);\r\n              if (aObject.isCreatedExpression(varID)) {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“对象名.*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n              else if (aObject.isCreatedFsm(varID)) {\r\n                let v: IVeryVar = aObject.getFsm(varID).fsmVar;\r\n                assignment.setLeftVariable(v);\r\n              }\r\n              else if (aObject.isCreatedVariable(varID)) {\r\n                let v: IVeryVar = aObject.getVariable(varID);\r\n                assignment.setLeftVariable(v);\r\n              }\r\n              else if (aObject.isCreatedTemplate(varID)) {\r\n                let template: VE_Template = aObject.getTemplate(varID);\r\n                assignment.setLeftTemplate(template);\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“对象名.*变量”，无法在当前对象名中查找到该变量，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式“对象名.*变量”，当前“对象名”无法在系统中查找到，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else if (valArray.length === 3)  // 对象名.*模板变量.*变量\r\n        {\r\n          // 对象名.*模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n          if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n          else {\r\n            let templateVarID: string = valArray[1].substring(1);\r\n            varID = valArray[2].substring(1);\r\n            if (objects.isCreated(valArray[0])) {\r\n              let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              if (tObject.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                if (template.dataSource.isCreatedFsm(varID)) {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n                else if (template.varData.isCreatedVariable(varID)) {\r\n                  let varParas: string[] = template.varData.getVariableParas(varID);\r\n                  if (varParas[1].toLowerCase() === \"expression\" || varParas[1].toLowerCase() === \"公式\") {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量.*变量”为公式变量，公式变量不可直接赋值，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    assignment.setLeftTemplateVar(template, varID);\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n          return false;\r\n        }\r\n      }\r\n      else // *变量\r\n      {\r\n        varID = varID.substring(1);\r\n        if (very_object.isCreatedExpression(varID)) {\r\n          VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n          return false;\r\n        }\r\n        else if (very_object.isCreatedFsm(varID)) {\r\n          let v: IVeryVar = very_object.getFsm(varID).fsmVar;\r\n          assignment.setLeftVariable(v);\r\n        }\r\n        else if (very_object.isCreatedVariable(varID)) {\r\n          let v: IVeryVar = very_object.getVariable(varID);\r\n          assignment.setLeftVariable(v);\r\n        }\r\n        else if (very_object.isCreatedTemplate(varID)) {\r\n          let template: VE_Template = very_object.getTemplate(varID);\r\n          assignment.setLeftTemplate(template);\r\n        }\r\n        else {\r\n          // 全局变量\r\n          if (global_vars.isCreatedExpression(varID)) {\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n          else if (global_vars.isCreatedVariable(varID)) {\r\n            let v: IVeryVar = global_vars.getVariable(varID);\r\n            assignment.setLeftVariable(v);\r\n          }\r\n          else if (global_vars.isCreatedTemplate(varID)) {\r\n            let template: VE_Template = global_vars.getTemplate(varID);\r\n            assignment.setLeftTemplate(template);\r\n          }\r\n          else {\r\n            // 场景变量\r\n            // if (VerySceneVariables.Variables.isCreatedExpression(varID)) {\r\n            //   VE_ErrorManager.Add(VE_Error.Error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.TotalString + \"，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n            //   return false;\r\n            // }\r\n            // else if (VerySceneVariables.Variables.IsCreatedVariable(varID)) {\r\n            //   IVeryVar v = VerySceneVariables.Variables.GetVariable(varID);\r\n            //   assignment.SetLeft(v);\r\n            // }\r\n            // else {\r\n            //   VE_ErrorManager.Add(VE_Error.Error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.TotalString + \"，当前赋值响应等号左侧格式“*变量”，无法在当前系统中查找到该变量，请检查！\", \"\"));\r\n            //   return false;\r\n            // }\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧格式“*变量”，无法在当前系统中查找到该变量，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号左边必须为变量，请检查！\", \"\"));\r\n      return false;\r\n    }\r\n\r\n\r\n    // （2）等号右侧： 变量必须为普通变量，允许格式：（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量；（5）常量；\r\n    varID = action_data.varValue.trim();\r\n\r\n    // 字符串特殊处理\r\n    if (varID.startsWith(\"\\\"\") || varID.startsWith(\"'\") || varID.startsWith(\"“\") || varID.startsWith(\"‘\")) {\r\n      assignment.setRightConst(varID.substring(1, varID.length - 2).trim());\r\n    }\r\n    else if (VE_StringFormat.isFormulaString(varID))  // 公式处理\r\n    {\r\n      // Debug.LogError(varID);\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      StateConst.AssignmentFormulaCount++;\r\n      let localExp: IExpression = VE_Expressions.createLocalExpression(StateConst.AssignmentPrefix + StateConst.AssignmentFormulaCount.toString(), varID, project_name, object_id, errorInfo);\r\n      if (!errorInfo.isRight || localExp === null) {\r\n        // errorInfo = \"模板对象实例化失败：局部变量创建失败，公式创建错误：\\n\" + errorInfo + \"，请检查！\" + errorPos;\r\n        // return null;\r\n        VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧格式“公式”，公式解析错误，请检查！错误信息：\" + errorInfo.message, \"\"));\r\n        return false;\r\n      }\r\n      assignment.setRightVariable(new VeryExpression(localExp));\r\n    }\r\n    else {\r\n      if (varID.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // 变量或者公式\r\n      {\r\n        if (varID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n          let valArray: string[] = varID.split(StateConst.STATE_SEPARATOR);\r\n          for (let q: number = 0; q < valArray.length; q++) {\r\n            valArray[q] = valArray[q].trim();\r\n          }\r\n          // 对象名.*变量 or *模板变量.*变量\r\n          if (valArray.length === 2) {\r\n            // *模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n            if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n              let templateVarID: string = valArray[0].substring(1);\r\n              varID = valArray[1].substring(1);\r\n              if (very_object.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = very_object.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  // 不确定类型，需要在赋值时判断\r\n                  assignment.setRightTemplateVariable(template, varID);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                  if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                    // 不确定类型，需要在赋值时判断\r\n                    assignment.setRightTemplateVariable(template, varID);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            // 对象名.*变量\r\n            else {\r\n              if (objects.isCreated(valArray[0])) {\r\n                let aObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n                varID = varID.substring(1);\r\n                let rightVar: Nullable<IVeryVar> = null;\r\n                let rightTemplate: Nullable<VE_Template> = null;\r\n                if (aObject.isCreatedExpression(varID)) {\r\n                  rightVar = new VeryExpression(aObject.getExpression(varID));\r\n                }\r\n                else if (aObject.isCreatedFsm(varID)) {\r\n                  rightVar = aObject.getFsm(varID).fsmVar;\r\n                }\r\n                else if (aObject.isCreatedVariable(varID)) {\r\n                  rightVar = aObject.getVariable(varID);\r\n                }\r\n                else if (aObject.isCreatedTemplate(varID)) {\r\n                  rightTemplate = aObject.getTemplate(varID);\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧格式“对象名.*变量”，无法在当前系统中查找到该变量，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n                // 赋值合理性判断\r\n                if (rightVar !== null) {\r\n                  if (assignment.leftType === AssignType.Template) {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧为“模板变量”类型，右侧为“普通变量”类型，无法赋值，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                  else if (assignment.leftType === AssignType.Variable) {\r\n                    if (VE_AssignmentTypeJudge.allow(assignment.leftVariable!, rightVar)) {\r\n                      assignment.setRightVariable(rightVar);\r\n                    }\r\n                    else {\r\n                      VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，请检查！\", \"\"));\r\n                      return false;\r\n                    }\r\n                  }\r\n                  else {\r\n                    // 模板变量，不确定类型\r\n                    assignment.setRightVariable(rightVar);\r\n                  }\r\n                }\r\n                else if (rightTemplate != null) {\r\n                  if (assignment.leftType === AssignType.Template) {\r\n                    assignment.setRightTemplate(rightTemplate);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧为“模板变量”，右侧为“普通变量”，无法赋值，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧数据无法识别，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号右侧变量格式“对象名.*变量”，当前“对象名”无法在系统中查找到，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          else if (valArray.length === 3)  // 对象名.*模板变量.*变量\r\n          {\r\n            // 对象名.*模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n            if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n              VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n            else {\r\n              let templateVarID: string = valArray[1].substring(1);\r\n              varID = valArray[2].substring(1);\r\n              if (objects.isCreated(valArray[0])) {\r\n                let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n                if (tObject.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                  // 无法判断是否为公式，需在运行条件下判断\r\n                  if (template.dataSource.isCreatedFsm(varID) || template.varData.isCreatedVariable(varID)) {\r\n                    // 不确定格式是否合理，运行时判断\r\n                    assignment.setRightTemplateVariable(template, varID);\r\n                  }\r\n                  else {\r\n                    VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，请检查！\", \"\"));\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，请检查！\", \"\"));\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n        else // *变量\r\n        {\r\n          varID = varID.substring(1);\r\n          let rightVar: Nullable<IVeryVar> = null;\r\n          let rightTemplate: Nullable<VE_Template> = null;\r\n          if (very_object.isCreatedExpression(varID)) {\r\n            rightVar = new VeryExpression(very_object.getExpression(varID));\r\n          }\r\n          else if (very_object.isCreatedFsm(varID)) {\r\n            rightVar = very_object.getFsm(varID).fsmVar;\r\n          }\r\n          else if (very_object.isCreatedVariable(varID)) {\r\n            rightVar = very_object.getVariable(varID);\r\n          }\r\n          else if (very_object.isCreatedTemplate(varID)) {\r\n            rightTemplate = very_object.getTemplate(varID);\r\n          }\r\n          else {\r\n            // 全局变量\r\n            if (global_vars.isCreatedExpression(varID)) {\r\n              rightVar = new VeryExpression(global_vars.getExpression(varID));\r\n            }\r\n            else if (global_vars.isCreatedVariable(varID)) {\r\n              rightVar = global_vars.getVariable(varID);\r\n            }\r\n            else if (global_vars.isCreatedTemplate(varID)) {\r\n              rightTemplate = global_vars.getTemplate(varID);\r\n            }\r\n            else {\r\n              //场景变量\r\n              if (VerySceneVariables.Variables.isCreatedExpression(varID)) {\r\n                rightVar = new VeryExpression(VerySceneVariables.Variables.getExpression(varID));\r\n              }\r\n              else if (VerySceneVariables.Variables.isCreatedVariable(varID)) {\r\n                rightVar = VerySceneVariables.Variables.getVariable(varID);\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧格式“*变量”，无法在当前系统中查找到该变量，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          // 赋值合理性判断\r\n          if (rightVar != null) {\r\n            if (assignment.leftType === AssignType.Template) {\r\n              VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧为“模板变量”类型，右侧为“普通变量”类型，无法赋值，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n            else if (assignment.leftType === AssignType.Variable) {\r\n              if (VE_AssignmentTypeJudge.allow(assignment.leftVariable!, rightVar)) {\r\n                assignment.setRightVariable(rightVar);\r\n              }\r\n              else {\r\n                VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，请检查！\", \"\"));\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              // 模板变量，不确定类型\r\n              assignment.setRightVariable(rightVar);\r\n            }\r\n          }\r\n          else if (rightTemplate != null) {\r\n            if (assignment.leftType === AssignType.Template) {\r\n              assignment.setRightTemplate(rightTemplate);\r\n            }\r\n            else {\r\n              VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧为“模板变量”，右侧为“普通变量”，无法赋值，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n          }\r\n          else {\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号右侧数据无法识别，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      else  // 常量\r\n      {\r\n        if (assignment.leftType === AssignType.Template) {\r\n          if (varID.trim().toLowerCase() === \"null\") {\r\n            assignment.setRightNull();\r\n          }\r\n          else {\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧为模板变量，右侧赋值为常量时只能填“null”，表示销毁模板变量，当前格式错误，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n        else if (assignment.leftType === AssignType.TemplateVariable) {\r\n          assignment.setRightConst(varID);\r\n        }\r\n        else {\r\n          if (assignment.leftVariable !== null) {\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let newValue: any = assignment.leftVariable.initValue(varID, errorInfo);\r\n            if (!errorInfo.isRight || newValue === null) {\r\n              VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧变量类型与右侧常量值不匹配，错误信息：\" + errorInfo.message + \"，请检查！\", \"\"));\r\n              return false;\r\n            }\r\n            else {\r\n              assignment.setRightConstValue(newValue);\r\n            }\r\n          }\r\n          else {\r\n            VE_ErrorManager.Add(VE_Error.error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，当前赋值响应等号左侧变量获取为空，请检查！\", \"\"));\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let stateAction: VE_StateAction = new VE_StateAction();\r\n    stateAction.setAssignment(assignment);\r\n    state.addAction(stateAction);\r\n    return true;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  public static createInstance(project_name: string, object_id: string, var_id: string, template: VE_Template, object_name: string, error_info: ErrorInfo, destroy_on_create_new: boolean): VE_Template {\r\n\r\n\r\n    return template;\r\n  }\r\n\r\n\r\n}","export * from './utility/index';\r\n\r\nexport * from './action/index';\r\nexport * from './dataSource/index';\r\nexport * from './enum/index';\r\nexport * from './expression/index';\r\nexport * from './global/index';\r\nexport * from './html/index';\r\nexport * from './manager/index';\r\nexport * from './object/index';\r\nexport * from './state/index';\r\nexport * from './template/index';\r\nexport * from './trigger/index';\r\nexport * from './loader/index';\r\n\r\nexport * from './variables/index';\r\nexport * from './scene/index';\r\n\r\nexport * from '../verytable/index';\r\n\r\nexport * from './library/action/index';\r\nexport * from './library/trigger/index';\r\n\r\nexport * from './babylon';\r\n","export * from './trigger-input';\r\nexport * from './trigger-system';\r\nexport * from './trigger-collision';\r\nexport * from './trigger-logic';\r\nexport * from './trigger-gui';","import { VeryTable } from \"../verytable/index\";\r\nimport { ShowError } from \"./html/showError\";\r\nimport { LoaderManager } from \"./loader/loaderManager\";\r\nimport { ErrorInfo } from \"./utility\";\r\nimport { IVeryVar, VeryVarManager, VeryBool } from \"./variables\";\r\nimport { VE_Expressions } from \"./expression\";\r\nimport { VE_ErrorManager, GameGlobal } from \"./global\";\r\nimport { VE_Reset } from \"./manager\";\r\n\r\n// 导出entrance\r\nexport * from \"./index\";\r\n\r\nexport class VeryEngine {\r\n\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n  public init(data: Array<Array<string>>, project_name: string): void {\r\n\r\n    // 重新加载平台，需要将之前的相关参数全部清除，记录的所有触发、响应、变量、对象等；\r\n    VE_Reset.dispose();\r\n\r\n    // TODO: 之后可能s会变成多个Table，暂时未1个\r\n    let tableData: VeryTable = new VeryTable(data, 'VeRyEngine');\r\n    // console.log(tableData.pos(7, 5));\r\n    // console.log(tableData);\r\n    // console.log('开始解析表格');\r\n\r\n    // VeryVarManager.addVarType('bool', new VeryBool());\r\n\r\n    // let errorInfo: ErrorInfo = new ErrorInfo();\r\n    // let v1: Nullable<IVeryVar> = VeryVarManager.createVariable('a', '数字', '3.1415926', errorInfo);\r\n    // console.log(v1!.getValue());\r\n    // errorInfo.clear();\r\n    // let v2: Nullable<IVeryVar> = VeryVarManager.createVariable('b', '开关', '开', errorInfo);\r\n    // console.log(v2!.getValue());\r\n    // errorInfo.clear();\r\n    // let v3: Nullable<IVeryVar> = VeryVarManager.createVariable('c', '向量', '1,2,3', errorInfo);\r\n    // console.log(v3!.clone());\r\n    // errorInfo.clear();\r\n    // let v4: Nullable<IVeryVar> = VeryVarManager.createVariable('c', '向量', 'ac1,dg2,3', errorInfo);\r\n    // console.log(v4);\r\n    // console.log(errorInfo.message);\r\n\r\n\r\n    let manager: LoaderManager = new LoaderManager();\r\n    let result: boolean = manager.load(project_name, tableData);\r\n    console.log(`表格解析结果：${result}`);\r\n    if (!result) {\r\n      VE_ErrorManager.Print();\r\n    }\r\n\r\n    // 平台第一次加载，响应类型、触发类型、变量类型初始化\r\n    GameGlobal.PlatformLoaded = true;\r\n\r\n\r\n\r\n    // this.showErrorTest(tableData);\r\n  }\r\n\r\n\r\n//   public showErrorTest(tableData: VeryTable): void {\r\n//     // /*\r\n//     ShowError.show('大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发大股东萨芬个是电饭锅三分隔收费的发，错误位置：' + tableData.pos(7, 5));\r\n\r\n//     ShowError.showError('大股东萨芬个是电饭锅三分隔收费的发，错误位置：' + tableData.pos(7, 5));\r\n\r\n//     ShowError.showWarn('大股东萨芬个是电饭锅三分隔收费的发，错误位置：' + tableData.pos(7, 5));\r\n\r\n//     ShowError.show('大股东萨芬个是电饭锅三分隔收费的发，错误位置：' + tableData.pos(7, 5));\r\n\r\n//     ShowError.show('大股东萨芬个是电饭锅三分隔收费的发，错误位置：' + tableData.pos(7, 5));\r\n\r\n\r\n//     document.getElementById(\"settingsButton\")!.addEventListener(\"click\", ShowError.close);\r\n//     // */\r\n//   }\r\n\r\n}","import { VeryTableRow } from \"./veryTableRow\";\r\n\r\nexport class VeryTable {\r\n  private _id: string = \"\";\r\n  public get ID(): string {\r\n    return this._id;\r\n  }\r\n  public set ID(id: string) {\r\n    this._id = id;\r\n  }\r\n\r\n  private _columnIDs: string[] = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\r\n\r\n  private _rows: VeryTableRow[] = [];\r\n\r\n  public get RowCount(): number {\r\n    if (!this._rows) {\r\n      return 0;\r\n    } else {\r\n      return this._rows.length;\r\n    }\r\n  }\r\n\r\n  constructor(data: string[][], id = \"默认Sheet\") {\r\n    this._id = id;\r\n    this._rows = [];\r\n    if (data) {\r\n      for (let i = 0; i < data.length; i++) {\r\n        let newRow = new VeryTableRow(data[i]);\r\n        this._rows.push(newRow);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 根据行序号和列序号获取表格数据\r\n   * @param row_index 行序号\r\n   * @param column_index 列序号\r\n   */\r\n  public getData(row_index: number, column_index: number): string {\r\n    // if (row_index >= 0 && row_index < this._rows.length) {\r\n    //   let row: VeryTableRow = this._rows[row_index];\r\n    //   return row.getData(column_index);\r\n    // } else {\r\n    //   return undefined;\r\n    // }\r\n    return this._rows[row_index].getData(column_index);\r\n  }\r\n\r\n  /**\r\n   * 根据行号返回行数据\r\n   * @param row_index 行序号\r\n   */\r\n  public getRow(row_index: number): VeryTableRow | undefined {\r\n    if (row_index >= 0 && row_index < this._rows.length) {\r\n      return this._rows[row_index];\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取表格位置\r\n   * @param row_index 行序号\r\n   * @param column_index 列序号\r\n   */\r\n  public pos(row_index: number, column_index: number): string {\r\n    // return \"表名：\" + this.ID + \"，位置：（\" + (row_index + 1) + \"，\" + this.getColumnID(column_index) + \"）\";\r\n    return \"（\" + (row_index + 1) + \"，\" + this.getColumnID(column_index) + \"，表名：\" + this.ID + \"）\";\r\n  }\r\n\r\n  /**\r\n   * 根据列序号获取列ID，序号超过26以后，需要进行计算\r\n   * @param column_index 列序号\r\n   */\r\n  private getColumnID(column_index: number): string {\r\n    if (column_index >= 0 && column_index < 26) {\r\n      return this._columnIDs[column_index];\r\n    } else if (column_index < 0) {\r\n      return 'error';\r\n    } else {\r\n      let a: number = Math.floor(column_index / 26);\r\n      let b: number = column_index % 26;\r\n      if (a === 0) {\r\n        return this._columnIDs[a];\r\n      } else {\r\n        return this._columnIDs[a - 1] + this._columnIDs[b];\r\n      }\r\n    }\r\n  }\r\n\r\n  // public addRowStringArray(row_data: string[]): void {\r\n\r\n  // }\r\n\r\n  // public addRowStrings(...strs: string[]): void {\r\n\r\n  // }\r\n\r\n  public addRow(data: VeryTableRow): void {\r\n    // \r\n    this._rows.push(data);\r\n\r\n  }\r\n\r\n\r\n}","// import { VeryTableRow } from \"./veryTableRow\";\r\n/**\r\n * 1. 主要使用TypeScript进行开发，掌握其一般开发流程，从项目建立到发布最终的生产代码（打包、合并、编译等）；\r\n * 2. 实际使用过程：在浏览器代码中，点击运行代码\r\n */\r\nimport { VeryTable } from \"./veryTable\";\r\n\r\nexport class VeryTableSet {\r\n\r\n  private _tables: VeryTable[] = [];\r\n\r\n  public get Count(): number {\r\n    if (!this._tables) {\r\n      return 0;\r\n    } else {\r\n      return this._tables.length;\r\n    }\r\n  }\r\n\r\n  constructor(tables?: VeryTable[]) {\r\n    if (tables) {\r\n      this._tables = tables;\r\n    }\r\n  }\r\n\r\n  public getTable(index: number): VeryTable | undefined {\r\n    if (index >= 0 && index < this.Count) {\r\n      return this._tables[index];\r\n    } else {\r\n      return undefined;\r\n    }\r\n  }\r\n\r\n  public addTable(table: VeryTable): void {\r\n    this._tables.push(table);\r\n  }\r\n\r\n  public removeTable(index: number): void {\r\n    if (index >= 0 && index < this.Count) {\r\n      this._tables.splice(index, 1);\r\n    }\r\n  }\r\n\r\n\r\n}","import { VeryEngineObject } from \"../object\";\r\nimport { VE_DataSource, VE_VariableData } from \"../dataSource\";\r\n\r\nexport class VE_Template {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get templateID(): string {\r\n    return this._templateID;\r\n  }\r\n  private _templateID: string = '';\r\n\r\n  public get templateVarID(): string {\r\n    return this._templateVarID;\r\n  }\r\n  private _templateVarID: string = '';\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = '';\r\n\r\n  public templateInstance: Nullable<VeryEngineObject> = null;\r\n\r\n  public dataSource: VE_DataSource;\r\n\r\n  public varData: VE_VariableData;\r\n\r\n  public get counter(): number {\r\n    return this._counter;\r\n  }\r\n  private _counter: number = 0;\r\n\r\n  public backupInstances: VeryEngineObject[] = [];\r\n\r\n  public activeCount(): number {\r\n    return this.backupInstances.length;\r\n  }\r\n\r\n  public instanceArray: VE_Template[] = [];\r\n\r\n  constructor(project_name: string, template_id: string) {\r\n    this._projectName = project_name;\r\n    this._templateID = template_id;\r\n    this.dataSource = new VE_DataSource(project_name, template_id, true);\r\n    this.varData = new VE_VariableData(project_name);\r\n  }\r\n\r\n  public addInstance(instance_obj: VeryEngineObject): void {\r\n    this.templateInstance = instance_obj;\r\n    this.backupInstances.push(instance_obj);\r\n  }\r\n\r\n  public isCreatedVariable(var_id: string): boolean {\r\n    return this.varData.isCreatedVariable(var_id);\r\n  }\r\n\r\n  public addVariable(var_id: string, var_paras: string[], pos: string): void {\r\n    this.varData.addVariable(var_id, var_paras, pos);\r\n  }\r\n\r\n  public increase(): void {\r\n    this._counter++;\r\n  }\r\n\r\n  public unload(all_instance: boolean = false): void {\r\n    if (all_instance) {\r\n      this.backupInstances = [];\r\n    } else {\r\n      this.backupInstances.pop();\r\n    }\r\n    this.templateInstance = null;\r\n  }\r\n\r\n  public unloadInstance(instance: VeryEngineObject): void {\r\n    let index: number = this.backupInstances.indexOf(instance);\r\n    if (index > -1) {\r\n      this.backupInstances.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public clone(object_id: string, template_var_id: string): VE_Template {\r\n    let cloneTemplate: VE_Template = new VE_Template(this._projectName, this._templateID);\r\n    cloneTemplate._objectID = object_id;\r\n    cloneTemplate._templateVarID = template_var_id;\r\n    cloneTemplate.dataSource = this.dataSource;\r\n    cloneTemplate.varData = this.varData;\r\n    cloneTemplate._counter = this._counter;\r\n    return cloneTemplate;\r\n  }\r\n\r\n  public clear(): void {\r\n    if (this.dataSource) {\r\n      this.dataSource.clear();\r\n    }\r\n    if (this.varData) {\r\n      this.varData.clear();\r\n    }\r\n    if (this.templateInstance) {\r\n      this.templateInstance.clear();\r\n    }\r\n  }\r\n\r\n}","export class VE_VariableData {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  private _variableIDs: string[] = [];\r\n  private _varDics: { [key: string]: string[] } = {};\r\n  private _varPosDic: { [key: string]: string } = {};\r\n\r\n  public get count(): number {\r\n    return this._variableIDs.length;\r\n  }\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n  }\r\n\r\n  public isCreatedVariable(var_id: string): boolean {\r\n    if (this._varDics[var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariable(var_id: string, var_paras: string[], pos: string): void {\r\n    this._varDics[var_id] = var_paras;\r\n    this._variableIDs.push(var_id);\r\n    this._varPosDic[var_id] = pos;\r\n  }\r\n\r\n  public getVariableID(index: number): string {\r\n    if (index >= 0 && index < this._variableIDs.length) {\r\n      return this._variableIDs[index];\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public getVariableParas(var_id: string): string[] {\r\n    return this._varDics[var_id];\r\n  }\r\n\r\n  public getPos(var_id: string): string {\r\n    return this._varPosDic[var_id];\r\n  }\r\n\r\n  public clear(): void {\r\n    this._variableIDs = [];\r\n    this._varDics = {};\r\n  }\r\n}","import { StateActionType } from \"../enum\";\r\n\r\nexport class VE_StateActionData {\r\n\r\n  public actionID: string;\r\n  // （1）启动/停止，一次/持续，依次/同时；（2）true/false；（3）一般变量/公式，bool值类型；\r\n  public enabled: string;\r\n  public everyFrame: string;\r\n  public isSequence: string;\r\n  public type: StateActionType;\r\n  public totalString: string = '';\r\n  public varID: string = '';\r\n  public varValue: string = '';\r\n\r\n  constructor(action_id: string, enabled: string = 'false', every_frame: string = 'false', sequence: string = 'false', type: StateActionType = StateActionType.Action) {\r\n    this.actionID = action_id;\r\n    this.enabled = enabled;\r\n    this.everyFrame = every_frame;\r\n    this.isSequence = sequence;\r\n    this.type = type;\r\n  }\r\n\r\n  public setNormalAction(action_id: string, enabled: string = 'false', every_frame: string = 'false', sequence: string = 'false'): void {\r\n    this.actionID = action_id;\r\n    this.enabled = enabled;\r\n    this.everyFrame = every_frame;\r\n    this.isSequence = sequence;\r\n    this.type = StateActionType.Action;\r\n  }\r\n\r\n  public setAssignmentAction(total_string: string, var_id: string, var_value: string): void {\r\n    this.totalString = total_string;\r\n    this.varID = var_id;\r\n    this.varValue = var_value;\r\n    this.type = StateActionType.Assignment;\r\n  }\r\n\r\n}","\r\n\r\n\r\nexport enum ActionType {\r\n  Normal, Animation\r\n}\r\n\r\nexport enum SequenceActionState {\r\n  Initial, Prepared, Running, Pause\r\n}\r\n\r\nexport enum StateActionType {\r\n  Action, Assignment\r\n}\r\n\r\nexport enum AssignType {\r\n  Variable = 0,\r\n  Template,\r\n  TemplateVariable,\r\n  Const,\r\n}\r\n\r\nexport enum AssignmentType {\r\n  Const = 0,\r\n  Variable,\r\n  Expression\r\n}\r\n\r\nexport enum AssociatedFsmType {\r\n  Object = 0,\r\n  Template\r\n}\r\n\r\nexport enum VariableScope {\r\n  Local = 0,\r\n  Fsm,\r\n  Global,\r\n  Scene\r\n}\r\n\r\nexport enum Severity {\r\n  Warning,\r\n  Error\r\n}\r\n\r\nexport enum ParaType {\r\n  Action = 0,\r\n  Trigger\r\n}\r\n\r\n","export class VE_StateTriggerData {\r\n\r\n  public triggerID: string;\r\n  public logicalSwitch: string;\r\n  public logicalExp: string;\r\n\r\n  public static get Empty(): VE_StateTriggerData {\r\n    return new VE_StateTriggerData('');\r\n  }\r\n\r\n  constructor(trigger_id: string) {\r\n    this.triggerID = trigger_id;\r\n    this.logicalSwitch = '';\r\n    this.logicalExp = '';\r\n   }\r\n}","import { VE_FsmData } from \"./index\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_StateTriggerData } from \"./stateTriggerData\";\r\nimport { VE_StateActionData } from \"./stateActionData\";\r\n\r\nexport class VE_StateData {\r\n\r\n  public get fsmData(): VE_FsmData {\r\n    return this._fsmData;\r\n  }\r\n  private _fsmData: VE_FsmData;\r\n\r\n  public get ValStr(): string {\r\n    return this._valStr;\r\n  }\r\n  private _valStr: string;\r\n\r\n  public get isInitialValue(): boolean {\r\n    return this._isInitialValue;\r\n  }\r\n  private _isInitialValue: boolean;\r\n\r\n  public logicalExp: string = '';\r\n\r\n  public rowIndex: number = -1;\r\n\r\n  private _triggers: VE_StateTriggerData[] = [];\r\n  private _triggersPos: string[] = [];\r\n  private _actions: VE_StateActionData[] = [];\r\n  private _actionsPos: string[] = [];\r\n  private _associatedStates: string[] = [];\r\n  private _associatedStatesPos: string[] = [];\r\n\r\n  public get isSequence(): boolean {\r\n    return this._isSequence;\r\n  }\r\n  private _isSequence: boolean = false;\r\n\r\n  public get triggerCount(): number {\r\n    return this._triggers.length;\r\n  }\r\n\r\n  public get actionCount(): number {\r\n    return this._actions.length;\r\n  }\r\n\r\n  public get associatedStateCount(): number {\r\n    return this._associatedStates.length;\r\n  }\r\n\r\n  constructor(fsm_data: VE_FsmData, val_str: string, is_initial_value: boolean) {\r\n    this._fsmData = fsm_data;\r\n    this._valStr = val_str;\r\n    this._isInitialValue = is_initial_value;\r\n  }\r\n\r\n  public hasTrigger(index: number): boolean {\r\n    if(index >= 0 && index < this._triggers.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTrigger(trigger_data: VE_StateTriggerData, pos: string): void {\r\n    this._triggers.push(trigger_data);\r\n    this._triggersPos.push(pos);\r\n  }\r\n\r\n  public getTrigger(index: number): VE_StateTriggerData {\r\n    return this._triggers[index];\r\n  }\r\n\r\n  public getTriggerPos(index: number): string {\r\n    return this._triggersPos[index];\r\n  }\r\n\r\n  public hasAction(index: number): boolean {\r\n    if(index >= 0 && index < this._actions.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAction(action_data: VE_StateActionData, pos: string): void {\r\n    this._actions.push(action_data);\r\n    this._actionsPos.push(pos);\r\n  }\r\n\r\n  public getAction(index: number): VE_StateActionData {\r\n    return this._actions[index];\r\n  }\r\n\r\n  public getActionPos(index: number): string {\r\n    return this._actionsPos[index];\r\n  }\r\n\r\n  public hasAssociatedState(index: number): boolean {\r\n    if(index >= 0 && index < this._associatedStates.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAssociatedState(associated_state_data: string, pos: string): void {\r\n    this._associatedStates.push(associated_state_data);\r\n    this._associatedStatesPos.push(pos);\r\n  }\r\n\r\n  public getAssociatedState(index: number): string {\r\n    return this._associatedStates[index];\r\n  }\r\n\r\n  public getAssociatedStatePos(index: number): string {\r\n    return this._associatedStatesPos[index];\r\n  }\r\n\r\n  public setSequence(): void {\r\n    this._isSequence = true;\r\n  }\r\n\r\n}","import { VE_FsmData } from \"./fsmData\";\r\n\r\nexport class VE_DataSource {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = '';\r\n\r\n  public get templateID(): string {\r\n    return this._templateID;\r\n  }\r\n  private _templateID: string = '';\r\n\r\n  public get isTemplate(): boolean {\r\n    return this._isTemplate;\r\n  }\r\n  private _isTemplate: boolean = false;\r\n\r\n  public get id(): string {\r\n    if (this._isTemplate) {\r\n      return this._templateID;\r\n    } else {\r\n      return this._objectID;\r\n    }\r\n  }\r\n\r\n  private _fsmIDs: string[] = [];\r\n  private _fsmDic: { [key: string]: VE_FsmData } = {};\r\n  private _fsmPosDic: { [key: string]: string } = {};\r\n\r\n  private _triggerIDs: string[] = [];\r\n  private _triggerDic: { [key: string]: string[] } = {};\r\n  private _triggerPosDic: { [key: string]: string } = {};\r\n\r\n  private _actionIDs: string[] = [];\r\n  private _actionDic: { [key: string]: string[] } = {};\r\n  private _actionInitValue: { [key: string]: string[] } = {};\r\n  private _actionPosDic: { [key: string]: string } = {};\r\n\r\n  public get triggerCount(): number {\r\n    return this._triggerIDs.length;\r\n  }\r\n\r\n  public get actionCount(): number {\r\n    return this._actionIDs.length;\r\n  }\r\n\r\n  public get fsmCount(): number {\r\n    return this._fsmIDs.length;\r\n  }\r\n\r\n\r\n  constructor(project_name: string, name_id: string, is_template: boolean) {\r\n    this._projectName = project_name;\r\n    this._isTemplate = is_template;\r\n    if(is_template) {\r\n      this._templateID = name_id;\r\n    } else {\r\n      this._objectID = name_id;\r\n    }\r\n  }\r\n\r\n  public isCreatedFsm(fsm_id: string): boolean {\r\n    if(this._fsmDic[fsm_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public createFsm(fsm_id: string, pos: string): void {\r\n    this._fsmIDs.push(fsm_id);\r\n    this._fsmDic[fsm_id] = new VE_FsmData(fsm_id, this);\r\n    this._fsmPosDic[fsm_id] = pos;\r\n  }\r\n\r\n  public getFsmData(fsm_id: string): VE_FsmData {\r\n    return this._fsmDic[fsm_id];\r\n  }\r\n\r\n  public getFsmPos(fsm_id: string): string {\r\n    return this._fsmPosDic[fsm_id];\r\n  }\r\n\r\n  public hasFsmIndex(index: number): boolean {\r\n    if(index >= 0 && index < this._fsmIDs.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getFsmID(index: number): string {\r\n    return this._fsmIDs[index];\r\n  }\r\n\r\n  public isCreatedTrigger(trigger_id: string): boolean {\r\n    if(this._triggerDic[trigger_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTrigger(trigger_id: string, trigger_data: string[], pos: string): void {\r\n    this._triggerIDs.push(trigger_id);\r\n    this._triggerDic[trigger_id] = trigger_data;\r\n    this._triggerPosDic[trigger_id] = pos;\r\n  }\r\n\r\n  public getTrigger(trigger_id: string): string[] {\r\n    return this._triggerDic[trigger_id];\r\n  }\r\n\r\n  public getTriggerPos(trigger_id: string): string {\r\n    return this._triggerPosDic[trigger_id];\r\n  }\r\n\r\n  public hasTriggerIndex(index: number): boolean {\r\n    if(index >=0 && index < this._triggerIDs.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getTriggerID(index: number): string {\r\n    return this._triggerIDs[index];\r\n  }\r\n\r\n  public getTriggerPara(trigger_id: string): string[] {\r\n    return this._triggerDic[trigger_id];\r\n  }\r\n\r\n  public isCreatedAction(action_id: string): boolean {\r\n    if(this._actionDic[action_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAction(action_id: string, action_data: string[], action_init_val: string[], pos: string): void {\r\n    this._actionIDs.push(action_id);\r\n    this._actionDic[action_id] = action_data;\r\n    this._actionInitValue[action_id] = action_init_val;\r\n    this._actionPosDic[action_id] = pos;\r\n  }\r\n\r\n  public getActionPara(action_id: string): string[] {\r\n    return this._actionDic[action_id];\r\n  }\r\n\r\n  public getActionPos(action_id: string): string {\r\n    return this._actionPosDic[action_id];\r\n  }\r\n\r\n  public getActionInitVal(action_id: string): string[] {\r\n    return this._actionInitValue[action_id];\r\n  }\r\n\r\n  public hasActionIndex(index: number): boolean {\r\n    if(index >= 0 && index < this._actionIDs.length) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getActionID(index: number): string {\r\n    return this._actionIDs[index];\r\n  }\r\n\r\n  public clear(): void {\r\n    this._fsmIDs = [];\r\n    this._fsmDic = {};\r\n    this._triggerIDs = [];\r\n    this._triggerDic = {};\r\n    this._actionIDs = [];\r\n    this._actionDic = {};\r\n    this._actionInitValue = {};\r\n  }\r\n\r\n\r\n\r\n}","import { VE_Template } from \"./template\";\r\nimport { ErrorInfo, VE_StringFormat } from \"../utility\";\r\nimport { StateConst, VE_Fsm, VE_State, VE_StateAction, VE_AssociatedState } from \"../state\";\r\nimport { GameObject } from \"../babylon\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VeryVarManager, IVeryVar, VeryString, VeryBool, VarTools, VE_Variables, VeryExpression } from \"../variables\";\r\nimport { VE_FsmData, VE_StateData, VE_StateTriggerData, VE_StateActionData } from \"../dataSource\";\r\nimport { VE_Expressions, IExpression } from \"../expression\";\r\nimport { VE_Triggers, VE_TriggerBehaviour, VE_CustomTriggerManager } from \"../trigger\";\r\nimport { Trigger_Custom } from \"../library/trigger\";\r\nimport { VE_Actions, VE_ActionBehaviour, VE_Assignment } from \"../action\";\r\nimport { StateActionType, AssignType } from \"../enum\";\r\nimport { VerySceneVariables } from \"../scene\";\r\nimport { VE_AssignmentTypeJudge } from \"../action/assignmentTypeJudge\";\r\n\r\nexport class VE_Templates {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  private _templateDic: { [key: string]: VE_Template } = {};\r\n\r\n  private _instanceDic: { [key: string]: { [key: string]: VE_Template } } = {};\r\n\r\n  // 当一个模板创建多份时，若之前模板没有被删除，会导致其生命周期时空\r\n  private _instanceArray: { [key: string]: { [key: string]: VE_Template[] } } = {};\r\n\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n  }\r\n\r\n  public isCreatedTemplate(template_id: string): boolean {\r\n    if (this._templateDic[template_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplate(template_id: string, template: VE_Template): void {\r\n    this._templateDic[template_id] = template;\r\n  }\r\n\r\n  public getTemplate(template_id: string): VE_Template {\r\n    return this._templateDic[template_id];\r\n  }\r\n\r\n  public isCreatedInstance(object_id: string, var_id: string): boolean {\r\n    if (this._instanceDic[object_id] && this._instanceDic[object_id][var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public getInstance(object_id: string, var_id: string): VE_Template {\r\n    return this._instanceDic[object_id][var_id];\r\n  }\r\n\r\n  // public getState(var_id: string, state_id: string, index: number): VE_State {\r\n\r\n  // } \r\n\r\n  public clear(): void {\r\n    if (this._templateDic) {\r\n      Object.keys(this._templateDic).forEach(key => {\r\n        this._templateDic[key].clear();\r\n      })\r\n      this._templateDic = {};\r\n    }\r\n  }\r\n\r\n  // TODO\r\n  public createInstance(object_id: string, var_id: string, template: VE_Template, object_name: string, error_info: ErrorInfo, destory_on_create_new: boolean): Nullable<VE_Template> {\r\n\r\n    let errorPos: string = \"错误定位信息：（项目：\" + this._projectName + \"，对象：\" + object_id + \"，模板变量：\" + var_id + \"，模板名：\" + template.templateID + \"）\";\r\n\r\n    // 若当前已有实例，则先删除\r\n    if (template.templateInstance !== null && destory_on_create_new) {\r\n      template.templateInstance.unload();\r\n      template.unload();\r\n    }\r\n\r\n    // （1）创建GameObject，3种情况，1、实例化当前场景中已有的模型，直接写物体名；2、Resources目录下的Prefab物体，prefab：前缀 + 实际路径；3、创建空物体，不填或者“null”；\r\n    let gameObject: Nullable<GameObject> = null;\r\n    let hasCreated: boolean = false;\r\n    let newObjectID: string = template.templateID + \"_\" + var_id.replace(StateConst.VARIABLE_SYMBOL, \"\");\r\n    if (object_name === '' || object_name.toLowerCase() === \"null\" || object_name.toLowerCase() === \"none\") {\r\n      gameObject = new GameObject(newObjectID + \"_Empty\");\r\n      hasCreated = true;\r\n    }\r\n    else {\r\n      gameObject = GameObject.Find(object_name);\r\n      if (gameObject === null) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：无法在场景中查找到对应名字的物体，也无法以预制件在Resources文件夹中加载，物体名：\" + object_name + \"！\" + errorPos;\r\n        return null;\r\n      }\r\n      // TODO: 无prefab类似结构\r\n      /*\r\n      try {\r\n        gameObject = Resources.Load(object_name) as GameObject;\r\n        if (gameObject == null) {\r\n          gameObject = GameObjectTools.FindGameObject(object_name);\r\n          if (gameObject == null) {\r\n            error_info = \"模板对象实例化失败：无法在场景中查找到对应名字的物体，也无法以预制件在TResources文件夹中加载，物体名：\" + object_name + \"！\" + errorPos;\r\n            return null;\r\n          }\r\n        }\r\n      }\r\n      catch\r\n      {\r\n        gameObject = GameObjectTools.FindGameObject(object_name);\r\n        if (gameObject == null) {\r\n          error_info = \"模板对象实例化失败：无法在场景中查找到对应名字的物体，也无法以预制件在TResources文件夹中加载，物体名：\" + object_name + \"！\" + errorPos;\r\n          return null;\r\n        }\r\n      }\r\n      */\r\n    }\r\n    // 实例化物体，物体为场景中的物体\r\n    if (!hasCreated) {\r\n      gameObject = GameObject.CreateInstance(gameObject);\r\n    }\r\n    // gameObject!.SetActive(true);\r\n    gameObject!.name += \"_\" + template.counter;\r\n    newObjectID += \"_\" + template.counter;\r\n    template.increase();\r\n    // 创建Object\r\n    let instance: VeryEngineObject = new VeryEngineObject(this._projectName, newObjectID, gameObject!);\r\n    template.addInstance(instance);\r\n    instance.template = template;\r\n\r\n    let objects: VE_Objects = VE_Manager.objects(this._projectName);\r\n    // 添加新对象，以便于变量查找\r\n    objects.add(newObjectID, instance);\r\n\r\n    // 回调函数，销毁时删除Objects中的数据\r\n    instance.setUnloadCallback(objects.unloadObject.bind(objects));\r\n\r\n    // （2）根据Template信息，重新创建对象\r\n    // 1）变量，判断，1.普通变量；2.公式；3.模板变量；公式挪后处理\r\n    for (let i: number = 0; i < template.varData.count; i++) {\r\n      let varID: string = template.varData.getVariableID(i);\r\n      let varPara: string[] = template.varData.getVariableParas(varID);\r\n      // 判断，1.普通变量；2.公式；3.模板变量；\r\n      // 1.公式\r\n      if (varPara[0] === \"公式\" || varPara[0].toLowerCase() === \"expression\") {\r\n        continue;\r\n      }\r\n      // 2.普通IVeryVar变量\r\n      else if (VeryVarManager.hasVarType(varPara[0])) {\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let newVar: Nullable<IVeryVar> = VeryVarManager.createVariable(varID, varPara[0], varPara[1], errorInfo);\r\n        // TODO: List判定\r\n        // if (isRight && newVar.VarType == VeryList._varType) {\r\n        //   ((VeryList)newVar ).SetChildValue(this._projectName, newObjectID, ref isRight, ref errorInfo);\r\n        // }\r\n        // // TODO: Dictionary判定\r\n        // if (isRight && newVar.VarType == VeryDictionary._varType) {\r\n        //   ((VeryDictionary)newVar ).SetChildValue(this._projectName, newObjectID, ref isRight, ref errorInfo);\r\n        // }\r\n        if (!errorInfo.isRight || newVar === null) {\r\n          error_info.isRight = false;\r\n          error_info.message = \"模板对象实例化失败：局部变量创建失败，局部变量：\" + varID + \"，\" + varPara[0] + \"，\" + varPara[1] + \"，错误信息：\" + errorInfo.message + \"！\" + errorPos;\r\n          return null;\r\n        }\r\n        else {\r\n          instance.addVariable(varID, newVar);\r\n        }\r\n      }\r\n      // 3.模板变量\r\n      else if (this.isCreatedTemplate(varPara[0])) {\r\n        instance.addTemplate(varID, this.getTemplate(varPara[0]).clone(newObjectID, varID));\r\n      }\r\n      // 未知错误\r\n      else {\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：局部变量创建失败，当前变量不存在，局部变量：\" + varID + \",\" + varPara[0] + \",\" + varPara[1] + \"！\" + errorPos;\r\n        return null;\r\n      }\r\n    }\r\n\r\n    // 2）状态机，状态变量创建\r\n    for (let i: number = 0; i < template.dataSource.fsmCount; i++) {\r\n      let fsmID: string = template.dataSource.getFsmID(i);\r\n      let fsmData: VE_FsmData = template.dataSource.getFsmData(fsmID);\r\n      // 创建状态变量，目前默认为string变量\r\n      let newVar: VeryString = new VeryString();\r\n      newVar.setValue(fsmData.initialValStr);\r\n      // 状态机\r\n      let fsm: VE_Fsm = new VE_Fsm(this.projectName, newObjectID, fsmID, newVar, instance);\r\n      instance.addFsm(fsmID, fsm);\r\n    }\r\n\r\n    // 3）公式初始化\r\n    for (let i: number = 0; i < template.varData.count; i++) {\r\n      let varID: string = template.varData.getVariableID(i);\r\n      let varPara: string[] = template.varData.getVariableParas(varID);\r\n      // 判断，1.普通变量；2.公式；3.模板变量；\r\n      // 1.公式\r\n      if (varPara[0] === \"公式\" || varPara[0].toLowerCase() === \"expression\") {\r\n        // 公式之间以从前到后的解析顺序变异，若前面的公式引用了后面的公式，会直接报错\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let localExp: IExpression = VE_Expressions.createLocalExpression(varID, varPara[1], this._projectName, newObjectID, errorInfo);\r\n        if (!errorInfo.isRight || localExp === null) {\r\n          error_info.isRight = false;\r\n          error_info.message = \"模板对象实例化失败：局部变量创建失败，公式创建错误：\\n\" + errorInfo.message + \"，请检查！\" + errorPos;\r\n          return null;\r\n        } else {\r\n          instance.addExpression(varID, localExp);\r\n        }\r\n      }\r\n      else {\r\n        continue;\r\n      }\r\n    }\r\n\r\n    // UGUI初始化\r\n\r\n    // 4）触发，创建\r\n    for (let i: number = 0; i < template.dataSource.triggerCount; i++) {\r\n      let triggerID: string = template.dataSource.getTriggerID(i);\r\n      let triggerPara: string[] = template.dataSource.getTriggerPara(triggerID);\r\n      if (!VE_Triggers.hasTrigger(triggerPara[0])) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：当前系统中不存在该触发类型，触发：\" + triggerID + \"类型：\" + triggerPara[0] + \"，请检查！\" + errorPos;\r\n        return null;\r\n      }\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let trigger: Nullable<VE_TriggerBehaviour> = VE_Triggers.createTrigger(instance, triggerID, triggerPara[0], triggerPara.slice(1), errorInfo);\r\n      if (!errorInfo.isRight || trigger === null) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：触发创建错误，触发：\" + triggerID + \"，原因：\" + errorInfo + \"，请检查！\" + errorPos;\r\n        return null;\r\n      } else {\r\n        // 自定义触发特殊处理\r\n        if (trigger.className === \"Trigger_Custom\") {\r\n          VE_CustomTriggerManager.AddTriggerEvent(this._projectName, newObjectID, triggerID, ((<Trigger_Custom>trigger).customEvent).bind(trigger));\r\n        }\r\n        instance.addTrigger(triggerID, trigger);\r\n      }\r\n    }\r\n\r\n    // 5）响应，创建\r\n    for (let i: number = 0; i < template.dataSource.actionCount; i++) {\r\n      let actionID: string = template.dataSource.getActionID(i);\r\n      let actionPara: string[] = template.dataSource.getActionPara(actionID);\r\n      if (!VE_Actions.hasAction(actionPara[0])) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：当前系统中不存在该响应类型，响应：\" + actionID + \"类型：\" + actionPara[0] + \"，请检查！\" + errorPos;\r\n        return null;\r\n      }\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let action: Nullable<VE_ActionBehaviour> = VE_Actions.createAction(instance, actionID, actionPara[0], actionPara.slice(1), template.dataSource.getActionInitVal(actionID), errorInfo);\r\n      if (!errorInfo.isRight || action === null) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：响应创建错误，响应：\" + actionID + \"，错误信息：\" + errorInfo + \"，请检查！\" + errorPos;\r\n        return null;\r\n      }\r\n      instance.addAction(actionID, action);\r\n    }\r\n\r\n    // 6）状态机，状态机信息关联：触发关联 + 响应关联 + 状态赋值\r\n    for (let i: number = 0; i < template.dataSource.fsmCount; i++) {\r\n      let fsmID: string = template.dataSource.getFsmID(i);\r\n      let fsmData: VE_FsmData = template.dataSource.getFsmData(fsmID);\r\n      // 状态机\r\n      let fsm: VE_Fsm = instance.getFsm(fsmID);\r\n      // 状态信息关联：触发激活条件，触发，逻辑表达式，状态值计算公式，响应，关联状态\r\n      for (let p: number = 0; p < fsmData.count; p++) {\r\n        let stateData: VE_StateData = fsmData.getStateData(p);\r\n        let state: VE_State = new VE_State(fsm, fsm.count + 1);\r\n        // 状态值，判断状态值不能重复，状态值为常量字符串\r\n        state.setConstValue(stateData.ValStr);\r\n\r\n        // // 状态值\r\n        // if (stateData.IsInitialValue) {\r\n        //   state.SetInitialValue(fsm.FsmVar.GetValue());\r\n        // }\r\n        // else {\r\n        //   //状态赋值处理\r\n        //   if (!StateAssignment(this._projectName, newObjectID, fsmID, VE_Manager.Variables(this._projectName), instance, fsm, stateData, state, ref error_info)) {\r\n        //     error_info += errorPos;\r\n        //     return null;\r\n        //   }\r\n        // }\r\n\r\n        // 响应是否顺序运行\r\n        if (stateData.isSequence) {\r\n          state.setSequence();\r\n        }\r\n\r\n        // 关联状态条件\r\n        if (stateData.logicalExp !== '') {\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let logicalExp: IExpression = VE_Expressions.createFsmExpression('', stateData.logicalExp, this._projectName, newObjectID, fsmID, errorInfo);\r\n          if (!errorInfo.isRight || logicalExp === null) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：状态逻辑表达式：\" + stateData.logicalExp + \"，逻辑表达式创建失败，公式创建错误：\\n：\" + errorInfo.message + \"，状态：\" + fsmID + \"，请检查！\" + errorPos;\r\n            return null;\r\n          }\r\n          state.logicalAssociated = logicalExp;\r\n        }\r\n\r\n        // 触发信息关联\r\n        for (let s: number = 0; s < stateData.triggerCount; s++) {\r\n          let triggerData: VE_StateTriggerData = stateData.getTrigger(s);\r\n          // 可能为当前对象，也可能是其他对象上的触发\r\n          let trigger: Nullable<VE_TriggerBehaviour> = VE_Triggers.findTrigger(instance, triggerData.triggerID);\r\n          if (trigger === null) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：当前触发无法在模板对象中查找到，触发ID：\" + triggerData.triggerID + \"，状态：\" + fsmID + \"，请检查！\" + errorPos;\r\n            return null;\r\n          }\r\n          // 逻辑条件\r\n          let logicalExp: Nullable<IExpression> = null;\r\n          if (triggerData.logicalExp !== '') {\r\n            // 状态逻辑表达式\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            logicalExp = VE_Expressions.createFsmExpression('', triggerData.logicalExp, this._projectName, newObjectID, fsmID, errorInfo);\r\n            if (!errorInfo.isRight || logicalExp === null) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：状态逻辑表达式：\" + triggerData.logicalExp + \"，逻辑表达式创建失败，公式创建错误：\\n：\" + errorInfo.message + \"，状态：\" + fsmID + \"，请检查！\" + errorPos;\r\n              return null;\r\n            }\r\n          }\r\n          trigger.addTriggerTarget(logicalExp, state);\r\n\r\n          // 触发启动条件\r\n          if (triggerData.logicalSwitch !== '') {\r\n            // 触发启动条件\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let logicalSwitch: IExpression = VE_Expressions.createFsmExpression('', triggerData.logicalSwitch, this._projectName, newObjectID, fsmID, errorInfo);\r\n            if (logicalSwitch == null) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：触发启动条件：\" + triggerData.logicalSwitch + \"，触发启动条件创建失败，公式创建错误：\\n\" + errorInfo.message + \"状态：\" + fsmID + \"，请检查！\" + errorPos;\r\n              return null;\r\n            }\r\n            trigger.addLogicalSwitch(logicalSwitch);\r\n          }\r\n        }\r\n        // 响应信息关联\r\n        for (let s: number = 0; s < stateData.actionCount; s++) {\r\n          let actionData: VE_StateActionData = stateData.getAction(s);\r\n          // 正常响应\r\n          if (actionData.type === StateActionType.Action) {\r\n            // 可能为当前对象，也可能是其他对象上的响应\r\n            let action: Nullable<VE_ActionBehaviour> = VE_Actions.findAction(instance, actionData.actionID);\r\n            if (action === null) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：当前响应无法在模板对象中查找到，响应ID：\" + actionData.actionID + \"，状态：\" + fsmID + \"，请检查！\" + errorPos;\r\n              return null;\r\n            }\r\n\r\n            // 响应参数，目前默认只支持常量（两个bool值理论上可以为常量或者变量和公式值引用）\r\n            // 启动标志\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let enableVar: Nullable<IVeryVar> = null;\r\n            let enableStr: string = actionData.enabled.trim().toLowerCase();\r\n            if (enableStr === 'false' || enableStr === '停止') {\r\n              enableVar = new VeryBool();\r\n              enableVar.setValue(false);\r\n            } else if (enableStr === 'true' || enableStr === '启动') {\r\n              enableVar = new VeryBool();\r\n              enableVar.setValue(true);\r\n            } else {\r\n              // 支持变量：（1）*变量名；（2）对象名.*变量名；注意：必须返回boolean\r\n              if (actionData.enabled.indexOf(StateConst.VARIABLE_SYMBOL) > -1) {\r\n                errorInfo.clear();\r\n                enableVar = VarTools.GetVeryVarWithExpression(this.projectName, newObjectID, actionData.enabled, errorInfo);\r\n                if (!errorInfo.isRight || enableVar === null) {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：响应启动参数格式不正确，错误信息：\" + errorInfo.message + \"，请检查！\" + errorPos;\r\n                  return null;\r\n                }\r\n                if (enableVar.varType !== 'bool') {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：响应启动参数变量必须返回bool值类型，当前变量类型：\" + enableVar.varType + \"，请检查！\" + errorPos;\r\n                  return null;\r\n                }\r\n              } else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：响应启动参数允许填写格式为：“启动/true”、“停止/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数不符合，参数为：\" + actionData.enabled + \"，请检查！\" + errorPos;\r\n                return null;\r\n              }\r\n            }\r\n\r\n            // 每帧运行\r\n            let everyFrameVar: Nullable<IVeryVar> = null;\r\n            let everyFrameStr: string = actionData.everyFrame.trim().toLowerCase();\r\n            if (everyFrameStr === 'false' || everyFrameStr === '一次') {\r\n              everyFrameVar = new VeryBool();\r\n              everyFrameVar.setValue(false);\r\n            } else if (everyFrameStr === 'true' || everyFrameStr === '持续') {\r\n              everyFrameVar = new VeryBool();\r\n              everyFrameVar.setValue(true);\r\n            } else {\r\n              // 支持变量：（1）*变量名；（2）对象名.*变量名；注意：必须返回boolean\r\n              if (actionData.everyFrame.indexOf(StateConst.VARIABLE_SYMBOL) > -1) {\r\n                errorInfo.clear();\r\n                everyFrameVar = VarTools.GetVeryVarWithExpression(this.projectName, newObjectID, actionData.everyFrame, errorInfo);\r\n                if (!errorInfo.isRight || everyFrameVar === null) {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：响应帧循环参数格式不正确，错误信息：\" + errorInfo.message + \"，请检查！\" + errorPos;\r\n                  return null;\r\n                }\r\n                if (everyFrameVar.varType !== 'bool') {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：响应帧循环参数变量必须返回bool值类型，当前变量类型：\" + everyFrameVar.varType + \"，请检查！\" + errorPos;\r\n                  return null;\r\n                }\r\n              } else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：响应帧循环参数允许填写格式为：“持续/true”、“一次/false”、“*变量名”、“对象名.*变量名”，且变量不能为模板变量，且变量返回值必须为bool值，当前参数为：\" + actionData.everyFrame + \"，请检查！\" + errorPos;\r\n                return null;\r\n              }\r\n            }\r\n\r\n            //顺序运行\r\n            let isSequenceStr: string = actionData.isSequence.trim().toLowerCase();\r\n            let isSequence: boolean = false;\r\n            if (isSequenceStr === 'false' || isSequenceStr === '同时') {\r\n              isSequence = false;\r\n            } else if (isSequenceStr === 'true' || isSequenceStr === '依次') {\r\n              isSequence = true;\r\n            } else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：响应依次运行状态允许填写格式为：“同时/false”、“依次/true”，不允许填写变量，当前参数为：\" + actionData.everyFrame + \"，请检查！\" + errorPos;\r\n              return null;\r\n            }\r\n\r\n            // 创建状态响应\r\n            let stateAction: VE_StateAction = new VE_StateAction();\r\n            stateAction.setAction(action, enableVar, everyFrameVar, isSequence);\r\n            state.addAction(stateAction);\r\n          }\r\n\r\n          // 赋值\r\n          else {\r\n            // 赋值响应\r\n            if (!this.assignmentAction(this._projectName, newObjectID, fsmID, VE_Manager.variables(this._projectName), instance, actionData, state, error_info)) {\r\n              error_info.message += errorPos;\r\n              return null;\r\n            }\r\n          }\r\n        }\r\n\r\n        /* \r\n        // 关联状态\r\n        if (fsm.isCreatedState(stateData.StateIndex)) {\r\n          error_info = \"模板对象实例化失败：当前关联ID已创建，请勿重复创建，状态：\" + fsmID + \"，状态赋值：\" + stateData.ValStr + \"，请检查！\";\r\n          return null;\r\n        }\r\n        else {\r\n          fsm.addState(state, stateData.stateIndex);\r\n        }\r\n        */\r\n       fsm.addState(state);\r\n      }\r\n    }\r\n\r\n    // 7）状态机，状态机信息关联：关联状态信息关联\r\n    for (let i: number = 0; i < template.dataSource.fsmCount; i++) {\r\n      let fsmID: string = template.dataSource.getFsmID(i);\r\n      let fsmData: VE_FsmData = template.dataSource.getFsmData(fsmID);\r\n      // 状态机\r\n      let fsm: VE_Fsm = instance.getFsm(fsmID);\r\n      // 状态信息关联：触发激活条件，触发，逻辑表达式，状态值计算公式，响应，关联状态\r\n      for (let p: number = 0; p < fsmData.count; p++) {\r\n        let stateData: VE_StateData = fsmData.getStateData(p);\r\n        let state: Nullable<VE_State> = fsm.getStateInSequence(p);\r\n\r\n        // 关联状态信息关联\r\n        for (let s: number = 0; s < stateData.associatedStateCount; s++) {\r\n          let associatedStateInfo: string = stateData.getAssociatedState(s);\r\n          let associatedState: VE_AssociatedState = new VE_AssociatedState(state!);\r\n          let multipleAssociatedState: string[] = associatedStateInfo.split(/,|，/);\r\n\r\n          for (let www: number = 0; www < multipleAssociatedState.length; www++) {\r\n            associatedStateInfo = multipleAssociatedState[www].trim();\r\n\r\n            let stateValue: string = StateConst.STATE_VALUE;\r\n\r\n            let strArray: string[] = associatedStateInfo.split('=');\r\n            if (strArray.length === 1) {\r\n            }\r\n            else if (strArray.length === 2) {\r\n              stateValue = strArray[1].trim();\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前关联状态格式错误，应为“状态名 = 状态值”的形式，请检查！\" + errorPos;\r\n              return null;\r\n            }\r\n\r\n            // 1. 状态名√\r\n            // 2. 对象名.状态名√\r\n            // 3. *模板变量.状态名√\r\n            // 4. 对象名.*局部模板变量.状态名√\r\n\r\n            let aFsmID: string = strArray[0].trim();\r\n            if (aFsmID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n              let stateArray: string[] = aFsmID.split(StateConst.STATE_SEPARATOR[0]);\r\n              for (let q: number = 0; q < stateArray.length; q++) {\r\n                stateArray[q] = stateArray[q].trim();\r\n              }\r\n              // √对象名.*局部模板变量.状态名\r\n              if (stateArray.length === 3) {\r\n                if (objects.isCreated(stateArray[0])) {\r\n                  let aObject: VeryEngineObject = objects.getVeryObject(stateArray[0]);\r\n                  if (stateArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n                    let varID: string = stateArray[1].substring(1);\r\n                    if (aObject.isCreatedTemplate(varID)) {\r\n                      let aTemplate: VE_Template = aObject.getTemplate(varID);\r\n                      if (aTemplate.dataSource.isCreatedFsm(stateArray[2])) {\r\n                        associatedState.addTemplate(aTemplate, stateArray[2], stateValue, errorPos);\r\n                        //VE_AssociatedState associatedState = new VE_AssociatedState(state, aTemplate, stateArray[2], stateIndex);\r\n                        //state.AddAssociatedState(associatedState);\r\n                      }\r\n                      else {\r\n                        error_info.isRight = false;\r\n                        error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，在当前对象的该模板变量中无法查找到对应状态名，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                        return null;\r\n                      }\r\n                    }\r\n                    else {\r\n                      error_info.isRight = false;\r\n                      error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，在当前对象中无法查找到该模板变量，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                      return null;\r\n                    }\r\n                  }\r\n                  else {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，模板变量填写格式不正确，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                    return null;\r\n                  }\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“对象名.*模板变量.状态名”形式，在当前系统中无法查找到该对象名，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                  return null;\r\n                }\r\n\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：当前关联状态格式错误，应为“（1）状态名（2）对象名.状态名（3）*模板变量.状态名（4）对象名.*局部模板变量.状态名”几种形式，当前不符合，无法解析，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                return null;\r\n              }\r\n              else if (stateArray.length === 2) {\r\n                let aObjectID: string = stateArray[0].trim();\r\n                aFsmID = stateArray[1].trim();\r\n                // *模板变量.状态名\r\n                if (aObjectID.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n                  aObjectID = aObjectID.substring(1);\r\n                  if (instance.isCreatedTemplate(aObjectID)) {\r\n                    let aTemplate: VE_Template = instance.getTemplate(aObjectID);\r\n                    if (aTemplate.dataSource.isCreatedFsm(stateArray[1])) {\r\n                      associatedState.addTemplate(aTemplate, stateArray[1], stateValue, errorPos);\r\n                      //VE_AssociatedState associatedState = new VE_AssociatedState(state, aTemplate, stateArray[1], stateIndex);\r\n                      //state.AddAssociatedState(associatedState);\r\n                    }\r\n                    else {\r\n                      error_info.isRight = false;\r\n                      error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“*模板变量.状态名”形式，在当前模板变量中无法查找到对应状态名，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                      return null;\r\n                    }\r\n                  }\r\n                  else {\r\n                    let globalVars: VE_Variables = VE_Manager.variables(this._projectName);\r\n                    if (globalVars.isCreatedTemplate(aObjectID)) {\r\n                      let aTemplate: VE_Template = globalVars.getTemplate(aObjectID);\r\n                      if (aTemplate.dataSource.isCreatedFsm(stateArray[1])) {\r\n                        associatedState.addTemplate(aTemplate, stateArray[1], stateValue, errorPos);\r\n                        //VE_AssociatedState associatedState = new VE_AssociatedState(state, aTemplate, stateArray[1], stateIndex);\r\n                        //state.AddAssociatedState(associatedState);\r\n                      }\r\n                      else {\r\n                        error_info.isRight = false;\r\n                        error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“*模板变量.状态名”形式，在当前模板变量中无法查找到对应状态名，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                        return null;\r\n                      }\r\n                    }\r\n                    else {\r\n                      error_info.isRight = false;\r\n                      error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“*模板变量.状态名”形式，在当前模板变量中无法查找到该“*模板变量”，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                      return null;\r\n                    }\r\n                  }\r\n                }\r\n                // √对象名.状态名\r\n                else {\r\n                  let aObject: VeryEngineObject = objects.getVeryObject(aObjectID);\r\n                  if (aObject === null) {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前关联状态填写格式为“对象名.状态名”，当前系统中无法查找到该对象名，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                    return null;\r\n                  }\r\n                  let aFsm: VE_Fsm = aObject.getFsm(aFsmID);\r\n                  if (aFsm === null) {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前关联状态填写格式为“对象名.状态名”，当前对象名所对应的对象中无法查找到该状态名，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                    return null;\r\n                  }\r\n                  let toState: Nullable<VE_State> = aFsm.getState(stateValue);\r\n                  if (toState === null) {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前关联状态填写格式为“对象名.状态名”，当前关联状态序号超出对应状态序号范围，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                    return null;\r\n                  }\r\n                  associatedState.add(toState, stateValue, errorPos);\r\n                  //VE_AssociatedState associatedState = new VE_AssociatedState(state, toState);\r\n                  //state.AddAssociatedState(associatedState);\r\n                }\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：当前关联状态格式错误，应为“（1）状态名（2）对象名.状态名（3）*模板变量.状态名（4）对象名.*局部模板变量.状态名”几种形式，当前不符合，无法解析，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                return null;\r\n              }\r\n            }\r\n            // 状态名\r\n            else {\r\n              let aFsm: VE_Fsm = instance.getFsm(aFsmID);\r\n              if (aFsm === null) {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“状态名”形式，无法查找到该状态，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                return null;\r\n              }\r\n              let toState: Nullable<VE_State> = aFsm.getState(stateValue);\r\n              if (toState === null) {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：当前关联状态格式错误，当前为“状态名”形式，可以查找到对象和状态，但是状态序号超出范围，状态：\" + fsmID + \"，关联状态：\" + associatedStateInfo + \"，请检查！\" + errorPos;\r\n                return null;\r\n              }\r\n              associatedState.add(toState, stateValue, errorPos);\r\n              //VE_AssociatedState associatedState = new VE_AssociatedState(state, toState);\r\n              //state.AddAssociatedState(associatedState);\r\n            }\r\n          }\r\n\r\n          state!.addAssociatedState(associatedState);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    return template;\r\n  }\r\n\r\n  private assignmentAction(project_name: string, object_id: string, fsm_id: string, global_vars: VE_Variables, very_object: VeryEngineObject, action_data: VE_StateActionData, state: VE_State, error_info: ErrorInfo): boolean {\r\n    // 赋值\r\n    let assignment: VE_Assignment = new VE_Assignment(state, action_data.totalString);\r\n    let varID: string = action_data.varID;\r\n    // Debug.LogWarning(\"赋值响应：\" + action_data.TotalString);\r\n    // （1）等号左侧： 变量必须为普通变量，允许格式：（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量；\r\n    if (varID.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // 变量或者公式\r\n    {\r\n      if (varID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n        let valArray: string[] = varID.split(StateConst.STATE_SEPARATOR);\r\n        for (let q: number = 0; q < valArray.length; q++) {\r\n          valArray[q] = valArray[q].trim();\r\n        }\r\n        // 对象名.*变量 or *模板变量.*变量\r\n        if (valArray.length === 2) {\r\n          // *模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n          if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n            let templateVarID: string = valArray[0].substring(1);\r\n            varID = valArray[1].substring(1);\r\n            if (very_object.isCreatedTemplate(templateVarID)) {\r\n              let template: VE_Template = very_object.getTemplate(templateVarID);\r\n              if (template.varData.isCreatedVariable(varID)) {\r\n                let varPara: string[] = template.varData.getVariableParas(varID);\r\n                if (varPara[1].toLowerCase() === \"expression\" || varPara[1].toLowerCase() === \"公式\") {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n                else {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n              }\r\n              else if (template.dataSource.isCreatedFsm(varID)) {\r\n                assignment.setLeftTemplateVar(template, varID);\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID)) {\r\n                  let varPara: string[] = template.varData.getVariableParas(varID);\r\n                  if (varPara[1].toLowerCase() === \"expression\" || varPara[1].toLowerCase() === \"公式\") {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，该变量不能为“公式”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    assignment.setLeftTemplateVar(template, varID);\r\n                  }\r\n                }\r\n                else if (template.dataSource.isCreatedFsm(varID)) {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，为全局变量，但是无法查到对应“*变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          //对象名.*变量\r\n          else {\r\n            let objects: VE_Objects = VE_Manager.objects(project_name);\r\n            if (objects.isCreated(valArray[0])) {\r\n              let aObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              varID = varID.substring(1);\r\n              if (aObject.isCreatedExpression(varID)) {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“对象名.*变量”，该变量不能为“公式”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n              else if (aObject.isCreatedFsm(varID)) {\r\n                let v: IVeryVar = aObject.getFsm(varID).fsmVar;\r\n                assignment.setLeftVariable(v);\r\n              }\r\n              else if (aObject.isCreatedVariable(varID)) {\r\n                let v: IVeryVar = aObject.getVariable(varID);\r\n                assignment.setLeftVariable(v);\r\n              }\r\n              else if (aObject.isCreatedTemplate(varID)) {\r\n                let template: VE_Template = aObject.getTemplate(varID);\r\n                assignment.setLeftTemplate(template);\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*变量”，当前“对象名”中无法查找到该变量，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*变量”，当前“对象名”无法在系统中查找到，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else if (valArray.length === 3)  // 对象名.*模板变量.*变量\r\n        {\r\n          // 对象名.*模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n          if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n          else {\r\n            let templateVarID: string = valArray[1].substring(1);\r\n            varID = valArray[2].substring(1);\r\n            let objects: VE_Objects = VE_Manager.objects(project_name);\r\n            if (objects.isCreated(valArray[0])) {\r\n              let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n              if (tObject.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                if (template.dataSource.isCreatedFsm(varID)) {\r\n                  assignment.setLeftTemplateVar(template, varID);\r\n                }\r\n                else if (template.varData.isCreatedVariable(varID)) {\r\n                  let varParas: string[] = template.varData.getVariableParas(varID);\r\n                  if (varParas[1].toLowerCase() === \"expression\" || varParas[1].toLowerCase() === \"公式\") {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量.*变量”为公式变量，公式变量不可直接赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                    return false;\r\n                  }\r\n                  else {\r\n                    assignment.setLeftTemplateVar(template, varID);\r\n                  }\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          error_info.isRight = false;\r\n          error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n          return false;\r\n        }\r\n      }\r\n      else // *变量\r\n      {\r\n        varID = varID.substring(1);\r\n        if (very_object.isCreatedExpression(varID)) {\r\n          error_info.isRight = false;\r\n          error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n          return false;\r\n        }\r\n        else if (very_object.isCreatedFsm(varID)) {\r\n          let v: IVeryVar = very_object.getFsm(varID).fsmVar;\r\n          assignment.setLeftVariable(v);\r\n        }\r\n        else if (very_object.isCreatedVariable(varID)) {\r\n          let v: IVeryVar = very_object.getVariable(varID);\r\n          assignment.setLeftVariable(v);\r\n        }\r\n        else if (very_object.isCreatedTemplate(varID)) {\r\n          let template: VE_Template = very_object.getTemplate(varID);\r\n          assignment.setLeftTemplate(template);\r\n        }\r\n        else {\r\n          // 全局变量\r\n          if (global_vars.isCreatedExpression(varID)) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n          else if (global_vars.isCreatedVariable(varID)) {\r\n            let v: IVeryVar = global_vars.getVariable(varID);\r\n            assignment.setLeftVariable(v);\r\n          }\r\n          else if (global_vars.isCreatedTemplate(varID)) {\r\n            let template: VE_Template = global_vars.getTemplate(varID);\r\n            assignment.setLeftTemplate(template);\r\n          }\r\n          else {\r\n            // 场景变量\r\n            // if (VerySceneVariables.Variables.isCreatedExpression(varID)) {\r\n            //   VE_ErrorManager.Add(VE_Error.Error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.TotalString + \"，当前赋值响应等号左侧格式“*变量”，该变量不能为“公式”，请检查！\", \"\"));\r\n            //   return false;\r\n            // }\r\n            // else if (VerySceneVariables.Variables.IsCreatedVariable(varID)) {\r\n            //   IVeryVar v = VerySceneVariables.Variables.GetVariable(varID);\r\n            //   assignment.SetLeft(v);\r\n            // }\r\n            // else {\r\n            //   VE_ErrorManager.Add(VE_Error.Error(\"\", \"项目：\" + project_name + \"，对象：\" + object_id + \"，状态：\" + fsm_id + \"，赋值响应：\" + action_data.TotalString + \"，当前赋值响应等号左侧格式“*变量”，无法在当前系统中查找到该变量，请检查！\", \"\"));\r\n            //   return false;\r\n            // }\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧格式“*变量”，无法在当前系统中查找到该变量，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      error_info.isRight = false;\r\n      error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号左边必须为变量，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n      return false;\r\n    }\r\n\r\n\r\n    // （2）等号右侧： 变量必须为普通变量，允许格式：（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量；（5）常量；\r\n    varID = action_data.varValue.trim();\r\n\r\n    // 字符串特殊处理\r\n    if (varID.startsWith(\"\\\"\") || varID.startsWith(\"'\") || varID.startsWith(\"“\") || varID.startsWith(\"‘\")) {\r\n      assignment.setRightConst(varID.substring(1, varID.length - 2).trim());\r\n    }\r\n    else if (VE_StringFormat.isFormulaString(varID))  // 公式处理\r\n    {\r\n      // Debug.LogError(varID);\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      StateConst.AssignmentFormulaCount++;\r\n      let localExp: IExpression = VE_Expressions.createLocalExpression(StateConst.AssignmentPrefix + StateConst.AssignmentFormulaCount.toString(), varID, project_name, object_id, errorInfo);\r\n      if (!errorInfo.isRight || localExp === null) {\r\n        // errorInfo = \"模板对象实例化失败：局部变量创建失败，公式创建错误：\\n\" + errorInfo + \"，请检查！\" + errorPos;\r\n        // return null;\r\n        error_info.isRight = false;\r\n        error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“公式”，公式解析错误，请检查！错误信息：\" + errorInfo.message;\r\n        return false;\r\n      }\r\n      assignment.setRightVariable(new VeryExpression(localExp));\r\n    }\r\n    else {\r\n      if (varID.indexOf(StateConst.VARIABLE_SYMBOL) > -1)  // 变量或者公式\r\n      {\r\n        if (varID.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n          let valArray: string[] = varID.split(StateConst.STATE_SEPARATOR);\r\n          for (let q: number = 0; q < valArray.length; q++) {\r\n            valArray[q] = valArray[q].trim();\r\n          }\r\n          // 对象名.*变量 or *模板变量.*变量\r\n          if (valArray.length === 2) {\r\n            // *模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n            if (valArray[0].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n              let templateVarID: string = valArray[0].substring(1);\r\n              varID = valArray[1].substring(1);\r\n              if (very_object.isCreatedTemplate(templateVarID)) {\r\n                let template: VE_Template = very_object.getTemplate(templateVarID);\r\n                if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                  // 不确定类型，需要在赋值时判断\r\n                  assignment.setRightTemplateVariable(template, varID);\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                if (global_vars.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = global_vars.getTemplate(templateVarID);\r\n                  if (template.varData.isCreatedVariable(varID) || template.dataSource.isCreatedFsm(varID)) {\r\n                    // 不确定类型，需要在赋值时判断\r\n                    assignment.setRightTemplateVariable(template, varID);\r\n                  }\r\n                  else {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”可以查找到，但是无法查到对应“*变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*模板变量.*变量”，当前“*模板变量”无法在系统中查找到，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n              }\r\n            }\r\n            // 对象名.*变量\r\n            else {\r\n              let objects: VE_Objects = VE_Manager.objects(project_name);\r\n              if (objects.isCreated(valArray[0])) {\r\n                let aObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n                varID = varID.substring(1);\r\n                let rightVar: Nullable<IVeryVar> = null;\r\n                let rightTemplate: Nullable<VE_Template> = null;\r\n                if (aObject.isCreatedExpression(varID)) {\r\n                  rightVar = new VeryExpression(aObject.getExpression(varID));\r\n                }\r\n                else if (aObject.isCreatedFsm(varID)) {\r\n                  rightVar = aObject.getFsm(varID).fsmVar;\r\n                }\r\n                else if (aObject.isCreatedVariable(varID)) {\r\n                  rightVar = aObject.getVariable(varID);\r\n                }\r\n                else if (aObject.isCreatedTemplate(varID)) {\r\n                  rightTemplate = aObject.getTemplate(varID);\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前“对象名”中无法查找到该变量，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n                // 赋值合理性判断\r\n                if (rightVar !== null) {\r\n                  if (assignment.leftType === AssignType.Template) {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧为“模板变量”类型，右侧为“普通变量”类型，无法赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                    return false;\r\n                  }\r\n                  else if (assignment.leftType === AssignType.Variable) {\r\n                    if (VE_AssignmentTypeJudge.allow(assignment.leftVariable!, rightVar)) {\r\n                      assignment.setRightVariable(rightVar);\r\n                    }\r\n                    else {\r\n                      error_info.isRight = false;\r\n                      error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                      return false;\r\n                    }\r\n                  }\r\n                  else {\r\n                    // 模板变量，不确定类型\r\n                    assignment.setRightVariable(rightVar);\r\n                  }\r\n                }\r\n                else if (rightTemplate != null) {\r\n                  if (assignment.leftType === AssignType.Template) {\r\n                    assignment.setRightTemplate(rightTemplate);\r\n                  }\r\n                  else {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧为“模板变量”，右侧为“普通变量”，无法赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前赋值响应等号右侧数据无法识别，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“对象名.*变量”，当前“对象名”无法在系统中查找到，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          else if (valArray.length === 3)  // 对象名.*模板变量.*变量\r\n          {\r\n            // 对象名.*模板变量.*变量，当前未实例化，只做前期语法检测，然后记录参数到状态，状态使用时，动态读取\r\n            if (valArray[0].startsWith(StateConst.STATE_SEPARATOR) || !valArray[1].startsWith(StateConst.STATE_SEPARATOR) || !valArray[2].startsWith(StateConst.STATE_SEPARATOR)) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，当前不符合，无法解析，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n              return false;\r\n            }\r\n            else {\r\n              let templateVarID: string = valArray[1].substring(1);\r\n              varID = valArray[2].substring(1);\r\n              let objects: VE_Objects = VE_Manager.objects(project_name);\r\n              if (objects.isCreated(valArray[0])) {\r\n                let tObject: VeryEngineObject = objects.getVeryObject(valArray[0]);\r\n                if (tObject.isCreatedTemplate(templateVarID)) {\r\n                  let template: VE_Template = tObject.getTemplate(templateVarID);\r\n                  // 无法判断是否为公式，需在运行条件下判断\r\n                  if (template.dataSource.isCreatedFsm(varID) || template.varData.isCreatedVariable(varID)) {\r\n                    // 不确定格式是否合理，运行时判断\r\n                    assignment.setRightTemplateVariable(template, varID);\r\n                  }\r\n                  else {\r\n                    error_info.isRight = false;\r\n                    error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名.*模板变量”可以查找到，但是无法查到对应“*变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                    return false;\r\n                  }\r\n                }\r\n                else {\r\n                  error_info.isRight = false;\r\n                  error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”的对象中无法查找到该“*模板变量”，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                  return false;\r\n                }\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式“对象名.*模板变量.*变量”，当前“对象名”无法在系统中查找到，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，赋值响应等号右侧变量格式错误，应为“（1）*变量；（2）对象名.*变量；（3）*模板变量.*变量；（4）对象名.*模板变量.*变量”几种形式，无法解析，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n        }\r\n        else // *变量\r\n        {\r\n          varID = varID.substring(1);\r\n          let rightVar: Nullable<IVeryVar> = null;\r\n          let rightTemplate: Nullable<VE_Template> = null;\r\n          if (very_object.isCreatedExpression(varID)) {\r\n            rightVar = new VeryExpression(very_object.getExpression(varID));\r\n          }\r\n          else if (very_object.isCreatedFsm(varID)) {\r\n            rightVar = very_object.getFsm(varID).fsmVar;\r\n          }\r\n          else if (very_object.isCreatedVariable(varID)) {\r\n            rightVar = very_object.getVariable(varID);\r\n          }\r\n          else if (very_object.isCreatedTemplate(varID)) {\r\n            rightTemplate = very_object.getTemplate(varID);\r\n          }\r\n          else {\r\n            // 全局变量\r\n            if (global_vars.isCreatedExpression(varID)) {\r\n              rightVar = new VeryExpression(global_vars.getExpression(varID));\r\n            }\r\n            else if (global_vars.isCreatedVariable(varID)) {\r\n              rightVar = global_vars.getVariable(varID);\r\n            }\r\n            else if (global_vars.isCreatedTemplate(varID)) {\r\n              rightTemplate = global_vars.getTemplate(varID);\r\n            }\r\n            else {\r\n              //场景变量\r\n              if (VerySceneVariables.Variables.isCreatedExpression(varID)) {\r\n                rightVar = new VeryExpression(VerySceneVariables.Variables.getExpression(varID));\r\n              }\r\n              else if (VerySceneVariables.Variables.isCreatedVariable(varID)) {\r\n                rightVar = VerySceneVariables.Variables.getVariable(varID);\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，无法在当前系统中查找到该变量，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n          }\r\n          // 赋值合理性判断\r\n          if (rightVar != null) {\r\n            if (assignment.leftType === AssignType.Template) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，等号左侧类型为“模板变量”，右侧为“普通变量”类型，无法赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n              return false;\r\n            }\r\n            else if (assignment.leftType === AssignType.Variable) {\r\n              if (VE_AssignmentTypeJudge.allow(assignment.leftVariable!, rightVar)) {\r\n                assignment.setRightVariable(rightVar);\r\n              }\r\n              else {\r\n                error_info.isRight = false;\r\n                error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，当前赋值响应等号左侧和右侧类型不匹配，无法赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n                return false;\r\n              }\r\n            }\r\n            else {\r\n              // 模板变量，不确定类型\r\n              assignment.setRightVariable(rightVar);\r\n            }\r\n          }\r\n          else if (rightTemplate != null) {\r\n            if (assignment.leftType === AssignType.Template) {\r\n              assignment.setRightTemplate(rightTemplate);\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，等号左侧类型为“模板变量”，右侧为“普通变量”类型，无法赋值，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n              return false;\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号右侧格式“*变量”，但是数据无法识别，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      else  // 常量\r\n      {\r\n        if (assignment.leftType === AssignType.Template) {\r\n          if (varID.trim().toLowerCase() === \"null\") {\r\n            assignment.setRightNull();\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧为模板变量，右侧赋值为常量时只能填“null”，表示销毁模板变量，当前格式错误，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n        }\r\n        else if (assignment.leftType === AssignType.TemplateVariable) {\r\n          assignment.setRightConst(varID);\r\n        }\r\n        else {\r\n          if (assignment.leftVariable !== null) {\r\n            let errorInfo: ErrorInfo = new ErrorInfo();\r\n            let newValue: any = assignment.leftVariable.initValue(varID, errorInfo);\r\n            if (!errorInfo.isRight || newValue === null) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧变量类型与右侧常量值不匹配，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n              return false;\r\n            }\r\n            else {\r\n              assignment.setRightConstValue(newValue);\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"模板对象实例化失败：赋值响应格式错误，当前赋值响应等号左侧变量获取为空，状态：\" + fsm_id + \"，赋值响应：\" + action_data.totalString + \"，请检查！\";\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    let stateAction: VE_StateAction = new VE_StateAction();\r\n    stateAction.setAssignment(assignment);\r\n    state.addAction(stateAction);\r\n    return true;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n}","export class ArrayUtility {\r\n  public static remove<T>(arr: Array<T>, ele: T): void {\r\n    let index = arr.indexOf(ele);\r\n    if (index > -1) {\r\n      arr.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  public static clear<T>(arr: Array<T>): void {\r\n    arr = [];\r\n  }\r\n\r\n  // public static T[] RemoveAt<T>(T[] array, int index) {\r\n  //   List < T > list = new List<T>(array);\r\n  //   list.RemoveAt(index);\r\n  //   return list.ToArray();\r\n  // }\r\n\r\n}\r\n\r\n","export class VE_StringFormat {\r\n\r\n  private static _illegalChar: { [key: string]: boolean } = {};\r\n  private static _formulaChar: { [key: string]: boolean } = {};\r\n  private static _escapeCharacters: { [key: string]: string } = {};\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static init() {\r\n    this._escapeCharacters['n'] = '\\n';\r\n    this._escapeCharacters['b'] = '\\b';\r\n    this._escapeCharacters['r'] = '\\r';\r\n    this._escapeCharacters['t'] = '\\t';\r\n    this._escapeCharacters['v'] = '\\v';\r\n    this._escapeCharacters['f'] = '\\f';\r\n    this._escapeCharacters['0'] = '\\0';\r\n\r\n    this._illegalChar['='] = true;\r\n    this._illegalChar[','] = true;\r\n    this._illegalChar['，'] = true;\r\n    this._illegalChar[':'] = true;\r\n    this._illegalChar['：'] = true;\r\n    this._illegalChar['*'] = true;\r\n    this._illegalChar['('] = true;\r\n    this._illegalChar['（'] = true;\r\n    this._illegalChar[')'] = true;\r\n    this._illegalChar['）'] = true;\r\n    this._illegalChar['@'] = true;\r\n    this._illegalChar['#'] = true;\r\n    this._illegalChar['$'] = true;\r\n    this._illegalChar['%'] = true;\r\n    this._illegalChar['&'] = true;\r\n    this._illegalChar['^'] = true;\r\n    this._illegalChar['-'] = true;\r\n    this._illegalChar['+'] = true;\r\n    this._illegalChar['|'] = true;\r\n    this._illegalChar['/'] = true;\r\n    this._illegalChar['['] = true;\r\n    this._illegalChar['【'] = true;\r\n    this._illegalChar[']'] = true;\r\n    this._illegalChar['】'] = true;\r\n    this._illegalChar['{'] = true;\r\n    this._illegalChar['}'] = true;\r\n    this._illegalChar['.'] = true;\r\n    this._illegalChar['。'] = true;\r\n    this._illegalChar['<'] = true;\r\n    this._illegalChar['>'] = true;\r\n    this._illegalChar[';'] = true;\r\n    this._illegalChar['；'] = true;\r\n    this._illegalChar['?'] = true;\r\n    this._illegalChar['\\\"'] = true;\r\n    this._illegalChar['“'] = true;\r\n    this._illegalChar['”'] = true;\r\n    this._illegalChar['\\''] = true;\r\n    this._illegalChar['‘'] = true;\r\n    this._illegalChar['’'] = true;\r\n    this._illegalChar['!'] = true;\r\n    this._illegalChar['！'] = true;\r\n    this._illegalChar['`'] = true;\r\n    this._illegalChar['·'] = true;\r\n    this._illegalChar['~'] = true;\r\n\r\n    this._formulaChar['('] = true; this._formulaChar[')'] = true; this._formulaChar['（'] = true; this._formulaChar['）'] = true;\r\n    this._formulaChar['!'] = true; this._formulaChar['！'] = true;\r\n    this._formulaChar['^'] = true; this._formulaChar['%'] = true; this._formulaChar['&'] = true; this._formulaChar['-'] = true; this._formulaChar['+'] = true; this._formulaChar['='] = true;\r\n    this._formulaChar['<'] = true; this._formulaChar['>'] = true; this._formulaChar['|'] = true;\r\n  }\r\n\r\n  /**\r\n   * 输入参数字符串格式化，识别转义字符\r\n   * @param para_str 原始字符串\r\n   */\r\n  public static strEscapeCharacterAction(para_str: string): string {\r\n    let tmpStr: string = \"\";\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      if (para_str[i] == '\\\\' && i != para_str.length - 1) {\r\n        tmpStr += this.getEscapeCharacter(para_str[i + 1]);\r\n        i++;\r\n      }\r\n      else {\r\n        tmpStr += para_str[i];\r\n      }\r\n    }\r\n    return tmpStr;\r\n  }\r\n\r\n  /**\r\n   * 输入参数字符串格式化，识别“（）”， 输出格式化字符串；；\r\n   * @param para_str 输入字符串；\r\n   */\r\n  public static strSubsectionAction(para_str: string): string[] {\r\n    let strBuilder: string = '';\r\n    let rStr: string[] = [];\r\n    let bracketFlag: boolean = false;\r\n    let hasQuote: boolean = false;\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      if (para_str[i] == '\\\\') {\r\n        if (i < para_str.length - 1) {\r\n          strBuilder += para_str[i + 1];\r\n          i++;\r\n          continue;\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (!hasQuote && (para_str[i] === '\\\"' || para_str[i] === '“')) {\r\n        hasQuote = true;\r\n        bracketFlag = true;\r\n        strBuilder += '\\\"';\r\n      }\r\n      else if (hasQuote && (para_str[i] === '\\\"' || para_str[i] === '”')) {\r\n        strBuilder += '\\\"';\r\n        bracketFlag = false;\r\n        hasQuote = false;\r\n        if (strBuilder !== '') {\r\n          rStr.push(strBuilder);\r\n        }\r\n        strBuilder = '';\r\n      }\r\n      else if (para_str[i] === ',' || para_str[i] === '，') {\r\n        if (!bracketFlag) {\r\n          if (strBuilder !== \"\") {\r\n            rStr.push(strBuilder);\r\n          }\r\n          strBuilder = '';\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n        }\r\n      }\r\n      else if (para_str[i] === ' ') {\r\n        continue;\r\n      }\r\n      else {\r\n        strBuilder += para_str[i];\r\n      }\r\n    }\r\n    if (strBuilder !== \"\") {\r\n      rStr.push(strBuilder);\r\n    }\r\n    return rStr;\r\n  }\r\n\r\n\r\n  private static getEscapeCharacter(para_char: string): string {\r\n    if (this._escapeCharacters[para_char])\r\n      return this._escapeCharacters[para_char];\r\n    else\r\n      return para_char;\r\n  }\r\n\r\n  private static getEscapeCharacter2(para_char: string, is_escape: boolean[]): string {\r\n    if (this._escapeCharacters[para_char]) {\r\n      is_escape[0] = true;\r\n      return this._escapeCharacters[para_char];\r\n    }\r\n    else {\r\n      is_escape[0] = false;\r\n      return para_char;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 输入参数字符串格式化，识别“（）”，\"（XXX）\"或者\"“XXX”\"当中的XXX会自动成为一个单独的字符串；\r\n   * @param para_str 输入字符串；\r\n   */\r\n  public static strSubsection(para_str: string): string[] {\r\n    let strBuilder: string = '';\r\n    let rStr: string[] = [];\r\n    let bracketFlag: boolean = false;\r\n    let needSpace: boolean = false;\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      if (para_str[i] == '\\\\') {\r\n        if (i < para_str.length - 1) {\r\n          strBuilder += this.getEscapeCharacter(para_str[i + 1]);\r\n          i++;\r\n          continue;\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n          break;\r\n        }\r\n      }\r\n      if (para_str[i] === '(' || para_str[i] === '（' || para_str[i] === '\\\"' || para_str[i] === '“') {\r\n        bracketFlag = true;\r\n        needSpace = false;\r\n      }\r\n      else if (para_str[i] === ')' || para_str[i] === '）' || para_str[i] === '\\\"' || para_str[i] === '”') {\r\n        bracketFlag = false;\r\n        if (strBuilder !== \"\") {\r\n          rStr.push(strBuilder);\r\n        }\r\n        strBuilder = '';\r\n        needSpace = false;\r\n      }\r\n      else if (para_str[i] === ',' || para_str[i] === '，') {\r\n        if (!bracketFlag) {\r\n          if (strBuilder !== \"\") {\r\n            rStr.push(strBuilder);\r\n          }\r\n          strBuilder = '';\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n        }\r\n        needSpace = false;\r\n      }\r\n      else if (para_str[i] === ' ' && !needSpace) {\r\n        continue;\r\n      }\r\n      else {\r\n        strBuilder += para_str[i];\r\n        needSpace = true;\r\n      }\r\n    }\r\n    if (strBuilder !== \"\") {\r\n      rStr.push(strBuilder);\r\n    }\r\n    return rStr;\r\n  }\r\n\r\n  /**\r\n   * 将输入参数字符串进行格式化，识别$开头的公式变量，转化为相应的值；\r\n   * @param project_name 项目名；\r\n   * @param para_array 参数字符串列表；\r\n   */\r\n  public static getParaArrayAll(project_name: string, para_array: string[]): string[] {\r\n    let coloneStr: string[] = para_array.slice();\r\n    for (let i: number = 0; i < coloneStr.length; i++) {\r\n      if (coloneStr[i].startsWith(\"$\")) {\r\n        //递归处理“（）”中的参数\r\n        if (coloneStr[i].indexOf(\",\") > -1 || coloneStr[i].indexOf(\"，\")) {\r\n          let paraArray: string[] = coloneStr[i].split(/,|，/);\r\n          paraArray = this.getParaArrayAll(project_name, paraArray);\r\n          let newPara: string = '';\r\n          for (let j: number = 0; j < paraArray.length; j++) {\r\n            if (j === paraArray.length - 1) {\r\n              newPara += paraArray[j];\r\n            }\r\n            else {\r\n              newPara += paraArray[j];\r\n              newPara += \",\";\r\n            }\r\n          }\r\n          coloneStr[i] = newPara;\r\n        }\r\n        else {\r\n          // TODO\r\n          console.error(\"变量名：\" + coloneStr[i] + \"，该变量未被创建！\");\r\n        }\r\n      }\r\n      else if (coloneStr[i].startsWith(\"%\")) {\r\n        //递归处理“（）”中的参数\r\n        if (coloneStr[i].indexOf(\",\") > -1 || coloneStr[i].indexOf(\"，\") > -1) {\r\n          let paraArray: string[] = coloneStr[i].split(/,|，/);\r\n          paraArray = this.getParaArrayAll(project_name, paraArray);\r\n          let newPara: string = '';\r\n          for (let j: number = 0; j < paraArray.length; j++) {\r\n            if (j == paraArray.length - 1) {\r\n              newPara += paraArray[j];\r\n            }\r\n            else {\r\n              newPara += paraArray[j];\r\n              newPara += \",\";\r\n            }\r\n          }\r\n          coloneStr[i] = newPara;\r\n        }\r\n        else {\r\n          // TODO\r\n          console.error(\"变量名：\" + coloneStr[i] + \"，该BlurVar变量未被创建！\");\r\n        }\r\n      }\r\n      //递归处理“（）”中的参数\r\n      else if (coloneStr[i].indexOf(\",\") > -1 || coloneStr[i].indexOf(\"，\") > -1) {\r\n        let paraArray: string[] = coloneStr[i].split(/,|，/);\r\n        paraArray = this.getParaArrayAll(project_name, paraArray);\r\n        let newPara: string = '';\r\n        for (let j: number = 0; j < paraArray.length; j++) {\r\n          if (j == paraArray.length - 1) {\r\n            newPara += paraArray[j];\r\n          }\r\n          else {\r\n            newPara += paraArray[j];\r\n            newPara += \",\";\r\n          }\r\n        }\r\n        coloneStr[i] = newPara;\r\n      }\r\n    }\r\n    return coloneStr;\r\n  }\r\n\r\n  /**\r\n   * 参数字符串分割：\r\n     1、字符串有双引号，且有字符串加法，无法分辨，所以字符串暂时不做任何处理；\r\n     2、小括号有使用需求，需要按要求分析；\r\n        （1）单独括号，后面接逗号：自动取消括号后返回；\r\n        （2）前缀字符串 +（）：保留括号，整段返回；\r\n        （3）（）+ 后缀字符串：保留括号，整段返回；\r\n        （4）括号嵌套情况：1）内层括号全保存；2）外层参考123；\r\n    返回字符串解析后的数组；\r\n   * @param para_str 参数字符串；\r\n   */\r\n  public static paraSegment(para_str: string): string[] {\r\n    let strBuilder = '';\r\n    let rStr: string[] = [];\r\n    let bracketFlag: boolean = false;\r\n    let innerBracket: number = 0;\r\n    let saveBracket: boolean = false;\r\n\r\n    let quotationMark: boolean = false;\r\n\r\n    for (let i: number = 0; i < para_str.length; i++) {\r\n      //转义字符判断\r\n      if (para_str[i] == '\\\\') {\r\n        if (i < para_str.length - 1) {\r\n          let isEscape: boolean[] = [true];\r\n          let c: string = this.getEscapeCharacter2(para_str[i + 1], isEscape);\r\n          if (isEscape[0]) {\r\n            i++;\r\n            strBuilder += c;\r\n          }\r\n          else {\r\n            i++;\r\n            strBuilder += para_str[i];\r\n          }\r\n          continue;\r\n        }\r\n        else {\r\n          strBuilder += para_str[i];\r\n          break;\r\n        }\r\n      }\r\n      if (para_str[i] === '(' || para_str[i] === '（') {\r\n        if (quotationMark) {\r\n          strBuilder += para_str[i];\r\n        }\r\n        else {\r\n          if (bracketFlag) {\r\n            innerBracket++;\r\n            strBuilder += para_str[i];\r\n          }\r\n          else if (strBuilder.trim() !== \"\") {\r\n            strBuilder += para_str[i];\r\n            saveBracket = true;\r\n          }\r\n          else if (i < para_str.length - 1) {\r\n            if (this.needSaveBracket(para_str.substring(i + 1))) {\r\n              strBuilder += para_str[i];\r\n              saveBracket = true;\r\n            }\r\n          }\r\n          bracketFlag = true;\r\n        }\r\n      }\r\n      else if (para_str[i] === ')' || para_str[i] === '）') {\r\n        if (quotationMark) {\r\n          strBuilder += para_str[i];\r\n        }\r\n        else {\r\n          if (innerBracket > 0) {\r\n            innerBracket--;\r\n            bracketFlag = true;\r\n            strBuilder += para_str[i];\r\n          }\r\n          else if (bracketFlag && saveBracket) {\r\n            strBuilder += para_str[i];\r\n            saveBracket = false;\r\n            bracketFlag = false;\r\n          }\r\n          else {\r\n            bracketFlag = false;\r\n          }\r\n        }\r\n      }\r\n      else if (para_str[i] === '\"' || para_str[i] === '\\'' || para_str[i] === '“' || para_str[i] === '”' || para_str[i] === '‘' || para_str[i] === '’') {\r\n        strBuilder += para_str[i];\r\n        quotationMark = !quotationMark;\r\n      }\r\n      else if (para_str[i] === ',' || para_str[i] === '，') {\r\n        if (quotationMark) {\r\n          strBuilder += para_str[i];\r\n        }\r\n        else {\r\n          if (!bracketFlag) {\r\n            if (strBuilder !== \"\") {\r\n              rStr.push(strBuilder.trim());\r\n            }\r\n            strBuilder = '';\r\n          }\r\n          else {\r\n            strBuilder += para_str[i];\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        strBuilder += para_str[i];\r\n      }\r\n    }\r\n    if (strBuilder !== \"\") {\r\n      rStr.push(strBuilder.trim());\r\n    }\r\n    return rStr;\r\n  }\r\n\r\n\r\n  private static needSaveBracket(str: string): boolean {\r\n    let hasBracket: boolean = false;\r\n    let innerBracket: number = 0;\r\n    for (let i: number = 0; i < str.length; i++) {\r\n      if (hasBracket) {\r\n        if (str[i] === ' ') {\r\n          continue;\r\n        }\r\n        else if (str[i] === ',' || str[i] === '，') {\r\n          return false;\r\n        }\r\n        else {\r\n          return true;\r\n        }\r\n      }\r\n      else {\r\n        if (str[i] === '(' || str[i] === '（') {\r\n          innerBracket++;\r\n        }\r\n        else if (str[i] === ')' || str[i] === '）') {\r\n          if (innerBracket > 0) {\r\n            innerBracket--;\r\n          }\r\n          else {\r\n            hasBracket = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  public static isIDLegal(id: string): boolean {\r\n    for (let i: number = 0; i < id.length; i++) {\r\n      if (this._illegalChar[id[i]]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n\r\n  public static isFormulaString(var_str: string): boolean {\r\n    for (let i: number = 0; i < var_str.length; i++)\r\n    {\r\n      if (this._formulaChar[var_str[i]]) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n}\r\n\r\nVE_StringFormat.init();\r\n\r\n// console.log(VE_StringFormat.paraSegment(\"设置相机背景颜色, Main Camera, *插值背景色\"));\r\n// console.log(VE_StringFormat.paraSegment(`浮点数比较, *Float1, *Float2, 0.0001, >=`));\r\n// console.log(VE_StringFormat.paraSegment(`对象.*变量1 = 'ksd./,.34'`));\r\n\r\n// console.log(VE_StringFormat.paraSegment(\"创建模板对象, *针, Pin, Example/SpinAPin/Pin , null, (0, -6, 0), (0,0,90),false\"));","import { ParaType, Severity } from \"../enum\";\r\nimport { VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { VeryGameObject, VeryVarManager, VarTools, IVeryVar, VeryString, VeryExpression, VeryNumber, VeryBool, VeryVector3, VeryRect, VeryVector2, VeryMaterial } from \"../variables\";\r\nimport { ErrorInfo } from \"./errorInfo\";\r\nimport { VE_Template } from \"../template\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { GameObject } from \"../babylon\";\r\nimport { VeryEngineObject } from \"../object\";\r\nimport { VE_TypeConvert } from \"./typeConvert\";\r\nimport { VeryParas } from \"./veryParas\";\r\n\r\nexport class ParaParserUtility {\r\n\r\n  /**\r\n   * 参数个数判断；\r\n   * @param id 响应或触发类型；\r\n   * @param para_type 响应或者触发；\r\n   * @param current_number 当前参数个数；\r\n   * @param required_number 期望参数个数；\r\n   */\r\n  public static ParaNumbers(id: string, para_type: ParaType, current_number: number, ...required_number: number[]): boolean {\r\n    for (let i: number = 0; i < required_number.length; i++) {\r\n      if (required_number[i] === current_number) {\r\n        return true;\r\n      }\r\n    }\r\n    let requiredStr: string = \"\";\r\n    for (let i: number = 0; i < required_number.length; i++) {\r\n      if (i === 0) {\r\n        requiredStr += (required_number[i] + 1).toString() + \"个\";\r\n      }\r\n      else {\r\n        requiredStr += \"或者\" + (required_number[i] + 1).toString() + \"个\";\r\n      }\r\n    }\r\n    if (para_type === ParaType.Action) {\r\n\r\n      VE_ErrorManager.Add(new VE_Error('', id + \" 响应 需要\" + requiredStr + \"传入参数，当前参数个数为\" + (current_number + 1) + \"个，请检查！\", '', Severity.Error));\r\n    }\r\n    else {\r\n      VE_ErrorManager.Add(new VE_Error('', id + \" 触发 需要\" + requiredStr + \"传入参数，当前参数个数为\" + (current_number + 1) + \"个，请检查！\", '', Severity.Error));\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * 解析VeryGameObject变量；\r\n   * @param project_name 项目名；\r\n   * @param object_id 对象名；\r\n   * @param id 变量ID；\r\n   * @param para_type 响应或者触发；\r\n   * @param very_var 待解析变量；\r\n   * @param var_str 原始字符串；\r\n   * @param log 是否打印错误信息；\r\n   * 返回是否解析正确；\r\n   */\r\n  public static GameObjectPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        // 查找Template\r\n        errorInfo.clear();\r\n        let template: Nullable<VE_Template> = VarTools.GetTemplate(project_name, object_id, var_str, errorInfo);\r\n        if (template === null) {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，当前系统中无法查找到该变量：${var_str}，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n        else {\r\n          if (template.templateInstance === null) {\r\n            if (log) {\r\n              VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，传入参数为模板变量：${var_str}，当前模板变量未实例化，无法获取GameObject，请检查！`, '', Severity.Error));\r\n            }\r\n            return false;\r\n          }\r\n          else {\r\n            paras.gameObject.value = template.templateInstance.gameObject;\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n      else if (veryVar.className === 'VeryGameObject') {\r\n        paras.gameObject = <VeryGameObject>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryString') {\r\n        let vString: VeryString = <VeryString>veryVar;\r\n        paras.gameObject.value = GameObject.Find(vString.value);\r\n        if (paras.gameObject.value === null) {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，物体：${vString.value}，无法在场景中查找到，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为GameObject变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (var_str.toLowerCase().trim() === \"this\") {\r\n        let veryObject: VeryEngineObject = VE_Manager.objects(project_name).getVeryObject(object_id);\r\n        if (veryObject === null) {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，当前响应所在对象 ：${object_id}，无法在场景中查找到，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n        else {\r\n          paras.gameObject.value = veryObject.gameObject;\r\n        }\r\n      }\r\n      else if (var_str.toLowerCase().trim() === \"null\" || var_str.toLowerCase().trim() === \"none\" || var_str.toLowerCase().trim() === \"\") {\r\n        paras.gameObject.value = null;\r\n      }\r\n      else if (var_str.startsWith(\"/\")) {\r\n        let veryObject: VeryEngineObject = VE_Manager.objects(project_name).getVeryObject(object_id);\r\n        if (!veryObject) {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，当前响应所在对象 ：${object_id}，无法在场景中查找到，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n        else {\r\n          let parentObj: GameObject = veryObject.gameObject;\r\n          let childName: string = var_str.substring(1).trim();\r\n          // TODO: 查询子物体\r\n          // very_var.value = GameObject.FindChild(parentObj, childName);\r\n          if (paras.gameObject.value === null) {\r\n            if (log) {\r\n              VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，对象名：${object_id}，物体：${var_str}，该子物体无法在当前对象中查找到，请检查！`, '', Severity.Error));\r\n            }\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n      else {\r\n        paras.gameObject.value = GameObject.Find(var_str);\r\n        if (paras.gameObject.value === null) {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，物体 ：${object_id}，无法在场景中查找到，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public static GameObjectParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，只能为GameObject变量，不能为常量，也不能是模板变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryGameObject') {\r\n        paras.gameObject = <VeryGameObject>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为GameObject变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为GameObject变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static StringPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.StringParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n    else {\r\n      paras.string.value = var_str;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public static StringParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryString') {\r\n        paras.string = <VeryString>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'string') {\r\n          paras.string.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为String，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为String变量，请检查！`, '', Severity.Error));\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    else {\r\n      paras.string.value = var_str;\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  public static StringParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryString') {\r\n        paras.string = <VeryString>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为String变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为String变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  public static NumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.NumberParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n    else {\r\n      paras.number.value = parseFloat(var_str);\r\n      if (isNaN(paras.number.value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public static NumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.number = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'number') {\r\n          paras.number.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为number数字，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.number.value = parseFloat(var_str);\r\n      if (isNaN(paras.number.value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public static NumberParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.number = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  public static BoolPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.BoolParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n    else {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      paras.bool.value = VE_TypeConvert.boolConvert(var_str, errorInfo);\r\n      if (errorInfo.isRight === false) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为bool常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  public static BoolParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true) {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryBool') {\r\n        paras.bool = <VeryBool>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'bool') {\r\n          paras.bool.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为bool，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为bool变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      paras.bool.value = VE_TypeConvert.boolConvert(var_str, errorInfo);\r\n      if (errorInfo.isRight === false) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为bool常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public static BoolParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryBool') {\r\n        paras.bool = <VeryBool>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为bool常量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为bool变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n\r\n  public static Vector3Para(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryVector3') {\r\n        paras.vector3 = <VeryVector3>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3向量变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3向量变量，当前为常量字符串，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static Vector3OrNumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (var_str.indexOf(\",\") > -1 || var_str.indexOf(\"，\") > -1) {\r\n      paras.isVec = false;\r\n      let floatsArray: string[] = var_str.split(/,|，/);\r\n      if (floatsArray.length === 3) {\r\n        if (!this.privateNumberPara(project_name, object_id, id, para_type, paras, floatsArray[0].trim(), 0, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateNumberPara(project_name, object_id, id, para_type, paras, floatsArray[1].trim(), 1, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateNumberPara(project_name, object_id, id, para_type, paras, floatsArray[2].trim(), 2, log)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为“（数字1, 数字2, 数字3）”格式的数字number变量，当前参数个数不符合，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.isVec = true;\r\n      return this.Vector3Para(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n  }\r\n\r\n\r\n  public static Vector3ParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryVector3') {\r\n        paras.vector3 = <VeryVector3>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'Vector3') {\r\n          paras.vector3.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为Vector3，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3变量，当前为常量字符串，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static Vector3OrNumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (var_str.indexOf(\",\") > -1 || var_str.indexOf(\"，\") > -1) {\r\n      paras.isVec = false;\r\n      let floatsArray: string[] = var_str.split(/,|，/);\r\n      if (floatsArray.length === 3) {\r\n        if (!this.privateNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[0].trim(), 0, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[1].trim(), 1, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[2].trim(), 2, log)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为“（数字1, 数字2, 数字3）”格式的Vector3变量，当前参数个数不符合，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.isVec = true;\r\n      return this.Vector3ParaWithExpression(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n  }\r\n\r\n  private static privateNumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.vecNumbers[index] = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'number') {\r\n          paras.vecNumbers[index].setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为number数字，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.vecNumbers[index].value = parseFloat(var_str);\r\n      if (isNaN(paras.vecNumbers[index].value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private static privateNumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.privateNumberParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, index, log);\r\n    }\r\n    else {\r\n      paras.vecNumbers[index].value = parseFloat(var_str);\r\n      if (isNaN(paras.vecNumbers[index].value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private static privateNumberParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.vecNumbers[index] = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //TODO:20200807_Rect扩展\r\n  public static RectPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryRect') {\r\n        paras.rect = <VeryRect>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3向量变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3向量变量，当前为常量字符串，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n  public static RectOrNumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (var_str.indexOf(\",\") > -1 || var_str.indexOf(\"，\") > -1) {\r\n      paras.isRect = false;\r\n      let floatsArray: string[] = var_str.split(/,|，/);\r\n      if (floatsArray.length === 4) {\r\n        if (!this.privateRectNumberPara(project_name, object_id, id, para_type, paras, floatsArray[0].trim(), 0, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateRectNumberPara(project_name, object_id, id, para_type, paras, floatsArray[1].trim(), 1, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateRectNumberPara(project_name, object_id, id, para_type, paras, floatsArray[2].trim(), 2, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateRectNumberPara(project_name, object_id, id, para_type, paras, floatsArray[3].trim(), 3, log)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为“（数字1, 数字2, 数字3）”格式的数字number变量，当前参数个数不符合，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.isRect = true;\r\n      return this.RectPara(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n  }\r\n\r\n\r\n  public static RectParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryRect') {\r\n        paras.rect = <VeryRect>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'Rect') {\r\n          paras.rect.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为Vector3，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3变量，当前为常量字符串，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static RectOrNumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (var_str.indexOf(\",\") > -1 || var_str.indexOf(\"，\") > -1) {\r\n      paras.isRect = false;\r\n      let floatsArray: string[] = var_str.split(/,|，/);\r\n      if (floatsArray.length === 4) {\r\n        if (!this.privateRectNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[0].trim(), 0, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateRectNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[1].trim(), 1, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateRectNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[2].trim(), 2, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateRectNumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[3].trim(), 3, log)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为“（数字1, 数字2, 数字3）”格式的Vector3变量，当前参数个数不符合，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.isRect = true;\r\n      return this.RectParaWithExpression(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n  }\r\n  private static privateRectNumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.rectNumbers[index] = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'number') {\r\n          paras.rectNumbers[index].setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为number数字，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.rectNumbers[index].value = parseFloat(var_str);\r\n      if (isNaN(paras.rectNumbers[index].value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private static privateRectNumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.privateNumberParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, index, log);\r\n    }\r\n    else {\r\n      paras.rectNumbers[index].value = parseFloat(var_str);\r\n      if (isNaN(paras.rectNumbers[index].value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private static privateRectNumberParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.rectNumbers[index] = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //TODO:20200807_Vector2扩展\r\n  public static Vector2Para(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryVector2') {\r\n        paras.vector2 = <VeryVector2>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3向量变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3向量变量，当前为常量字符串，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static Vector2OrNumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (var_str.indexOf(\",\") > -1 || var_str.indexOf(\"，\") > -1) {\r\n      paras.isVec2 = false;\r\n      let floatsArray: string[] = var_str.split(/,|，/);\r\n      if (floatsArray.length === 2) {\r\n        if (!this.privateVector2NumberPara(project_name, object_id, id, para_type, paras, floatsArray[0].trim(), 0, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateVector2NumberPara(project_name, object_id, id, para_type, paras, floatsArray[1].trim(), 1, log)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为“（数字1, 数字2, 数字3）”格式的数字number变量，当前参数个数不符合，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.isVec2 = true;\r\n      return this.Vector2Para(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n  }\r\n\r\n\r\n  public static Vector2ParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryVector2') {\r\n        paras.vector2 = <VeryVector2>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'Vector2') {\r\n          paras.vector2.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为Vector3，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为Vector3变量，当前为常量字符串，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static Vector2OrNumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (var_str.indexOf(\",\") > -1 || var_str.indexOf(\"，\") > -1) {\r\n      paras.isVec2 = false;\r\n      let floatsArray: string[] = var_str.split(/,|，/);\r\n      if (floatsArray.length === 2) {\r\n        if (!this.privateVector2NumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[0].trim(), 0, log)) {\r\n          return false;\r\n        }\r\n        if (!this.privateVector2NumberParaWithExpression(project_name, object_id, id, para_type, paras, floatsArray[1].trim(), 1, log)) {\r\n          return false;\r\n        }\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为“（数字1, 数字2, 数字3）”格式的Vector3变量，当前参数个数不符合，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.isVec2 = true;\r\n      return this.Vector2ParaWithExpression(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n  }\r\n\r\n  private static privateVector2NumberParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.vec2Numbers[index] = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'number') {\r\n          paras.vec2Numbers[index].setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为number数字，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      paras.vec2Numbers[index].value = parseFloat(var_str);\r\n      if (isNaN(paras.vec2Numbers[index].value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  private static privateVector2NumberPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.privateVector2NumberParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, index, log);\r\n    }\r\n    else {\r\n      paras.vec2Numbers[index].value = parseFloat(var_str);\r\n      if (isNaN(paras.vec2Numbers[index].value)) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字常量，请检查！`, '', Severity.Error));\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private static privateVector2NumberParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, index: number, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryNumber') {\r\n        paras.vec2Numbers[index] = <VeryNumber>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为number数字变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n\r\n  //TODO:20200807_Material扩展\r\n  public static MaterialPara(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      return ParaParserUtility.MaterialParaOnlyVar(project_name, object_id, id, para_type, paras, var_str, log);\r\n    }\r\n    else {\r\n      paras.string.value = var_str;\r\n      return true;\r\n    }\r\n  }\r\n  public static MaterialParaWithExpression(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryMaterial') {\r\n        paras.material = <VeryMaterial>veryVar;\r\n        return true;\r\n      }\r\n      else if (veryVar.className === 'VeryExpression') {\r\n        if (veryVar.varType === 'string') {\r\n          paras.string.setExpression(<VeryExpression>veryVar);\r\n          return true;\r\n        }\r\n        else {\r\n          if (log) {\r\n            VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，该公式变量计算结果不为String，请检查！`, '', Severity.Error));\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为String变量，请检查！`, '', Severity.Error));\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    else {\r\n      //TODO:材质初始化\r\n      paras.material.value = null;\r\n      return true;\r\n    }\r\n  }\r\n  public static MaterialParaOnlyVar(project_name: string, object_id: string, id: string, para_type: ParaType, paras: VeryParas, var_str: string, log: boolean = true): boolean {\r\n    if (VarTools.IsVarID(var_str)) {\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVar(project_name, object_id, var_str, errorInfo);\r\n      if (veryVar === null) {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，${errorInfo.message}`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n      else if (veryVar.className === 'VeryMaterial') {\r\n        paras.material = <VeryMaterial>veryVar;\r\n        return true;\r\n      }\r\n      else {\r\n        if (log) {\r\n          VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为String变量，请检查！`, '', Severity.Error));\r\n        }\r\n        return false;\r\n      }\r\n    }\r\n    else {\r\n      if (log) {\r\n        VE_ErrorManager.Add(new VE_Error('', `${id}  ${para_type === ParaType.Action ? '响应' : '触发'} 传入参数错误，变量：${var_str}，应为String变量，不能为常量，请检查！`, '', Severity.Error));\r\n      }\r\n      return false;\r\n    }\r\n  }\r\n}","export class GameGlobal {\r\n\r\n  \r\n  public static PlatformLoaded: boolean = false;\r\n  \r\n\r\n}","import { Severity } from \"../enum\";\r\n\r\nexport class VE_Error {\r\n  private _pos: string = '';\r\n  private _message: string = '';\r\n  private _tableName: string = '';\r\n  private _severity: Severity = Severity.Error;\r\n\r\n  /**\r\n   * 实例化报错信息数据结构；\r\n   * @param pos 错误信息位置；\r\n   * @param message 错误信息内容；\r\n   * @param table_name 错误文件路径；\r\n   * @param severity 报警类型；\r\n   */\r\n  constructor(pos: string, message: string, table_name: string, severity: Severity) {\r\n    this._pos = pos;\r\n    this._message = message;\r\n    this._severity = severity;\r\n    this._tableName = table_name;\r\n  }\r\n\r\n  /**\r\n   * 实例化警告类型报错信息；\r\n   * @param pos 错误信息位置；\r\n   * @param msg 错误信息内容；\r\n   * @param table_name 错误文件路径；\r\n   */\r\n  public static warning(pos: string, msg: string, table_name: string): VE_Error {\r\n    return new VE_Error(pos, msg, table_name, Severity.Warning);\r\n  }\r\n\r\n  /**\r\n   * 实例化错误类型报错信息；\r\n   * @param pos 错误信息位置；\r\n   * @param msg 错误信息内容；\r\n   * @param table_name 表格名；\r\n   */\r\n  public static error(pos: string, msg: string, table_name: string): VE_Error {\r\n    return new VE_Error(pos, msg, table_name, Severity.Error);\r\n  }\r\n\r\n  /**\r\n   * 获取错误信息位置；\r\n   */\r\n  public getPos(): string {\r\n    return this._pos;\r\n  }\r\n\r\n  /**\r\n   * 获取错误信息；\r\n   */\r\n  public getMessage(): string {\r\n    return this._message;\r\n  }\r\n\r\n  /**\r\n   * 获取错误信息文件路径；\r\n   */\r\n  public getTableName(): string {\r\n    return this._tableName;\r\n  }\r\n\r\n  /**\r\n   * 获取错误信息类型；\r\n   */\r\n  public getSeverity(): Severity {\r\n    return this._severity;\r\n  }\r\n\r\n  public toString(): string {\r\n    return \"位置：\" + this._pos + \"，错误信息：\" + this._message + \"，表格名：\" + this._tableName;\r\n  }\r\n}\r\n\r\n\r\nexport class VE_ErrorManager {\r\n\r\n  private static _errorList: VE_Error[] = [];\r\n\r\n  /// <summary>\r\n  /// 当前错误个数；\r\n  /// </summary>\r\n  public static get Count() {\r\n    return this._errorList.length;\r\n  }\r\n\r\n  /// <summary>\r\n  /// 添加报错信息；\r\n  /// </summary>\r\n  /// <param name=\"error\">具体报错信息数据结构；</param>\r\n  public static Add(error: VE_Error): void {\r\n    this._errorList.push(error);\r\n  }\r\n\r\n  /// <summary>\r\n  /// 获取具体的报错信息；\r\n  /// </summary>\r\n  /// <param name=\"index\">报错信息索引；</param>\r\n  /// <returns>具体报错信息数据结构；</returns>\r\n  public static GetError(index: number): VE_Error {\r\n    return this._errorList[index];\r\n  }\r\n\r\n  /// <summary>\r\n  /// TODO: 所有报错打印，打印完删除相关信息；\r\n  /// </summary>\r\n  /// <param name=\"prefix\">报错信息前缀；</param>\r\n  public static Print(prefix?: string): void {\r\n    if (prefix) {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.error('编译错误 >>> ' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n        else if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.warn('编译警告 >>> ' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.error('编译错误 >>> ' + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n        else if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.warn('编译警告 >>> ' + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /// <summary>\r\n  /// 所有报警打印，打印完删除相关信息；\r\n  /// </summary>\r\n  /// <param name=\"prefix\">报警信息前缀；</param>\r\n  public static PrintWarnning(prefix?: string): void {\r\n    if (prefix) {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.warn('编译警告 >>> ' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Warning) {\r\n          console.warn('编译警告 >>> ' + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /// <summary>\r\n  /// 所有错误打印，打印完删除相关信息；\r\n  /// </summary>\r\n  /// <param name=\"prefix\">报错信息前缀；</param>\r\n  public static PrintError(prefix: string): void {\r\n    if (prefix) {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.error('编译错误 >>> ' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    } else {\r\n      for (let i: number = 0; i < this._errorList.length; i++) {\r\n        if (this._errorList[i].getSeverity() === Severity.Error) {\r\n          console.error('编译错误 >>> ' + prefix + \" -> \" + this._errorList[i].toString());\r\n          this._errorList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}","import { VE_TriggerBehaviour } from \"../trigger\";\r\n\r\nexport class TriggerGlobal {\r\n\r\n  private static KEYMAP: {[key: string]: string} = {};\r\n  private static _keyUpdate: {[key: string]: boolean} = {};\r\n\r\n  private static _keysDic: { [key: string]: string } = {};\r\n\r\n  private static _triggerList: VE_TriggerBehaviour[] = [];\r\n\r\n  private static _scenes: BABYLON.Scene[] = [];\r\n  private static _initialized: boolean = false;\r\n\r\n  public static Init(): void {\r\n    \r\n\r\n  }\r\n\r\n  public static AddKeyboard(key: string, trigger: VE_TriggerBehaviour): void {\r\n    // 添加场景，TODO：目前多场景问题还没有处理\r\n    // 说明：因键盘参数区分大小写，因此，默认所有参数均转化为小写\r\n    if(this._scenes.indexOf(trigger.scene) === -1) {\r\n      this._scenes.push(trigger.scene);\r\n      trigger.scene.onKeyboardObservable.add( kbInfo => {\r\n        if(kbInfo.type === BABYLON.KeyboardEventTypes.KEYDOWN) {\r\n          this._keyUpdate[kbInfo.event.key.toLowerCase()] = true;\r\n        } else {\r\n          this._keyUpdate[kbInfo.event.key.toLowerCase()] = false;\r\n        }\r\n      });\r\n    }\r\n    this._triggerList.push(trigger);\r\n    // this._keysDic\r\n\r\n  }\r\n\r\n\r\n  public static RemoveKeyboard(trigger_id: string): void {\r\n\r\n  }\r\n\r\n  // 键盘\r\n\r\n  public static KeyboardUpdate(): void {\r\n\r\n    \r\n\r\n    for(let i = 0; i < this._triggerList.length; i++) {\r\n      if(this._triggerList[i].enabled) {\r\n        if(this._keyUpdate[this._keysDic[this._triggerList[i].unionID]]) {\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static clear(): void {\r\n\r\n  }\r\n\r\n  public static clearProject(project_name: string): void {\r\n    this._scenes[0].onKeyboardObservable.clear();\r\n  }\r\n\r\n}","export class GUIManager {\r\n\r\n    public static UGUI_SEPARATOR = '_';\r\n    public static STATE_SEPARATOR = '.';\r\n    private static _guiDic: { [key: string]: GUIComponent } = {};\r\n\r\n\r\n    public static createCanvas(canvas: BABYLON.GUI.AdvancedDynamicTexture): void {\r\n        GUIManager._guiDic[canvas.name] = new GUIComponent(canvas.name, canvas);\r\n        GUIManager._guiDic[canvas.name].add(canvas.name, canvas.name, canvas.rootContainer);\r\n    }\r\n\r\n    public static addControl(control: BABYLON.GUI.Control): void {\r\n        // 获取fullname\r\n        let fullname = GUIManager.getFullname(control.name, control.parent);\r\n        if(GUIManager._guiDic[control.host.name]) {\r\n            GUIManager._guiDic[control.host.name].add(control.name, fullname, control);\r\n        }\r\n    }\r\n\r\n    public static getFullname(prefix: string, control: Nullable<BABYLON.GUI.Control>): string {\r\n        if (!control) {\r\n            return prefix;\r\n        }\r\n        if (control.parent === control.host.rootContainer) {\r\n            prefix = control.host.name + GUIManager.UGUI_SEPARATOR + prefix;\r\n        } else {\r\n            prefix = control.name + GUIManager.UGUI_SEPARATOR + prefix;\r\n            return GUIManager.getFullname(prefix, control.parent);\r\n        }\r\n        return prefix;\r\n    }\r\n\r\n    public static isCreatedCanvas(canvas_name: string): boolean {\r\n        return GUIManager._guiDic[canvas_name] ? true : false;\r\n    }\r\n\r\n    public static GetUGUIGameObejctSingleName(canvas_name: string, single_name: string): Nullable<BABYLON.GUI.Control> {\r\n        if (!GUIManager._guiDic[canvas_name]) {\r\n            return null;\r\n        }\r\n        return GUIManager._guiDic[canvas_name].getSingleNameGUI(single_name);\r\n    }\r\n\r\n    public static GetUGUIGameObejctFullname(canvas_name: string, full_name: string): Nullable<BABYLON.GUI.Control> {\r\n        full_name = full_name.replace(/./g, GUIManager.UGUI_SEPARATOR);\r\n        if (!GUIManager._guiDic[canvas_name]) {\r\n            return null;\r\n        }\r\n        return GUIManager._guiDic[canvas_name].getFullnameGUI(canvas_name + GUIManager.UGUI_SEPARATOR + full_name);\r\n    }\r\n\r\n}\r\n\r\n\r\nexport class GUIComponent {\r\n\r\n\r\n    private _canvasName: string;\r\n    public get canvasName(): string {\r\n        return this._canvasName;\r\n    }\r\n    public set canvasName(val: string) {\r\n        this._canvasName = val;\r\n    }\r\n\r\n    public canvas: BABYLON.GUI.AdvancedDynamicTexture;\r\n\r\n    private _canvasFullname: { [key: string]: BABYLON.GUI.Control } = {};\r\n    private _canvasSingleName: { [key: string]: BABYLON.GUI.Control } = {};\r\n\r\n\r\n    public constructor(canvas_name: string, canvas: BABYLON.GUI.AdvancedDynamicTexture) {\r\n        this._canvasName = canvas_name;\r\n        this.canvas = canvas;\r\n    }\r\n\r\n    public add(single_name: string, fullname: string, control: BABYLON.GUI.Control) {\r\n        this._canvasSingleName[single_name] = control;\r\n        this._canvasFullname[fullname] = control;\r\n    }\r\n\r\n    public isCreated(canvas_name: string, control_name: string): boolean {\r\n        let fullname: string;\r\n        if (control_name.startsWith(canvas_name + GUIManager.UGUI_SEPARATOR)) {\r\n            fullname = control_name;\r\n        } else {\r\n            fullname = canvas_name + GUIManager.UGUI_SEPARATOR + control_name;\r\n        }\r\n        if (this._canvasFullname[fullname]) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public getSingleNameGUI(single_name: string): Nullable<BABYLON.GUI.Control> {\r\n        return this._canvasSingleName[single_name] ? this._canvasSingleName[single_name] : null;\r\n    }\r\n\r\n    public getFullnameGUI(full_name: string): Nullable<BABYLON.GUI.Control> {\r\n        return this._canvasFullname[full_name] ? this._canvasFullname[full_name] : null;\r\n    }\r\n\r\n\r\n}","export class ShowError {\r\n\r\n  public static errorContentPrefix: string = '<div class=\"alert alert-error\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\">&times;</button>';\r\n  public static errorContentNow: string;\r\n  public static errorZone: HTMLElement;\r\n\r\n  public static initZone(): void {\r\n    if (!this.errorZone) {\r\n      this.errorZone = document.getElementById(\"errorZone\")!;\r\n    }\r\n  }\r\n  /**\r\n   * 报错信息显示；\r\n   * TODO: log、error、warn信息分颜色显示，支持滚动栏，不然报错信息多了以后无法查看；\r\n   * @param error_msg 报错或警告信息；\r\n   */\r\n  private static showMsg(prefix: string, error_msg: string): void {\r\n    this.initZone();\r\n    if (!this.errorContentNow) {\r\n      this.errorContentNow = this.errorContentPrefix;\r\n    }\r\n    this.errorContentNow += prefix + error_msg + \"<br/>\";\r\n    this.errorZone.style.display = \"block\";\r\n    this.errorZone.innerHTML = this.errorContentNow + '</div>';\r\n    // Close button error\r\n    let closeBtn = this.errorZone.querySelector(\".close\")!;\r\n    let that = this;\r\n    closeBtn.addEventListener(\"click\", function () {\r\n      that.errorZone.style.display = \"none\";\r\n    });\r\n  }\r\n\r\n  public static show(error_msg: string): void {\r\n    this.showMsg('打印信息>>>', error_msg);\r\n  }\r\n\r\n  public static showError(error_msg: string): void {\r\n    this.showMsg('错误信息>>>', error_msg);\r\n  }\r\n\r\n  public static showWarn(error_msg: string): void {\r\n    this.showMsg('警告信息>>>', error_msg);\r\n  }\r\n\r\n  public static clear(): void {\r\n    ShowError.initZone();\r\n    ShowError.errorContentNow = ShowError.errorContentPrefix;\r\n    ShowError.errorZone.innerHTML = ShowError.errorContentNow + '</div>';\r\n    // Close button error\r\n    let closeBtn = ShowError.errorZone.querySelector(\".close\")!;\r\n    let that = ShowError;\r\n    closeBtn.addEventListener(\"click\", function () {\r\n      that.errorZone.style.display = \"none\";\r\n    });\r\n  }\r\n\r\n  public static close(): void {\r\n    ShowError.initZone();\r\n    if(ShowError.errorZone.style.display === \"none\") {\r\n      ShowError.errorZone.style.display = \"block\";\r\n    } else {\r\n      ShowError.errorZone.style.display = \"none\";\r\n    }\r\n  }\r\n}","import { VE_Variables } from \"../variables\";\r\n\r\nexport class VerySceneVariables {\r\n\r\n  public static get Variables(): VE_Variables {\r\n    if(VerySceneVariables._variables === null) {\r\n      VerySceneVariables._variables = new VE_Variables('__scene_varibale__');\r\n    }\r\n    return VerySceneVariables._variables;\r\n  }\r\n  private static _variables: Nullable<VE_Variables> = null;\r\n\r\n  public static get HasLoaded(): boolean {\r\n    return this._hasLoaded;\r\n  }\r\n  private static _hasLoaded: boolean = false;\r\n\r\n  public static initIfNeeded(): void {\r\n    if(!this._hasLoaded) {\r\n      console.log('TODO: 场景变量下载');\r\n    }\r\n  }\r\n}","import { IVeryVar } from \"../variables\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VE_ActionBehaviour } from \"../action\";\r\nimport { VE_TriggerBehaviour } from \"../trigger\";\r\nimport { VE_Fsm } from \"../state\";\r\nimport { VE_Template } from \"../template\";\r\nimport { VE_DataSource, VE_VariableData } from \"../dataSource\";\r\nimport { GameObject } from \"../babylon\";\r\n\r\nexport class VeryEngineObject {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = '';\r\n\r\n  public gameObject: GameObject;\r\n\r\n  public template: Nullable<VE_Template> = null;\r\n\r\n  private _variables: { [key: string]: IVeryVar } = {};\r\n  private _expressions: { [key: string]: IExpression } = {};\r\n  private _actions: { [key: string]: VE_ActionBehaviour } = {};\r\n  private _triggers: { [key: string]: VE_TriggerBehaviour } = {};\r\n  private _fsms: { [key: string]: VE_Fsm } = {};\r\n  private _templates: { [key: string]: VE_Template } = {};\r\n\r\n  public dataSource: VE_DataSource;\r\n\r\n  public varData: VE_VariableData;\r\n\r\n  private _unloadCallback: ((object_id: string) => void) | null = null;\r\n\r\n  constructor(project_name: string, object_id: string, game_object: GameObject) {\r\n    this._projectName = project_name;\r\n    this._objectID = object_id;\r\n    this.gameObject = game_object;\r\n    this.dataSource = new VE_DataSource(project_name, object_id, false);\r\n    this.varData = new VE_VariableData(project_name);\r\n  }\r\n\r\n  public isCreatedFsm(fsm_id: string): boolean {\r\n    if (this._fsms[fsm_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addFsm(fsm_id: string, fsm: VE_Fsm): void {\r\n    this._fsms[fsm_id] = fsm;\r\n  }\r\n\r\n  public getFsm(fsm_id: string): VE_Fsm {\r\n    return this._fsms[fsm_id];\r\n  }\r\n\r\n  public isCreatedTrigger(trigger_id: string): boolean {\r\n    if (this._triggers[trigger_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTrigger(trigger_id: string, trigger: VE_TriggerBehaviour): void {\r\n    this._triggers[trigger_id] = trigger;\r\n  }\r\n\r\n  public getTrigger(trigger_id: string): VE_TriggerBehaviour {\r\n    return this._triggers[trigger_id];\r\n  }\r\n\r\n  public isCreatedAction(action_id: string): boolean {\r\n    if (this._actions[action_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addAction(action_id: string, action: VE_ActionBehaviour): void {\r\n    this._actions[action_id] = action;\r\n  }\r\n\r\n  public getAction(action_id: string): VE_ActionBehaviour {\r\n    return this._actions[action_id];\r\n  }\r\n\r\n  public isCreatedVariable(var_id: string): boolean {\r\n    if (this._variables[var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariable(var_id: string, variable: IVeryVar): void {\r\n    this._variables[var_id] = variable;\r\n  }\r\n\r\n  public getVariable(var_id: string): IVeryVar {\r\n    return this._variables[var_id];\r\n  }\r\n\r\n  public isCreatedExpression(exp_id: string): boolean {\r\n    if (this._expressions[exp_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addExpression(exp_id: string, expression: IExpression): void {\r\n    this._expressions[exp_id] = expression;\r\n  }\r\n\r\n  public getExpression(exp_id: string): IExpression {\r\n    return this._expressions[exp_id];\r\n  }\r\n\r\n  public isCreatedTemplate(template_id: string): boolean {\r\n    if (this._templates[template_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplate(template_id: string, template: VE_Template): void {\r\n    this._templates[template_id] = template;\r\n  }\r\n\r\n  public getTemplate(template_id: string): VE_Template {\r\n    return this._templates[template_id];\r\n  }\r\n\r\n  public isCreatedVar(var_id: string): boolean {\r\n    if (this._variables[var_id] || this._expressions[var_id] || this._templates[var_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public update(): void {\r\n    // trigger update\r\n    Object.keys(this._triggers).forEach(key => {\r\n      this._triggers[key].update();\r\n    })\r\n    // action update\r\n    Object.keys(this._actions).forEach(key => {\r\n      this._actions[key].update();\r\n    })\r\n    // TODO: template\r\n\r\n  }\r\n\r\n  // getState(fsm_id: string, index: number): VE_State {\r\n\r\n  // }\r\n\r\n\r\n  public unload(): void {\r\n    if (this._unloadCallback != null) {\r\n      this._unloadCallback(this._objectID);\r\n      this.clear();\r\n      if (this.gameObject) {\r\n        GameObject.Destroy(this.gameObject);\r\n      }\r\n    }\r\n  }\r\n\r\n  public setUnloadCallback(callback: (id: string) => void): void {\r\n    this._unloadCallback = callback;\r\n  }\r\n\r\n  public clear(): void {\r\n\r\n    if (this.dataSource) {\r\n      this.dataSource.clear();\r\n    }\r\n    if (this.varData) {\r\n      this.varData.clear();\r\n    }\r\n    this._variables = {};\r\n    this._expressions = {};\r\n\r\n    if (this._templates) {\r\n      Object.keys(this._templates).forEach(key => {\r\n        this._templates[key].clear();\r\n      })\r\n      this._templates = {};\r\n    }\r\n\r\n    this._fsms = {};\r\n    this.template = null;\r\n\r\n    if (this._actions) {\r\n      Object.keys(this._actions).forEach(key => {\r\n        this._actions[key].destroy();\r\n      })\r\n      this._actions = {};\r\n    }\r\n\r\n    if (this._triggers) {\r\n      Object.keys(this._triggers).forEach(key => {\r\n        this._triggers[key].destroy();\r\n      })\r\n      this._triggers = {};\r\n    }\r\n  }\r\n\r\n\r\n}","import { BabylonEngine } from \"./engine\";\r\n\r\nexport class Time {\r\n\r\n  /**\r\n   * 当前帧ID，目前只考虑一个Scene的情况；\r\n   */\r\n  public static get frameCounter(): number {\r\n    return BabylonEngine.Scene.getFrameId();\r\n  }\r\n  // private static _frame: number = 0;\r\n  // public static _sum(): void {\r\n  //   this._frame++;\r\n  // }\r\n\r\n  /**\r\n   * 当前帧与上一帧时间间隔，单位秒（s）；\r\n   */\r\n  public static get deltaTime(): number {\r\n    // return 1.0 / GameGlobal.Engine.getFps();\r\n    return BabylonEngine.Engine.getDeltaTime() * 0.001;\r\n  }\r\n\r\n  private static _startDate: Date;\r\n  private static _startSecond: number;\r\n\r\n  /**\r\n   * Scene开始，记录当前启动时间，作为time计算起始值；\r\n   */\r\n  public static start(): void {\r\n    this._startDate = new Date();\r\n    this._startSecond = this._startDate.valueOf() / 1000;\r\n  }\r\n\r\n  /**\r\n   * 从当前scene开始到当前的时间间隔，单位秒（s）；\r\n   */\r\n  public static get time(): number {\r\n    return (new Date()).valueOf() / 1000 - this._startSecond;\r\n  }\r\n\r\n\r\n}","import { VeryEngineObject } from \"./veryengineObject\";\r\nimport { ArrayUtility } from \"../utility\";\r\n\r\nexport class VE_Objects {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  private _objectIDs: string[] = [];\r\n  private _objectDics: { [key: string]: VeryEngineObject } = {};\r\n\r\n  public get count(): number {\r\n    return this._objectIDs.length;\r\n  }\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n  }\r\n\r\n  public isCreated(object_id: string): boolean {\r\n    if (this._objectDics[object_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public add(object_id: string, very_object: VeryEngineObject): void {\r\n    if (!this.isCreated(object_id)) {\r\n      this._objectIDs.push(object_id);\r\n      this._objectDics[object_id] = very_object;\r\n    }\r\n  }\r\n\r\n  public getObjectID(index: number): string {\r\n    if (index >= 0 && index < this._objectIDs.length) {\r\n      return this._objectIDs[index];\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  public getVeryObject(object_id: string): VeryEngineObject {\r\n    return this._objectDics[object_id];\r\n  }\r\n\r\n  public unloadObject(object_id: string): void {\r\n    ArrayUtility.remove(this._objectIDs, object_id);\r\n    delete this._objectDics.object_id;\r\n\r\n  }\r\n\r\n  public clear(): void {\r\n    for (let i: number = 0; i < this._objectIDs.length; i++) {\r\n      let tempObject = this._objectDics[this._objectIDs[i]];\r\n      if (tempObject) {\r\n        tempObject.clear();\r\n      }\r\n    }\r\n    this._objectIDs = [];\r\n    this._objectDics = {};\r\n  }\r\n}","import { VE_Fsm } from \"./fsm\";\r\nimport { VE_StateAction } from \"./stateAction\";\r\nimport { VE_AssociatedState } from \"./associatedState\";\r\nimport {\r\n  AssignmentType,\r\n  StateActionType,\r\n  ActionType,\r\n  SequenceActionState\r\n} from \"../enum\";\r\nimport { VE_Template } from \"../template\";\r\nimport { IVeryVar, VeryExpression } from \"../variables\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VE_Assignment } from \"../action\";\r\nimport { VE_SequenceActions } from \"./sequenceActions\";\r\n\r\nexport class VE_State {\r\n  public get Fsm(): VE_Fsm {\r\n    return this._fsm;\r\n  }\r\n  private _fsm: VE_Fsm;\r\n\r\n  public get isInitialValue(): boolean {\r\n    return this._isInitialValue;\r\n  }\r\n  private _isInitialValue: boolean = false;\r\n\r\n  public get Value(): string {\r\n    return this._value;\r\n  }\r\n  private _value: string = \"\";\r\n\r\n  private _assignmentType: AssignmentType = AssignmentType.Const;\r\n\r\n  public get isTemplateVar(): boolean {\r\n    return this._isTemplateVar;\r\n  }\r\n  private _isTemplateVar: boolean = false;\r\n\r\n  private _template: Nullable<VE_Template> = null;\r\n  private _varID: string = \"\";\r\n  private _templateVar: Nullable<IVeryVar> = null;\r\n  private _assignmentStr: string = \"\";\r\n\r\n  public get logicalExpression(): Nullable<IExpression> {\r\n    return this._logicalExpression;\r\n  }\r\n  private _logicalExpression: Nullable<IExpression> = null;\r\n\r\n  public get index(): number {\r\n    return this._index;\r\n  }\r\n  private _index: number = 0;\r\n\r\n  public get stateVariable(): Nullable<IVeryVar> {\r\n    return this._stateVariable;\r\n  }\r\n  private _stateVariable: Nullable<IVeryVar> = null;\r\n\r\n  public logicalAssociated: Nullable<IExpression> = null;\r\n\r\n  private _stateActions: VE_StateAction[] = [];\r\n  private _associatedStates: VE_AssociatedState[] = [];\r\n\r\n  public get IsSequence(): boolean {\r\n    return this._isSequence;\r\n  }\r\n  private _isSequence: boolean = false;\r\n\r\n  public _sequenceActions: VE_SequenceActions = new VE_SequenceActions();\r\n\r\n  // 假设当前为序列运行，需要做一些判断\r\n  // 1.判断当前是否正在运行，若正在运行，则失败\r\n\r\n  constructor(fsm: VE_Fsm, index: number) {\r\n    this._fsm = fsm;\r\n    this._index = index;\r\n  }\r\n\r\n  public setInitialValue(value: any): void {\r\n    this._value = value;\r\n    this._assignmentType = AssignmentType.Const;\r\n  }\r\n\r\n  public setSequence(): void {\r\n    this._isSequence = true;\r\n  }\r\n\r\n  public setLogicalExpression(logical_exp: IExpression): void {\r\n    this._logicalExpression = logical_exp;\r\n  }\r\n\r\n  public setTemplateInfo(\r\n    template: VE_Template,\r\n    var_id: string,\r\n    assign_str: string\r\n  ): void {\r\n    this._isTemplateVar = true;\r\n    this._template = template;\r\n    this._varID = var_id;\r\n    this._assignmentStr = assign_str;\r\n  }\r\n\r\n  public setConstValue(value: any): void {\r\n    this._value = value;\r\n    this._assignmentType = AssignmentType.Const;\r\n  }\r\n\r\n  public setStateVariable(very_var: IVeryVar): void {\r\n    this._stateVariable = very_var;\r\n    this._assignmentType = AssignmentType.Variable;\r\n  }\r\n\r\n  public addAction(state_action: VE_StateAction): void {\r\n    this._stateActions.push(state_action);\r\n    if (\r\n      state_action.type === StateActionType.Action &&\r\n      state_action.action!.isSequence\r\n    ) {\r\n      this._isSequence = true;\r\n    }\r\n  }\r\n\r\n  public addAssignment(assignment: VE_Assignment): void {\r\n    let stateAction: VE_StateAction = new VE_StateAction();\r\n    stateAction.setAssignment(assignment);\r\n    this._stateActions.push(stateAction);\r\n  }\r\n\r\n  public addAssociatedState(associated_state: VE_AssociatedState): void {\r\n    this._associatedStates.push(associated_state);\r\n  }\r\n\r\n\r\n  public action(trigger_id: string): void {\r\n    // 先访问Parent，确定是否可激活响应\r\n    if (this._fsm.receiveEvent(trigger_id)) {\r\n      // 常量，设置状态值\r\n      this.Fsm.setValue(this.Value);\r\n\r\n      if (!this._isSequence) {\r\n        // 运行响应\r\n        for (let i: number = 0; i < this._stateActions.length; i++) {\r\n          let stateAction: VE_StateAction = this._stateActions[i];\r\n          // 一般响应\r\n          if (stateAction.type === StateActionType.Action) {\r\n            // TODO: 目前为常量，理论上可以为变量\r\n            stateAction!.action!.action(\r\n              stateAction.enabled.getValue(),\r\n              stateAction.everyFrame.getValue()\r\n            );\r\n          }\r\n          // 赋值响应\r\n          else {\r\n            stateAction!.assignment!.assign();\r\n          }\r\n        }\r\n        // 关联状态\r\n        if (this._associatedStates.length > 0) {\r\n          // 对方可能是模板对象\r\n          // 测试对象\r\n          for (let i: number = 0; i < this._associatedStates.length; i++) {\r\n            this._associatedStates[i].connect();\r\n          }\r\n        }\r\n      } else {\r\n        // 顺序运行响应是否允许运行检测\r\n        for (let i: number = 0; i < this._stateActions.length; i++) {\r\n          //只有时间相关响应需要检测\r\n          if (this._stateActions[i].type === StateActionType.Action && this._stateActions[i]!.action!.type === ActionType.Animation\r\n          ) {\r\n            if (this._stateActions[i]!.action!.SequenceState === SequenceActionState.Prepared || this._stateActions[i]!.action!.SequenceState === SequenceActionState.Running\r\n            ) {\r\n              console.error(\r\n                \"错误信息 >>> （项目：\" +\r\n                this._fsm.projectName +\r\n                \"，对象：\" +\r\n                this._fsm.objectID +\r\n                \"，状态：\" +\r\n                this._fsm.fsmID +\r\n                \"，ID：\" +\r\n                this._index +\r\n                \"），当前状态中的响应：\" +\r\n                this._stateActions[i]!.action!.actionID +\r\n                \"，该响应处于“依次”运行状态，运行结束前不允许再次启动！\"\r\n              );\r\n              return;\r\n            } else if (this._stateActions[i]!.action!.SequenceState === SequenceActionState.Pause) {\r\n              console.error(\r\n                \"错误信息 >>> （项目：\" +\r\n                this._fsm.projectName +\r\n                \"，对象：\" +\r\n                this._fsm.objectID +\r\n                \"，状态：\" +\r\n                this._fsm.fsmID +\r\n                \"，ID：\" +\r\n                this._index +\r\n                \"），当前状态中的响应：\" +\r\n                this._stateActions[i]!.action!.actionID +\r\n                \"，该响应处于“依次”运行状态（暂停中），运行结束前不允许再次启动！\"\r\n              );\r\n              return;\r\n            }\r\n          }\r\n        }\r\n\r\n        this._sequenceActions!.sequenceAction(this._stateActions, this._associatedStates);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  /*\r\n  // TODO\r\n  public action(trigger_id: string): void {\r\n    // 先访问Parent，确定是否可激活响应\r\n    if (this._fsm.receiveEvent(trigger_id)) {\r\n      if (this._isTemplateVar) {\r\n        // TODO:当模板被删除时，会不会依然不为null\r\n        if (this._templateVar === null) {\r\n          this.getTemplateVar();\r\n        } else {\r\n          if (this._templateVar.className === \"VeryExpression\") {\r\n            // TODO\r\n            if ((<VeryExpression>this._templateVar).isNull) {\r\n              this.getTemplateVar();\r\n            } else {\r\n              this.Fsm.setValue(this._templateVar.getValue());\r\n            }\r\n          } else {\r\n            this.Fsm.setValue(this._templateVar.getValue());\r\n          }\r\n        }\r\n      } else {\r\n        // 设置当前状态值\r\n        if (this._assignmentType == AssignmentType.Const) {\r\n          // 常量\r\n          this.Fsm.setValue(this.Value);\r\n        } else if (this._assignmentType == AssignmentType.Variable) {\r\n          // 变量\r\n          this.Fsm.setValue(this._stateVariable!.getValue());\r\n        } // 公式\r\n        else {\r\n          // 不需要\r\n          // this.Fsm.setValue(this._stateExpression.evaluate());\r\n        }\r\n      }\r\n\r\n      // 响应是否允许运行检测\r\n      for (let i: number = 0; i < this._stateActions.length; i++) {\r\n        //只有时间相关响应需要检测\r\n        if (\r\n          this._stateActions[i].type === StateActionType.Action &&\r\n          this._stateActions[i]!.action!.Type === ActionType.Animation\r\n        ) {\r\n          if (\r\n            this._stateActions[i]!.action!.SequenceState ===\r\n            SequenceActionState.Prepared ||\r\n            this._stateActions[i]!.action!.SequenceState ===\r\n            SequenceActionState.Running\r\n          ) {\r\n            console.error(\r\n              \"错误信息 >>> （项目：\" +\r\n              this._fsm.projectName +\r\n              \"，对象：\" +\r\n              this._fsm.objectID +\r\n              \"，状态：\" +\r\n              this._fsm.fsmID +\r\n              \"，ID：\" +\r\n              this._index +\r\n              \"），当前状态中的响应：\" +\r\n              this._stateActions[i]!.action!.actionID +\r\n              \"，该响应处于“动画”运行状态，运行结束前不允许再次启动！\"\r\n            );\r\n            return;\r\n          } else if (\r\n            this._stateActions[i]!.action!.SequenceState ===\r\n            SequenceActionState.Pause\r\n          ) {\r\n            console.error(\r\n              \"错误信息 >>> （项目：\" +\r\n              this._fsm.projectName +\r\n              \"，对象：\" +\r\n              this._fsm.objectID +\r\n              \"，状态：\" +\r\n              this._fsm.fsmID +\r\n              \"，ID：\" +\r\n              this._index +\r\n              \"），当前状态中的响应：\" +\r\n              this._stateActions[i]!.action!.actionID +\r\n              \"，该响应处于“动画”运行状态（暂停中），运行结束前不允许再次启动！\"\r\n            );\r\n            return;\r\n          }\r\n        }\r\n\r\n        //状态响应顺序运行, TODO: 动画响应表格逻辑被修改，以下逻辑有冗余\r\n        if (this._isSequence) {\r\n          // TODO: 这里\r\n          console.log('顺序运行状态');\r\n          // this._sequenceActions = this._fsm.VeryObject.gameObject.AddComponent<\r\n          //   VE_SequenceActions\r\n          // >();\r\n          // this._sequenceActions!.sequenceAction(\r\n          //   this._stateActions,\r\n          //   this._associatedStates\r\n          // );\r\n        } else {\r\n          // 运行响应\r\n          for (let i: number = 0; i < this._stateActions.length; i++) {\r\n            let stateAction: VE_StateAction = this._stateActions[i];\r\n            // 一般响应\r\n            if (stateAction.type === StateActionType.Action) {\r\n              // TODO: 目前为常量，理论上可以为变量\r\n              stateAction!.action!.action(\r\n                stateAction.enabled,\r\n                stateAction.everyFrame\r\n              );\r\n            }\r\n            // 赋值响应\r\n            else {\r\n              stateAction!.assignment!.assign();\r\n            }\r\n          }\r\n          // 关联状态\r\n          if (this._assocaitedStates.length > 0) {\r\n            // 对方可能是模板对象\r\n            // 测试对象\r\n            for (let i: number = 0; i < this._assocaitedStates.length; i++) {\r\n              this._assocaitedStates[i].connect();\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  */\r\n\r\n  private getTemplateVar(): void {\r\n    if (this._template!.templateInstance === null) {\r\n      console.error(\r\n        \"错误信息 >>> 项目：\" +\r\n        this._fsm.projectName +\r\n        \"，对象：\" +\r\n        this._fsm.objectID +\r\n        \"，状态：\" +\r\n        this._fsm.fsmID +\r\n        \"，状态赋值：\" +\r\n        this._assignmentStr +\r\n        \"，当前赋值模板对象未实例化，赋值前，请先启动对应响应实例化该模板对象！\"\r\n      );\r\n      this._templateVar = null;\r\n      return;\r\n    } else {\r\n      if (this._template!.templateInstance.isCreatedVariable(this._varID)) {\r\n        this._templateVar = this._template!.templateInstance.getVariable(\r\n          this._varID\r\n        );\r\n      } else if (\r\n        this._template!.templateInstance.isCreatedExpression(this._varID)\r\n      ) {\r\n        this._templateVar = new VeryExpression(\r\n          this._template!.templateInstance.getExpression(this._varID)\r\n        );\r\n      } else if (this._template!.templateInstance.isCreatedFsm(this._varID)) {\r\n        this._templateVar = this._template!.templateInstance.getFsm(\r\n          this._varID\r\n        ).fsmVar;\r\n      } else {\r\n        console.error(\r\n          \"错误信息 >>> 项目：\" +\r\n          this._fsm.projectName +\r\n          \"，对象：\" +\r\n          this._fsm.objectID +\r\n          \"，状态：\" +\r\n          this._fsm.fsmID +\r\n          \"，状态赋值：\" +\r\n          this._assignmentStr +\r\n          \"，在模板变量对象中无法查找到该变量：\" +\r\n          this._varID +\r\n          \"，请检查！\"\r\n        );\r\n        this._templateVar = null;\r\n        return;\r\n      }\r\n      this._fsm.setValue(this._templateVar.getValue());\r\n    }\r\n  }\r\n}\r\n","import { VE_State } from \"./state\";\r\nimport { BabylonEngine } from \"../babylon\";\r\nimport { StateConst } from \"./stateConst\";\r\nimport { IVeryVar, VeryString } from \"../variables\";\r\nimport { VeryEngineObject } from \"../object\";\r\n\r\nexport class VE_Fsm {\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = \"\";\r\n\r\n  public get ID(): string {\r\n    return this._id;\r\n  }\r\n  private _id: string = \"\";\r\n\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = \"\";\r\n\r\n  public get fsmID(): string {\r\n    return this._fsmID;\r\n  }\r\n  private _fsmID: string = \"\";\r\n\r\n  public get fsmVar(): VeryString {\r\n    return this._fsmVar;\r\n  }\r\n  private _fsmVar: VeryString;\r\n\r\n  public get VeryObject(): VeryEngineObject {\r\n    return this._veryObject;\r\n  }\r\n  private _veryObject: VeryEngineObject;\r\n\r\n  private _stateDics: { [key: number]: VE_State } = {};\r\n  private _states: VE_State[] = [];\r\n\r\n  public get count(): number {\r\n    return this._states.length;\r\n  }\r\n\r\n  private _frameCount: number = -1;\r\n  private _triggerIDs: string[] = [];\r\n\r\n  constructor(\r\n    project_name: string,\r\n    object_id: string,\r\n    fsm_id: string,\r\n    fsm_variable: VeryString,\r\n    very_object: VeryEngineObject\r\n  ) {\r\n    this._projectName = project_name;\r\n    this._objectID = object_id;\r\n    this._fsmID = fsm_id;\r\n    this._fsmVar = fsm_variable;\r\n    this._veryObject = very_object;\r\n  }\r\n\r\n  public isCreatedState(state_index: number): boolean {\r\n    if (this._stateDics[state_index]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addState(state: VE_State): void {\r\n    this._states.push(state);\r\n  }\r\n\r\n  public getState(state_value: string): Nullable<VE_State> {\r\n    for(let i: number = 0; i < this._states.length; i++) {\r\n      if(this._states[i].Value === state_value) {\r\n        return this._states[i];\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  // public getState(state_index: number): Nullable<VE_State> {\r\n  //   if (state_index === StateConst.STATE_INDEX) {\r\n  //     return this._states[0];\r\n  //   } else {\r\n  //     if (this._stateDics[state_index]) {\r\n  //       return this._stateDics[state_index];\r\n  //     } else {\r\n  //       return null;\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  public getStateInSequence(index: number): Nullable<VE_State> {\r\n    if (index >= 0 && index < this._states.length) {\r\n      return this._states[index];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public removeState(state_index: number): void {\r\n    delete this._stateDics[state_index];\r\n  }\r\n\r\n  public receiveEvent(trigger_id: string): boolean {\r\n\r\n    if (BabylonEngine.Scene.getFrameId() != this._frameCount) {\r\n      this._frameCount = BabylonEngine.Scene.getFrameId();\r\n      this._triggerIDs = [];\r\n      this._triggerIDs.push(trigger_id);\r\n      return true;\r\n    } else {\r\n      if (trigger_id.startsWith(StateConst.ASSOCIATED_STATE_PREFIX)) {\r\n        // console.log(`ID: ${trigger_id} Return True`);\r\n        return true;\r\n      } else {\r\n        if (this._triggerIDs.indexOf(trigger_id) !== -1) {\r\n          return false;\r\n        } else {\r\n          this._triggerIDs.push(trigger_id);\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public setValue(value: any): void {\r\n    this._fsmVar.setValue(value);\r\n  }\r\n\r\n  public hasStateValue(val: string): boolean {\r\n    for (let i = 0; i < this._states.length; i++) {\r\n      if (this._states[i].Value === val) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import { VE_State } from \"./state\";\r\nimport { AssociatedFsmType } from \"../enum\";\r\nimport { VE_Template } from \"../template\";\r\nimport { StateConst } from \"./stateConst\";\r\nimport { VE_Fsm } from \"./fsm\";\r\n\r\nexport class VE_AssociatedState {\r\n\r\n  private _types: AssociatedFsmType[] = [];\r\n  private _indexs: number[] = [];\r\n\r\n  private _posArray: string[] = [];\r\n\r\n  private _stateValues: { [key: number]: string } = {};\r\n  private _states: { [key: number]: VE_State } = {};\r\n  private _templates: { [key: number]: VE_Template } = {};\r\n  private _templateFsmIDs: { [key: number]: string } = {};\r\n\r\n  public get FromState(): VE_State {\r\n    return this._fromState;\r\n  }\r\n  private _fromState: VE_State;\r\n\r\n  constructor(from_state: VE_State) {\r\n    this._fromState = from_state;\r\n  }\r\n\r\n  public add(state: VE_State, state_value: string, pos: string): void {\r\n    this._types.push(AssociatedFsmType.Object);\r\n    let key: number = this._types.length;\r\n    this._indexs.push(key);\r\n    this._stateValues[key] = state_value;\r\n    this._states[key] = state;\r\n    this._posArray.push(pos);\r\n  }\r\n\r\n  public addTemplate(template: VE_Template, fsm_id: string, state_value: string, pos: string): void {\r\n    this._types.push(AssociatedFsmType.Template);\r\n    let key: number = this._types.length;\r\n    this._indexs.push(key);\r\n    this._stateValues[key] = state_value;\r\n    this._templates[key] = template;\r\n    this._templateFsmIDs[key] = fsm_id;\r\n    this._posArray.push(pos);\r\n  }\r\n\r\n  public connect(): void {\r\n    for (let i: number = 0; i < this._types.length; i++) {\r\n      let currentType: AssociatedFsmType = this._types[i];\r\n      let Key: number = this._indexs[i];\r\n\r\n      // 具体对象，直接关联到对应状态\r\n      if (currentType === AssociatedFsmType.Object) {\r\n        let toState: VE_State = this._states[Key];\r\n        if (toState.logicalAssociated === null || toState.logicalAssociated.evaluate() === true) {\r\n          toState.action(StateConst.ASSOCIATED_STATE_PREFIX + this._fromState.Fsm.ID);\r\n          // 一个成功即返回\r\n          return;\r\n        }\r\n      }\r\n      // 模板对象，根据模板变量名和状态名，获取对应State\r\n      else {\r\n        let template: VE_Template = this._templates[Key];\r\n        let fsmID: string = this._templateFsmIDs[Key];\r\n        let stateValue: string = this._stateValues[Key];\r\n\r\n        if (template.templateInstance !== null) {\r\n          if (template.templateInstance.isCreatedFsm(fsmID)) {\r\n            let fsm: VE_Fsm = template.templateInstance.getFsm(fsmID);\r\n            let toState: Nullable<VE_State> = fsm.getState(stateValue);\r\n            if (toState !== null) {\r\n              toState.action(StateConst.ASSOCIATED_STATE_PREFIX + this._fromState.Fsm.ID);\r\n              //一个成功即返回\r\n              return;\r\n            }\r\n            else {\r\n              console.error('错误信息 >>> 位置：' + this._posArray[i] + '，信息：' + \"项目名：\" + this._fromState.Fsm.projectName + \"，对象名：\" + this._fromState.Fsm.objectID + \"，关联起始状态：\" + this._fromState.Fsm.fsmID + \"，关联模板变量：\" + template.templateVarID + \"，目标状态名：\" + fsmID + \"，状态值：\" + stateValue + \"，关联状态错误：在目标模板变量的目标状态中，无法查找到该状态，请检查！\");\r\n              return;\r\n            }\r\n          }\r\n          else {\r\n            console.error('错误信息 >>> 位置：' + this._posArray[i] + '，信息：' + \"项目名：\" + this._fromState.Fsm.projectName + \"，对象名：\" + this._fromState.Fsm.objectID + \"，关联起始状态：\" + this._fromState.Fsm.fsmID + \"，关联模板变量：\" + template.templateVarID + \"，目标状态名：\" + fsmID + \"，关联状态错误：在目标模板变量中无法查找到该目标状态名，请检查！\");\r\n            return;\r\n          }\r\n        }\r\n        else {\r\n          console.error('错误信息 >>> 位置：' + this._posArray[i] + '，信息：' + \"项目名：\" + this._fromState.Fsm.projectName + \"，对象名：\" + this._fromState.Fsm.objectID + \"，关联起始状态：\" + this._fromState.Fsm.fsmID + \"，关联模板变量：\" + template.templateVarID + \"，关联状态错误：当前模板变量未实例化创建，请检查！\");\r\n          return;\r\n        }\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n}","import { VE_Manager } from \"./manager\";\r\n\r\nexport class VE_Reset {\r\n\r\n  private static _clearTotal: (() => void)[] = [];\r\n  private static _clearProject: ((project_name: string) => void)[] = [];\r\n\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public static dispose(): void {\r\n\r\n    // 对象\r\n    VE_Manager.clear();\r\n\r\n    // 变量\r\n\r\n    // 触发\r\n\r\n    // 响应\r\n\r\n  }\r\n\r\n  public static addClear(callback: () => void): void {\r\n    this._clearTotal.push(callback);\r\n  }\r\n\r\n  public static addProjectClear(callback: (project_name: string) => void): void {\r\n    this._clearProject.push(callback);\r\n  }\r\n\r\n  public static clear(): void {\r\n    this._clearTotal.forEach((value => {\r\n      value();\r\n    }))\r\n  }\r\n\r\n  public static clearProject(project_name: string): void {\r\n    this._clearProject.forEach((value, index: number) => {\r\n      value(project_name);\r\n    })\r\n  }\r\n\r\n\r\n}","import { Scope } from \"./scope\";\r\nimport { IExpression } from \"./expressions\";\r\nimport { ParseError, NameLocation } from \"./positions\";\r\nimport { VE_ExpressionParsing } from \"./expressionParsing\";\r\nimport { VariableScope } from \"../enum\";\r\nimport { Variable } from \"./variable\";\r\nimport { ShowError } from \"../html\";\r\n\r\nexport class ExpManager {\r\n\r\n  private static _scope: Scope;\r\n  private static _expVariable: { [key: string]: IExpression } = {};\r\n\r\n  public static errors: ParseError[] = [];\r\n\r\n  private static _projectName = '';\r\n  private static _objectID = '';\r\n\r\n  public static init() {\r\n    this._scope = Scope.Create();\r\n  }\r\n\r\n  public static isCreated(name_id: string): boolean {\r\n    if (this._scope.isCreated(name_id)) {\r\n      return true;\r\n    }\r\n    if (this._expVariable[name_id]) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public static isCreatedVariable(name_id: string): boolean {\r\n    if (this._scope.isCreated(name_id)) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static isCreatedExpression(name_id: string): boolean {\r\n    if (this._expVariable[name_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static createVariable(name_id: string, type: string, value: any): boolean {\r\n    this.errors = [];\r\n    if (this.isCreated(name_id)) {\r\n      this.errors.push(ParseError.Error(new NameLocation(name_id), `变量：${name_id}，类型：${type}，该变量已创建，请勿重复创建！`));\r\n      return false;\r\n    }\r\n    this._scope.setVariable(name_id, type, value);\r\n    return true;\r\n  }\r\n\r\n  public static createExpression(name_id: string, exp_str: string): boolean {\r\n    this.errors = [];\r\n    if (this.isCreated(name_id)) {\r\n      this.errors.push(ParseError.Error(new NameLocation(name_id), `表达式名：${name_id}，表达式：${exp_str}，该表达式已定义，请勿重复定义！`));\r\n      return false;\r\n    }\r\n    let exp: IExpression = VE_ExpressionParsing.parsing(name_id, exp_str, this._scope, this._projectName, '', '', VariableScope.Scene);\r\n    if (VE_ExpressionParsing.errors.length > 0) {\r\n      for (let i: number = 0; i < VE_ExpressionParsing.errors.length; i++) {\r\n        this.errors.push(VE_ExpressionParsing.errors[i]);\r\n      }\r\n      return false;\r\n    }\r\n    this._expVariable[name_id] = exp;\r\n    return true;\r\n  }\r\n\r\n  public static getValue(name_id: string): any {\r\n    if (this.isCreated(name_id)) {\r\n      if (this.isCreatedVariable(name_id)) {\r\n        return this._scope.find(name_id)!.getValue();\r\n      } else {\r\n        return this._expVariable[name_id].evaluate();\r\n      }\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static getExpression(name_id: string): IExpression | null {\r\n    if (this._expVariable[name_id]) {\r\n      return this._expVariable[name_id];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static getVariable(name_id: string): Variable | null {\r\n    if (this.isCreatedVariable(name_id)) {\r\n      return this._scope.find(name_id);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  public static printError(): void {\r\n    if (this.errors.length > 0) {\r\n      for (let i: number = 0; i < this.errors.length; i++) {\r\n        console.error(this.errors[i].toString());\r\n        ShowError.showError(this.errors[i].toString());\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}\r\n\r\nExpManager.init();\r\n\r\n// try {\r\n//   ExpManager.createVariable('first', 'number', 1);\r\n//   ExpManager.createVariable('second', 'number', 2);\r\n//   ExpManager.createVariable('third', 'bool', true);\r\n//   console.log(ExpManager.getValue('third'));\r\n\r\n//   // ExpManager.createExpression('add', '(1 + first + second * (first + second + 3)) / 2');\r\n//   // ExpManager.createExpression('add', 'cos(PI/2) + sin(PI/2)');\r\n//   // console.log(ExpManager.getExpression('add')!.toString());\r\n//   // console.log('值： ' + ExpManager.getExpression('add')!.evaluate());\r\n\r\n//   // ExpManager.createExpression('exp1', 'second + 2 * second + abs(-10)');\r\n//   ExpManager.createExpression('exp1', '（first * second + second） > 10');\r\n//   console.log('值2： ' + ExpManager.getExpression('exp1')!.evaluate());\r\n\r\n//   // ExpManager.createExpression('multiply', 'x * y');\r\n//   // ExpManager.createExpression('substract', 'x - y');\r\n\r\n//   // console.log(ExpManager.getExpression('add')!.evaluate());\r\n\r\n//   // console.log(ExpManager.getExpression('multiply')!.evaluate());\r\n//   // console.log(ExpManager.getExpression('substract')!.evaluate());\r\n\r\n// }\r\n// catch {\r\n\r\n// }\r\n\r\nExpManager.printError();\r\n\r\n\r\n","import { IVeryVar } from \"./IVeryVar\";\r\nimport { ErrorInfo } from \"../utility/errorInfo\";\r\nimport { VeryVarManager } from \"./veryVarManager\";\r\nimport { GameObject } from \"../babylon/babylonVariables\";\r\nimport { VeryExpression } from \"./veryExpression\";\r\n\r\nexport class VeryBool implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"bool\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryBool\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'bool|开关';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): boolean {\r\n    if (this._isExpression) {\r\n      return this._expression!.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: boolean) {\r\n    this._value = val;\r\n  }\r\n  private _value: boolean = false;\r\n\r\n  constructor() {\r\n    this._value = false;\r\n  }\r\n\r\n  public setValue(val: any): void {\r\n    this._value = val;\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression) {\r\n      return this._expression!.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._expression = expression;\r\n    this._isExpression = true;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    value_str = value_str.trim();\r\n    if (value_str.toLowerCase() === \"false\" || value_str === \"关\") {\r\n      return false;\r\n    } else if (value_str.toLowerCase() === \"true\" || value_str === \"开\") {\r\n      return true;\r\n    } else if (\r\n      value_str === \"\" ||\r\n      value_str.toLowerCase() === \"null\" ||\r\n      value_str.toLowerCase() === \"none\"\r\n    ) {\r\n      return false;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \"类型: \" +\r\n        this.varType +\r\n        \"，值：\" +\r\n        value_str +\r\n        \"，该变量值和类型不匹配，转化错误，请检查！\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryBool = new VeryBool();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryNumber implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"number\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryNumber\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'number|数字';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): number {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: number) {\r\n    this._value = val;\r\n  }\r\n  private _value: number = 0;\r\n\r\n  constructor() {\r\n    this._value = 0;\r\n  }\r\n\r\n  public setValue(val: number): void {\r\n    this._value = val;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._expression = expression;\r\n    this._isExpression = true;\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let newVal = parseFloat(value_str);\r\n    if (!isNaN(newVal)) {\r\n      return newVal;\r\n    } else {\r\n      error_info.isRight = false;\r\n      error_info.message =\r\n        \"类型: \" +\r\n        this.varType +\r\n        \"，值：\" +\r\n        value_str +\r\n        \"，该变量值和类型不匹配，转化错误，请检查！\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryNumber = new VeryNumber();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryString implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"string\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryString\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'string|字符串';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): string {\r\n    if (this._isExpression) {\r\n      return this._expression!.value.evaluate().toString();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: string) {\r\n    this._value = val;\r\n  }\r\n  private _value: string = \"\";\r\n\r\n  constructor() {\r\n    this._value = \"\";\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression) {\r\n      return this._expression!.value.evaluate().toString();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any): void {\r\n    this._value = val;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue: string;\r\n    if (\r\n      value_str.startsWith(\"'\") ||\r\n      value_str.startsWith('\"') ||\r\n      value_str.startsWith(\"“\") ||\r\n      value_str.startsWith(\"‘\")\r\n    ) {\r\n      rValue = value_str.substring(1, value_str.length - 2);\r\n    } else {\r\n      rValue = value_str;\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryString = new VeryString();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._isExpression = true;\r\n    this._expression = expression;\r\n  }\r\n}\r\n\r\nexport class VeryVector3 implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"Vector3\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryVector3\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'Vector3|向量';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): BABYLON.Vector3 {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: BABYLON.Vector3) {\r\n    this._value = val;\r\n  }\r\n  private _value: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n\r\n  constructor() {\r\n    this._value = BABYLON.Vector3.Zero();\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._isExpression = true;\r\n    this._expression = expression;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n    if (value_str === \"none\" || value_str === \"null\" || value_str === \"\") {\r\n      return rValue;\r\n    } else {\r\n      let vec3Str: string[] = value_str.split(/,|，/);\r\n      if (vec3Str.length !== 3) {\r\n        error_info.isRight = false;\r\n        error_info.message =\r\n          \"类型: \" +\r\n          this.varType +\r\n          \", 值: \" +\r\n          value_str +\r\n          \"，Vector3|向量类型值格式错误，转化错误！\";\r\n        return null;\r\n      } else {\r\n        let n1: number = parseFloat(vec3Str[0]);\r\n        let n2: number = parseFloat(vec3Str[1]);\r\n        let n3: number = parseFloat(vec3Str[2]);\r\n        if (isNaN(n1) || isNaN(n2) || isNaN(n3)) {\r\n          error_info.isRight = false;\r\n          error_info.message =\r\n            \"类型: \" +\r\n            this.varType +\r\n            \", 值: \" +\r\n            value_str +\r\n            \"，Vector3|向量类型值格式错误，转化错误！\";\r\n          return null;\r\n        } else {\r\n          rValue = new BABYLON.Vector3(n1, n2, n3);\r\n        }\r\n      }\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryVector3 = new VeryVector3();\r\n    let r: BABYLON.Vector3 = new BABYLON.Vector3(\r\n      this._value.x,\r\n      this._value.y,\r\n      this._value.z\r\n    );\r\n    varClone.setValue(r);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryGameObject implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"GameObject\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryGameObject\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'GameObject|对象';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  public get value(): Nullable<GameObject> {\r\n    return this._value;\r\n  }\r\n  public set value(val: Nullable<GameObject>) {\r\n    this._value = val;\r\n  }\r\n  private _value: Nullable<GameObject> = null;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  // 之后可能会有公式的情况\r\n  public getValue(): any {\r\n    return this._value;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n\r\n    if (value_str === '' || value_str.toLowerCase() === 'null' || value_str.toLowerCase() === 'none') {\r\n      return null;\r\n    } else {\r\n      let rValue: Nullable<GameObject> = GameObject.Find(value_str);\r\n      if (rValue === null) {\r\n        error_info.isRight = false;\r\n        error_info.message =\r\n          \"类型: \" +\r\n          this.varType +\r\n          \"，值：\" +\r\n          value_str +\r\n          \"，在场景中找不到指定对象，请检查！\";\r\n      }\r\n      return rValue;\r\n    }\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryGameObject = new VeryGameObject();\r\n    varClone.setValue(this._value);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryRect implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"Rect\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryRect\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'Rect|矩形';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): BABYLON.Vector4 {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: BABYLON.Vector4) {\r\n    this._value = val;\r\n  }\r\n  private _value: BABYLON.Vector4 = BABYLON.Vector4.Zero();\r\n\r\n  constructor() {\r\n    this._value = BABYLON.Vector4.Zero();\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._isExpression = true;\r\n    this._expression = expression;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue: BABYLON.Vector4 = BABYLON.Vector4.Zero();\r\n    if (value_str === \"none\" || value_str === \"null\" || value_str === \"\") {\r\n      return rValue;\r\n    } else {\r\n      let vec3Str: string[] = value_str.split(/,|，/);\r\n      if (vec3Str.length !== 4) {\r\n        error_info.isRight = false;\r\n        error_info.message =\r\n          \"类型: \" +\r\n          this.varType +\r\n          \", 值: \" +\r\n          value_str +\r\n          \"，Rect|矩形类型值格式错误，转化错误！\";\r\n        return null;\r\n      } else {\r\n        let n1: number = parseFloat(vec3Str[0]);\r\n        let n2: number = parseFloat(vec3Str[1]);\r\n        let n3: number = parseFloat(vec3Str[2]);\r\n        let n4: number = parseFloat(vec3Str[3]);\r\n        if (isNaN(n1) || isNaN(n2) || isNaN(n3) || isNaN(n4)) {\r\n          error_info.isRight = false;\r\n          error_info.message =\r\n            \"类型: \" +\r\n            this.varType +\r\n            \", 值: \" +\r\n            value_str +\r\n            \"，Rect|矩形类型值格式错误，转化错误！\";\r\n          return null;\r\n        } else {\r\n          rValue = new BABYLON.Vector4(n1, n2, n3, n4);\r\n        }\r\n      }\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryRect = new VeryRect();\r\n    let r: BABYLON.Vector4 = new BABYLON.Vector4(\r\n      this._value.x,\r\n      this._value.y,\r\n      this._value.z,\r\n      this._value.w\r\n    );\r\n    varClone.setValue(r);\r\n    return varClone;\r\n  }\r\n}\r\nexport class VeryVector2 implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"Vector2\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryVector2\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'Vector2';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): BABYLON.Vector2 {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: BABYLON.Vector2) {\r\n    this._value = val;\r\n  }\r\n  private _value: BABYLON.Vector2 = BABYLON.Vector2.Zero();\r\n\r\n  constructor() {\r\n    this._value = BABYLON.Vector2.Zero();\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._isExpression = true;\r\n    this._expression = expression;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue: BABYLON.Vector2 = BABYLON.Vector2.Zero();\r\n    if (value_str === \"none\" || value_str === \"null\" || value_str === \"\") {\r\n      return rValue;\r\n    } else {\r\n      let vec3Str: string[] = value_str.split(/,|，/);\r\n      if (vec3Str.length !== 2) {\r\n        error_info.isRight = false;\r\n        error_info.message =\r\n          \"类型: \" +\r\n          this.varType +\r\n          \", 值: \" +\r\n          value_str +\r\n          \"，Vector2类型值格式错误，转化错误！\";\r\n        return null;\r\n      } else {\r\n        let n1: number = parseFloat(vec3Str[0]);\r\n        let n2: number = parseFloat(vec3Str[1]);\r\n        if (isNaN(n1) || isNaN(n2)) {\r\n          error_info.isRight = false;\r\n          error_info.message =\r\n            \"类型: \" +\r\n            this.varType +\r\n            \", 值: \" +\r\n            value_str +\r\n            \"，Vector2类型值格式错误，转化错误！\";\r\n          return null;\r\n        } else {\r\n          rValue = new BABYLON.Vector2(n1, n2);\r\n        }\r\n      }\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryVector2 = new VeryVector2();\r\n    let r: BABYLON.Vector2 = new BABYLON.Vector2(\r\n      this._value.x,\r\n      this._value.y,\r\n    );\r\n    varClone.setValue(r);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryMaterial implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"Material\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryMaterial\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'Material|材质';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): BABYLON.Nullable<BABYLON.Material> {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: BABYLON.Nullable<BABYLON.Material>) {\r\n    this._value = val;\r\n  }\r\n  private _value: BABYLON.Nullable<BABYLON.Material> = null;\r\n\r\n  constructor() {\r\n    this._value = null;\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._isExpression = true;\r\n    this._expression = expression;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue = null;\r\n    if (value_str === \"none\" || value_str === \"null\" || value_str === \"\") {\r\n      return rValue;\r\n    } else {\r\n      //TODO:材质初始化\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryMaterial = new VeryMaterial();\r\n    let r = this._value;\r\n    varClone.setValue(r);\r\n    return varClone;\r\n  }\r\n}\r\n\r\nexport class VeryList implements IVeryVar {\r\n  public get varType(): string {\r\n    return \"List\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"VeryList\";\r\n  }\r\n\r\n  public get ID(): string {\r\n    return 'VeryList|数组';\r\n  }\r\n\r\n  public name: string = '';\r\n\r\n  private _isExpression: boolean = false;\r\n  private _expression: Nullable<VeryExpression> = null;\r\n\r\n  public get value(): IVeryVar[] {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n  public set value(val: IVeryVar[]) {\r\n    this._value = val;\r\n  }\r\n  private _value: IVeryVar[] = [];\r\n\r\n  constructor() {\r\n    this._value = [];\r\n  }\r\n\r\n  public getValue(): any {\r\n    if (this._isExpression && this._expression) {\r\n      return this._expression.value.evaluate();\r\n    }\r\n    return this._value;\r\n  }\r\n\r\n  public setValue(val: any) {\r\n    this._value = val;\r\n  }\r\n\r\n  public setExpression(expression: VeryExpression): void {\r\n    this._isExpression = true;\r\n    this._expression = expression;\r\n  }\r\n\r\n  public initValue(value_str: string, error_info: ErrorInfo): any {\r\n    let rValue = null;\r\n    if (value_str === \"none\" || value_str === \"null\" || value_str === \"\") {\r\n      return rValue;\r\n    } else {\r\n      //TODO:数组初始化\r\n    }\r\n    return rValue;\r\n  }\r\n\r\n  public clone(): IVeryVar {\r\n    let varClone: VeryList = new VeryList();\r\n    for (var i = 0; i < this._value.length; i++) {\r\n      varClone.value[varClone.value.length] = this._value[i].clone();\r\n    }\r\n    return varClone;\r\n  }\r\n}\r\n\r\nVeryVarManager.addVarType(VeryBool);\r\nVeryVarManager.addVarType(VeryNumber);\r\nVeryVarManager.addVarType(VeryString);\r\nVeryVarManager.addVarType(VeryVector3);\r\nVeryVarManager.addVarType(VeryGameObject);\r\n//TODO:Material,List,Dictionary,Image,Color,Ray\r\n\r\n//TODO:20200807_Rect扩展\r\nVeryVarManager.addVarType(VeryRect);\r\n//TODO:20200807_Vector2扩展\r\nVeryVarManager.addVarType(VeryVector2);\r\n//TODO:20200807_Material扩展\r\nVeryVarManager.addVarType(VeryMaterial);  //TODO:未完成\r\n//TODO:20200811_List扩展\r\nVeryVarManager.addVarType(VeryList);  //TODO:未完成","import { VE_VariableData } from \"../dataSource\";\r\nimport { IVeryVar } from \"./IVeryVar\";\r\nimport { VE_Template } from \"../template\";\r\nimport { IExpression } from \"../expression\";\r\n\r\nexport class VE_Variables {\r\n\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  public varData: VE_VariableData;\r\n\r\n  private _veryVars: { [key: string]: IVeryVar } = {};\r\n  private _tempalteVars: { [key: string]: VE_Template } = {};\r\n  private _expressions: { [key: string]: IExpression } = {};\r\n\r\n  constructor(project_name: string) {\r\n    this._projectName = project_name;\r\n    this.varData = new VE_VariableData(project_name);\r\n  }\r\n\r\n  public isCreated(id: string): boolean {\r\n    if(this._veryVars[id] || this._tempalteVars[id] || this._expressions[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public isCreatedVariable(id: string): boolean {\r\n    if(this._veryVars[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addVariable(id: string, very_var: IVeryVar): void {\r\n    this._veryVars[id] = very_var;\r\n  }\r\n\r\n  public getVariable(id: string): IVeryVar {\r\n    return this._veryVars[id];\r\n  }\r\n\r\n  public isCreatedTemplate(id: string): boolean {\r\n    if(this._tempalteVars[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addTemplate(id: string, template: VE_Template): void {\r\n    this._tempalteVars[id] = template;\r\n  }\r\n\r\n  public getTemplate(id: string): VE_Template {\r\n    return this._tempalteVars[id];\r\n  }\r\n\r\n  public isCreatedExpression(id: string): boolean {\r\n    if(this._expressions[id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public addExpression(id: string, exp: IExpression): void {\r\n    this._expressions[id] = exp;\r\n  }\r\n\r\n  public getExpression(id: string): IExpression {\r\n    return this._expressions[id];\r\n  }\r\n\r\n\r\n  public clear(): void {\r\n    if(this.varData) {\r\n      this.varData.clear();\r\n    }\r\n    this._veryVars = {};\r\n    this._expressions = {};\r\n    this._tempalteVars = {};\r\n  }\r\n\r\n\r\n\r\n}","import { StateConst } from \"../state\";\r\nimport { IVeryVar } from \"./IVeryVar\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { VerySceneVariables } from \"../scene\";\r\nimport { VE_Variables } from \"./variables\";\r\nimport { VE_Objects, VeryEngineObject } from \"../object\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { VE_Template } from \"../template\";\r\nimport { VeryExpression } from \"./veryExpression\";\r\n\r\nexport class VarTools {\r\n\r\n  /**\r\n   * 系统中是否含有该ID对象的变量；\r\n   * @param var_id 变量ID；\r\n   */\r\n  public static IsVarID(var_id: string): boolean {\r\n    return var_id.indexOf(StateConst.VARIABLE_SYMBOL) > -1;\r\n  }\r\n\r\n  /**\r\n   * 触发和响应可以接收普通变量，不能接收状态变量和公式变量，也不能接收模板变量；\r\n   * 1. *变量 - 对象局部变量 -> 项目全局变量 -> 场景变量；\r\n   * 2. 对象名.*变量 - 对象局部变量；\r\n   * @param project_name 项目名；\r\n   * @param object_id 对象名；\r\n   * @param var_id 变量ID；\r\n   * @param error_info 错误信息；\r\n   */\r\n  public static GetVeryVar(project_name: string, object_id: string, var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n        return null;\r\n      }\r\n      else {\r\n        for (let i: number = 0; i < varArray.length; i++) {\r\n          varArray[i] = varArray[i].trim();\r\n        }\r\n        // 对象名.*变量\r\n        if (varArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (objects.isCreated(varArray[0])) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(varArray[0]);\r\n            let varID: string = varArray[1].substring(1);\r\n            if (veryObject.isCreatedVariable(varID)) {\r\n              return veryObject.getVariable(varID);\r\n            }\r\n            else if (veryObject.isCreatedFsm(varID)) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前触发和响应不能引用状态变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n              return null;\r\n            }\r\n            else if (veryObject.isCreatedExpression(varID)) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前触发和响应不能引用公式变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n              return null;\r\n            }\r\n            else if (veryObject.isCreatedTemplate(varID)) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前触发和响应不能引用模板变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n              return null;\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，在当前对象中无法查找到该变量，请检查！\";\r\n              return null;\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，在当前系统中，无法查找到该对象名，请检查！\";\r\n            return null;\r\n          }\r\n        }\r\n        else {\r\n          error_info.isRight = false;\r\n          error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      // *变量\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        let objects: VE_Objects = VE_Manager.objects(project_name);\r\n        if (objects.isCreated(object_id)) {\r\n          let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n          if (veryObject.isCreatedVariable(var_id)) {\r\n            return veryObject.getVariable(var_id);\r\n          }\r\n          else if (veryObject.isCreatedFsm(var_id)) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"当前触发和响应不能引用状态变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n            return null;\r\n          }\r\n          else if (veryObject.isCreatedExpression(var_id)) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"当前触发和响应不能引用公式变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n            return null;\r\n          }\r\n          else if (veryObject.isCreatedTemplate(var_id)) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"触发和响应不能引用模板变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n            return null;\r\n          }\r\n          else {\r\n            return VarTools.GetGlobalVar(VE_Manager.variables(project_name), var_id, error_info);\r\n          }\r\n        }\r\n        else {\r\n          return VarTools.GetGlobalVar(VE_Manager.variables(project_name), var_id, error_info);\r\n        }\r\n      }\r\n      else {\r\n        error_info.isRight = false;\r\n        error_info.message = \"变量格式错误，应为“*变量”的格式，当前变量ID为：\" + var_id + \"，请检查！\";\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取全局变量，只获取普通变量，不包含公式变量；\r\n   * @param global_vars 全局变量存储结构；\r\n   * @param var_id 变量ID；\r\n   * @param error_info 错误信息；\r\n   */\r\n  public static GetGlobalVar(global_vars: VE_Variables, var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (global_vars.isCreatedVariable(var_id)) {\r\n      return global_vars.getVariable(var_id);\r\n    }\r\n    else if (global_vars.isCreatedExpression(var_id)) {\r\n      error_info.isRight = false;\r\n      error_info.message = \"当前触发和响应不能引用公式变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n      return null;\r\n    }\r\n    else if (global_vars.isCreatedTemplate(var_id)) {\r\n      error_info.isRight = false;\r\n      error_info.message = \"当前触发和响应不能引用模板变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n      return null;\r\n    }\r\n    else {\r\n      return VarTools.GetSceneVar(var_id, error_info);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取场景变量，只获取普通变量，不包含公式变量；\r\n   * @param var_id 变量ID；\r\n   * @param error_info 错误信息；\r\n   */\r\n  public static GetSceneVar(var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (VerySceneVariables.Variables.isCreatedVariable(var_id)) {\r\n      return VerySceneVariables.Variables.getVariable(var_id);\r\n    }\r\n    else if (VerySceneVariables.Variables.isCreatedExpression(var_id)) {\r\n      error_info.isRight = false;\r\n      error_info.message = \"当前触发和响应不能引用公式变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n      return null;\r\n    }\r\n    else {\r\n      error_info.isRight = false;\r\n      error_info.message = \"无法在系统中查找到该变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 触发和响应获取模板变量；\r\n   * 1. *变量 - 对象局部变量 -> 项目全局变量；\r\n   * 2. 对象名.*变量 - 对象局部模板变量；\r\n   * @param project_name 项目名；\r\n   * @param object_id 对象名；\r\n   * @param var_id 变量ID；\r\n   * @param error_info 错误信息；\r\n   */\r\n  public static GetTemplate(project_name: string, object_id: string, var_id: string, error_info: ErrorInfo): Nullable<VE_Template> {\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n        return null;\r\n      }\r\n      else {\r\n        for (let i: number = 0; i < varArray.length; i++) {\r\n          varArray[i] = varArray[i].trim();\r\n        }\r\n        // 对象名.*变量\r\n        if (varArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (objects.isCreated(varArray[0])) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(varArray[0]);\r\n            let varID: string = varArray[1].substring(1);\r\n            if (veryObject.isCreatedTemplate(varID)) {\r\n              return veryObject.getTemplate(varID);\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，在当前对象中无法查找到该模板变量，请检查！\";\r\n              return null;\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，在当前系统中，无法查找到该对象名，请检查！\";\r\n            return null;\r\n          }\r\n        }\r\n        else {\r\n          error_info.isRight = false;\r\n          error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      // *变量\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        let objects: VE_Objects = VE_Manager.objects(project_name);\r\n        if (objects.isCreated(object_id)) {\r\n          let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n          if (veryObject.isCreatedTemplate(var_id)) {\r\n            return veryObject.getTemplate(var_id);\r\n          }\r\n        }\r\n        let globalVars: VE_Variables = VE_Manager.variables(project_name);\r\n        if (globalVars.isCreatedTemplate(var_id)) {\r\n          return globalVars.getTemplate(var_id);\r\n        }\r\n        else {\r\n          error_info.isRight = false;\r\n          error_info.message = \"当前变量格式应为“*变量”，当前变量ID为：\" + var_id + \"，在当前项目中无法查找到该模板变量，请检查！\";\r\n          return null;\r\n        }\r\n      }\r\n      else {\r\n        error_info.isRight = false;\r\n        error_info.message = \"当前变量格式应为“*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static GetVeryVarWithExpression(project_name: string, object_id: string, var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (var_id.indexOf(StateConst.STATE_SEPARATOR) > -1) {\r\n      let varArray: string[] = var_id.split(StateConst.STATE_SEPARATOR);\r\n      if (varArray.length !== 2) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n        return null;\r\n      }\r\n      else {\r\n        for (let i: number = 0; i < varArray.length; i++) {\r\n          varArray[i] = varArray[i].trim();\r\n        }\r\n        // 对象名.*变量\r\n        if (varArray[1].startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n          let objects: VE_Objects = VE_Manager.objects(project_name);\r\n          if (objects.isCreated(varArray[0])) {\r\n            let veryObject: VeryEngineObject = objects.getVeryObject(varArray[0]);\r\n            let varID: string = varArray[1].substring(1);\r\n            if (veryObject.isCreatedVariable(varID)) {\r\n              return veryObject.getVariable(varID);\r\n            }\r\n            else if (veryObject.isCreatedFsm(varID)) {\r\n              return veryObject.getFsm(varID).fsmVar;\r\n            }\r\n            else if (veryObject.isCreatedExpression(varID)) {\r\n              return new VeryExpression(veryObject.getExpression(varID));\r\n            }\r\n            else if (veryObject.isCreatedTemplate(varID)) {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前触发和响应不能引用模板变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n              return null;\r\n            }\r\n            else {\r\n              error_info.isRight = false;\r\n              error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，在当前对象中无法查找到该变量，请检查！\";\r\n              return null;\r\n            }\r\n          }\r\n          else {\r\n            error_info.isRight = false;\r\n            error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，在当前系统中，无法查找到该对象名，请检查！\";\r\n            return null;\r\n          }\r\n        }\r\n        else {\r\n          error_info.isRight = false;\r\n          error_info.message = \"当前变量格式应为“对象名.*变量”，当前变量ID为：\" + var_id + \"，不符合，请检查！\";\r\n          return null;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      // *变量\r\n      if (var_id.startsWith(StateConst.VARIABLE_SYMBOL)) {\r\n        var_id = var_id.substring(1);\r\n        let objects: VE_Objects = VE_Manager.objects(project_name);\r\n        if (objects.isCreated(object_id)) {\r\n          let veryObject: VeryEngineObject = objects.getVeryObject(object_id);\r\n          if (veryObject.isCreatedVariable(var_id)) {\r\n            return veryObject.getVariable(var_id);\r\n          }\r\n          else if (veryObject.isCreatedFsm(var_id)) {\r\n            return veryObject.getFsm(var_id).fsmVar;\r\n          }\r\n          else if (veryObject.isCreatedExpression(var_id)) {\r\n            return new VeryExpression(veryObject.getExpression(var_id));\r\n          }\r\n          else if (veryObject.isCreatedTemplate(var_id)) {\r\n            error_info.isRight = false;\r\n            error_info.message = \"当前触发和响应不能引用模板变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n            return null;\r\n          }\r\n          else {\r\n            return VarTools.GetGlobalVarWithExpression(VE_Manager.variables(project_name), var_id, error_info);\r\n          }\r\n        }\r\n        else {\r\n          return VarTools.GetGlobalVarWithExpression(VE_Manager.variables(project_name), var_id, error_info);\r\n        }\r\n      }\r\n      else {\r\n        error_info.isRight = false;\r\n        error_info.message = \"变量格式错误，应为“*变量”的格式，当前变量ID为：\" + var_id + \"，请检查！\";\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static GetGlobalVarWithExpression(global_vars: VE_Variables, var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (global_vars.isCreatedVariable(var_id)) {\r\n      return global_vars.getVariable(var_id);\r\n    }\r\n    else if (global_vars.isCreatedExpression(var_id)) {\r\n      return new VeryExpression(global_vars.getExpression(var_id));\r\n    }\r\n    else if (global_vars.isCreatedTemplate(var_id)) {\r\n      error_info.isRight = false;\r\n      error_info.message = \"当前触发和响应不能引用模板变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n      return null;\r\n    }\r\n    else {\r\n      return VarTools.GetSceneVarWithExpression(var_id, error_info);\r\n    }\r\n  }\r\n\r\n  public static GetSceneVarWithExpression(var_id: string, error_info: ErrorInfo): Nullable<IVeryVar> {\r\n    if (VerySceneVariables.Variables.isCreatedVariable(var_id)) {\r\n      return VerySceneVariables.Variables.getVariable(var_id);\r\n    }\r\n    else if (VerySceneVariables.Variables.isCreatedExpression(var_id)) {\r\n      return new VeryExpression(VerySceneVariables.Variables.getExpression(var_id));\r\n    }\r\n    else {\r\n      error_info.isRight = false;\r\n      error_info.message = \"无法在系统中查找到该变量，当前变量ID为：\" + var_id + \"，请检查！\";\r\n      return null;\r\n    }\r\n  }\r\n\r\n}","export class VE_KeyboardMap {\r\n\r\n  private static _keyMap: { [key: string]: string } = {};\r\n  private static _initialized = false;\r\n\r\n  private static init(): void {\r\n    this._keyMap['space'] = ' ';\r\n    this._keyMap['空格'] = ' ';\r\n    this._keyMap['backspace'] = 'Backspace';\r\n    this._keyMap['退格'] = 'Backspace';\r\n    this._keyMap['tab'] = 'Tab';\r\n    this._keyMap['enter'] = 'Enter';\r\n    this._keyMap['回车'] = 'Enter';\r\n    this._keyMap['shift'] = 'Shift';\r\n    this._keyMap['control'] = 'Control';\r\n    this._keyMap['ctrl'] = 'Control';\r\n    this._keyMap['alt'] = 'Alt';\r\n    this._keyMap['pause'] = 'Pause';\r\n    this._keyMap['capsLock'] = 'CapsLock';\r\n    this._keyMap['escape'] = 'Escape';\r\n    this._keyMap['pageup'] = 'PageUp';\r\n    this._keyMap['上一页'] = 'PageUp';\r\n    this._keyMap['pagedown'] = 'PageDown';\r\n    this._keyMap['下一页'] = 'PageDown';\r\n    this._keyMap['end'] = 'End';\r\n    this._keyMap['home'] = 'Home';\r\n    this._keyMap['arrowleft'] = 'ArrowLeft';\r\n    this._keyMap['左'] = 'ArrowLeft';\r\n    this._keyMap['arrowup'] = 'ArrowUp';\r\n    this._keyMap['上'] = 'ArrowUp';\r\n    this._keyMap['arrowright'] = 'ArrowRight';\r\n    this._keyMap['右'] = 'ArrowRight';\r\n    this._keyMap['arrowdown'] = 'ArrowDown';\r\n    this._keyMap['下'] = 'ArrowDown';\r\n    this._keyMap['insert'] = 'Insert';\r\n    this._keyMap['插入'] = 'Insert';\r\n    this._keyMap['delete'] = 'Delete';\r\n    this._keyMap['删除'] = 'Delete';\r\n    this._keyMap['0'] = '0';\r\n    this._keyMap['1'] = '1';\r\n    this._keyMap['2'] = '2';\r\n    this._keyMap['3'] = '3';\r\n    this._keyMap['4'] = '4';\r\n    this._keyMap['5'] = '5';\r\n    this._keyMap['6'] = '6';\r\n    this._keyMap['7'] = '7';\r\n    this._keyMap['8'] = '8';\r\n    this._keyMap['9'] = '9';\r\n    this._keyMap[')'] = ')';\r\n    this._keyMap['）'] = ')';\r\n    this._keyMap['!'] = '!';\r\n    this._keyMap['！'] = '!';\r\n    this._keyMap['@'] = '@';\r\n    this._keyMap['#'] = '#';\r\n    this._keyMap['$'] = '$';\r\n    this._keyMap['￥'] = '$';\r\n    this._keyMap['%'] = '%';\r\n    this._keyMap['^'] = '^';\r\n    this._keyMap['……'] = '^';\r\n    this._keyMap['&'] = '&';\r\n    this._keyMap['*'] = '*';\r\n    this._keyMap['('] = '(';\r\n    this._keyMap['（'] = '(';\r\n    this._keyMap['meta'] = 'meta';\r\n    this._keyMap['windows'] = 'meta';\r\n    this._keyMap['contextmenu'] = 'ContextMenu';\r\n    this._keyMap['快捷菜单'] = 'ContextMenu';\r\n    this._keyMap['f1'] = 'F1';\r\n    this._keyMap['f2'] = 'F2';\r\n    this._keyMap['f3'] = 'F3';\r\n    this._keyMap['f4'] = 'F4';\r\n    this._keyMap['f5'] = 'F5';\r\n    this._keyMap['f6'] = 'F6';\r\n    this._keyMap['f7'] = 'F7';\r\n    this._keyMap['f8'] = 'F8';\r\n    this._keyMap['f9'] = 'F9';\r\n    this._keyMap['f10'] = 'F10';\r\n    this._keyMap['f11'] = 'F11';\r\n    this._keyMap['f12'] = 'F12';\r\n    this._keyMap['scrolllock'] = 'ScrollLock';\r\n    this._keyMap[';'] = ';';\r\n    this._keyMap['；'] = ';';\r\n    this._keyMap[':'] = ':';\r\n    this._keyMap['：'] = ':';\r\n    this._keyMap['='] = '=';\r\n    this._keyMap['+'] = '+';\r\n    this._keyMap['-'] = '-';\r\n    this._keyMap['_'] = '_';\r\n    this._keyMap['——'] = '_';\r\n    this._keyMap[','] = ',';\r\n    this._keyMap['，'] = ',';\r\n    this._keyMap['<'] = '<';\r\n    this._keyMap['《'] = '<';\r\n    this._keyMap['.'] = '.';\r\n    this._keyMap['。'] = '.';\r\n    this._keyMap['>'] = '>';\r\n    this._keyMap['》'] = '>';\r\n    this._keyMap['?'] = '?';\r\n    this._keyMap['？'] = '?';\r\n    this._keyMap['/'] = '/';\r\n    this._keyMap['`'] = '`';\r\n    this._keyMap['·'] = '`';\r\n    this._keyMap['~'] = '~';\r\n    this._keyMap['|'] = '|';\r\n    this._keyMap['\\\\'] = '\\\\';\r\n    this._keyMap['\\\\'] = '\\\\';\r\n    this._keyMap['numlock'] = 'NumLock';\r\n    this._keyMap['a'] = 'a';\r\n    this._keyMap['b'] = 'b';\r\n    this._keyMap['c'] = 'c';\r\n    this._keyMap['d'] = 'd';\r\n    this._keyMap['e'] = 'e';\r\n    this._keyMap['f'] = 'f';\r\n    this._keyMap['g'] = 'g';\r\n    this._keyMap['h'] = 'h';\r\n    this._keyMap['i'] = 'i';\r\n    this._keyMap['j'] = 'j';\r\n    this._keyMap['k'] = 'k';\r\n    this._keyMap['l'] = 'l';\r\n    this._keyMap['m'] = 'm';\r\n    this._keyMap['n'] = 'n';\r\n    this._keyMap['o'] = 'o';\r\n    this._keyMap['p'] = 'p';\r\n    this._keyMap['q'] = 'q';\r\n    this._keyMap['r'] = 'r';\r\n    this._keyMap['s'] = 's';\r\n    this._keyMap['t'] = 't';\r\n    this._keyMap['u'] = 'u';\r\n    this._keyMap['v'] = 'v';\r\n    this._keyMap['w'] = 'w';\r\n    this._keyMap['x'] = 'x';\r\n    this._keyMap['y'] = 'y';\r\n    this._keyMap['z'] = 'z';\r\n    \r\n\r\n  }\r\n\r\n  public static GetKey(key_str: string): string {\r\n    if(!this._initialized) {\r\n      this.init();\r\n      this._initialized = true;\r\n    }\r\n    key_str = key_str.trim().toLowerCase();\r\n    if (this._keyMap[key_str]) {\r\n      return this._keyMap[key_str];\r\n    } else {\r\n      return 'null';\r\n    }\r\n  }\r\n\r\n\r\n\r\n}","\r\nexport class Vector3Utility {\r\n\r\n\r\n  /**\r\n   * Vector3向量曲线插值；\r\n   * @param start 起始向量；\r\n   * @param end 终止向量；\r\n   * @param t 插值速率，值为：0~1；\r\n   * 返回新Vector3向量；\r\n   */\r\n  public static Slerp(start: BABYLON.Vector3, end: BABYLON.Vector3, t: number): BABYLON.Vector3 {\r\n    if (t < 0) {\r\n      t = 0;\r\n    } else if (t > 1) {\r\n      t = 1;\r\n    }\r\n    // sin函数来实现曲线效果\r\n    let result: BABYLON.Vector3 = new BABYLON.Vector3();\r\n    let para: number = (Math.sin(Math.PI * (t - 0.5)) + 1) * 0.5;\r\n    result.x = start.x + (end.x - start.x) * para;\r\n    result.y = start.y + (end.y - start.y) * para;\r\n    result.z = start.z + (end.z - start.z) * para;\r\n\r\n\r\n    return result;\r\n  }\r\n\r\n}\r\n\r\nexport class FloatUitlity {\r\n\r\n\r\n  public static Lerp(start: number, end: number, t: number): number {\r\n    if (t < 0) {\r\n      t = 0;\r\n    } else if (t > 1) {\r\n      t = 1;\r\n    }\r\n    return start + (end - start) * t;\r\n  }\r\n\r\n  public static SLerp(start: number, end: number, t: number): number {\r\n    if (t < 0) {\r\n      t = 0;\r\n    } else if (t > 1) {\r\n      t = 1;\r\n    }\r\n    // sin函数来实现曲线效果\r\n    let para: number = (Math.sin(Math.PI * (t - 0.5)) + 1) * 0.5;\r\n    return start + (end - start) * para;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n}","import { VeryGameObject, VeryBool, VeryNumber, VeryString, VeryVector3, VeryRect, VeryVector2, VeryMaterial } from \"../variables\";\r\n\r\nexport class VeryParas {\r\n\r\n  public gameObject: VeryGameObject = new VeryGameObject();\r\n\r\n  public bool: VeryBool = new VeryBool();\r\n\r\n  public number: VeryNumber = new VeryNumber();\r\n\r\n  public string: VeryString = new VeryString();\r\n\r\n  public vector3: VeryVector3 = new VeryVector3();\r\n\r\n  public vecNumbers: VeryNumber[] = [new VeryNumber(), new VeryNumber(), new VeryNumber()];\r\n\r\n  public isVec: boolean = true;\r\n\r\n  //TODO:20200807_Rect扩展\r\n  public isRect: boolean = true;\r\n  public rect: VeryRect = new VeryRect();\r\n  public rectNumbers: VeryNumber[] = [new VeryNumber(), new VeryNumber(), new VeryNumber(), new VeryNumber()];\r\n\r\n  //TODO:20200807_Vector2扩展\r\n  public isVec2: boolean = true;\r\n  public vector2: VeryVector2 = new VeryVector2();\r\n  public vec2Numbers: VeryNumber[] = [new VeryNumber(), new VeryNumber()];\r\n\r\n  //TODO:20200807_Material扩展\r\n  public material: VeryMaterial = new VeryMaterial();\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n  public clear(): void {\r\n\r\n  }\r\n\r\n\r\n\r\n}\r\n","export class Tools {\r\n\r\n    \r\n    public constructor() {\r\n\r\n    }\r\n\r\n    public static eulerAngleToRadian(val: BABYLON.Vector3): BABYLON.Vector3 {\r\n        let para: number = Math.PI / 180;\r\n        return val.multiplyByFloats(para, para, para);\r\n    }\r\n\r\n    public static radianToEulerAngle(val: BABYLON.Vector3): BABYLON.Vector3 {\r\n        let para: number = 180 / Math.PI;\r\n        return val.multiplyByFloats(para, para, para);\r\n    }\r\n\r\n    public static eulerAngleFloatToRadian(euler_angle: number): number {\r\n        return euler_angle * Math.PI / 180;\r\n    }\r\n\r\n    public static radianFloatToEulerAngle(radian: number): number {\r\n        return radian * 180 / Math.PI;\r\n    }\r\n\r\n    public static vector3ToArray(val: BABYLON.Vector3): number[] {\r\n        return [val.x, val.y, val.z];\r\n    }\r\n\r\n    public static quatTransfromVector3(quat: BABYLON.Quaternion, vec3: BABYLON.Vector3): BABYLON.Vector3 {\r\n        let res = BABYLON.Vector3.Zero();\r\n\r\n        var x = vec3.x, y = vec3.y, z = vec3.z;\r\n        var qx = quat.x, qy = quat.y, qz = quat.z, qw = quat.w;\r\n\r\n        // calculate quat * vec\r\n        var ix = qw * x + qy * z - qz * y;\r\n        var iy = qw * y + qz * x - qx * z;\r\n        var iz = qw * z + qx * y - qy * x;\r\n        var iw = -qx * x - qy * y - qz * z;\r\n\r\n        // calculate result * inverse quat\r\n        res.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\r\n        res.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\r\n        res.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\r\n\r\n        return res;\r\n    }\r\n\r\n    public static quatMultiplyVector3(rotation: BABYLON.Quaternion, point: BABYLON.Vector3): BABYLON.Vector3 {\r\n        let num = rotation.x * 2;\r\n        let num2 = rotation.y * 2;\r\n        let num3 = rotation.z * 2;\r\n        let num4 = rotation.x * num;\r\n        let num5 = rotation.y * num2;\r\n        let num6 = rotation.z * num3;\r\n        let num7 = rotation.x * num2;\r\n        let num8 = rotation.x * num3;\r\n        let num9 = rotation.y * num3;\r\n        let num10 = rotation.w * num;\r\n        let num11 = rotation.w * num2;\r\n        let num12 = rotation.w * num3;\r\n        let result: BABYLON.Vector3 = BABYLON.Vector3.Zero();\r\n        result.x = (1 - (num5 + num6)) * point.x + (num7 - num12) * point.y + (num8 + num11) * point.z;\r\n        result.y = (num7 + num12) * point.x + (1 - (num4 + num6)) * point.y + (num9 - num10) * point.z;\r\n        result.z = (num8 - num11) * point.x + (num9 + num10) * point.y + (1 - (num4 + num5)) * point.z;\r\n        return result;\r\n    }\r\n\r\n\r\n    public static clampAngle(angle: number, min: number, max: number): number {\r\n        if (angle < -360)\r\n            angle += 360;\r\n        if (angle > 360)\r\n            angle -= 360;\r\n        if (angle < min) {\r\n            angle = min;\r\n        } else if (angle > max) {\r\n            angle = max;\r\n        }\r\n        return angle;\r\n    }\r\n\r\n    public static worldToScreenPoint(world_point: BABYLON.Vector3, scene: BABYLON.Scene, camera: BABYLON.TargetCamera, engine: BABYLON.Engine): BABYLON.Vector3 {\r\n        return BABYLON.Vector3.Project(\r\n            world_point,\r\n            BABYLON.Matrix.Identity(),\r\n            scene.getTransformMatrix(),\r\n            camera.viewport.toGlobal(\r\n                engine.getRenderWidth(),\r\n                engine.getRenderHeight(),\r\n            ),\r\n        );\r\n    }\r\n\r\n    public static lerpVector2(vec1: BABYLON.Vector2, vec2: BABYLON.Vector2, rate: number): BABYLON.Vector2 {\r\n        let res = BABYLON.Vector2.Zero();\r\n        if (rate < 0) rate = 0;\r\n        if (rate > 1) rate = 1;\r\n        res.x = vec1.x + rate * (vec2.x - vec1.x);\r\n        res.y = vec1.y + rate * (vec2.y - vec1.y);\r\n        return res;\r\n    }\r\n\r\n    public static lerpVector3(vec1: BABYLON.Vector3, vec2: BABYLON.Vector3, rate: number): BABYLON.Vector3 {\r\n        let res = BABYLON.Vector3.Zero();\r\n        if (rate < 0) rate = 0;\r\n        if (rate > 1) rate = 1;\r\n        res.x = vec1.x + rate * (vec2.x - vec1.x);\r\n        res.y = vec1.y + rate * (vec2.y - vec1.y);\r\n        res.z = vec1.z + rate * (vec2.z - vec1.z);\r\n        return res;\r\n    }\r\n\r\n    public static lerpVector4(vec1: BABYLON.Vector4, vec2: BABYLON.Vector4, rate: number): BABYLON.Vector4 {\r\n        let res = BABYLON.Vector4.Zero();\r\n        if (rate < 0) rate = 0;\r\n        if (rate > 1) rate = 1;\r\n        res.x = vec1.x + rate * (vec2.x - vec1.x);\r\n        res.y = vec1.y + rate * (vec2.y - vec1.y);\r\n        res.z = vec1.z + rate * (vec2.z - vec1.z);\r\n        res.w = vec1.w + rate * (vec2.w - vec1.w);\r\n        return res;\r\n    }\r\n\r\n\r\n    public static transformLocalToWorldDirection(node: BABYLON.Node, local_direction: BABYLON.Vector3): BABYLON.Vector3 {\r\n        if (node) {\r\n            let matrix: BABYLON.Matrix = node.computeWorldMatrix();\r\n            return BABYLON.Vector3.TransformCoordinates(local_direction, matrix).subtract((node as any).getAbsolutePosition());\r\n        } else {\r\n            return local_direction;\r\n        }\r\n    }\r\n}","import { VE_State } from \"../state/state\";\r\nimport { StateConst } from \"../state/stateConst\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VeryEngineObject } from \"../object\";\r\nimport { GameObject } from \"../babylon\";\r\n\r\nexport abstract class VE_TriggerBehaviour {\r\n\r\n  /**\r\n   * 触发类型ID，以此ID在表格中索引当前触发，ID可多对一，中间使用“|”分隔；\r\n   */\r\n  public abstract get ID(): string;\r\n\r\n  /**\r\n   * 当前触发完整类名；\r\n   */\r\n  public abstract get className(): string;\r\n\r\n  /**\r\n   * 当前触发所在场景；\r\n   */\r\n  public get scene(): BABYLON.Scene {\r\n    return this._scene;\r\n  }\r\n  public _scene!: BABYLON.Scene;\r\n\r\n  /**\r\n   * 当前脚本是否激活；\r\n   */\r\n  public get enabled(): boolean {\r\n    return this._enabled && this.isEnabled;\r\n  }\r\n  public set enabled(val: boolean) {\r\n    this._enabled = val;\r\n  }\r\n  private _enabled: boolean = true;\r\n\r\n  /**\r\n   * 触发所属工程名；\r\n   */\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  }\r\n  private _projectName: string = '';\r\n\r\n  /**\r\n   * 当前触发脚步是否允许被触发；\r\n   */\r\n  public get isEnabled(): boolean {\r\n    if (this._logicalSwitch) {\r\n      for (let i: number = 0; i < this._logicalSwitch.length; i++) {\r\n        if (this._logicalSwitch[i] && !this._logicalSwitch[i].evaluate()) {\r\n          return false;\r\n        }\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  // Logical\r\n  private _logicalSwitch: IExpression[] = [];\r\n  private _logicalExp: Nullable<IExpression>[] = [];\r\n  // State\r\n  private _triggerTargets: VE_State[] = [];\r\n\r\n  protected gameObject: Nullable<GameObject> = null;\r\n\r\n  /**\r\n   * 触发所属对象；\r\n   */\r\n  protected veryObject: Nullable<VeryEngineObject> = null;\r\n\r\n  /**\r\n   * 触发所属对象名；\r\n   */\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  }\r\n  private _objectID: string = 'object-axxx';\r\n\r\n  /**\r\n   * 当前触发名；\r\n   */\r\n  public get triggerID(): string {\r\n    return this._triggerID;\r\n  }\r\n  private _triggerID: string = '';\r\n\r\n  /**\r\n   * 当前：对象名.触发名；\r\n   */\r\n  public get unionID(): string {\r\n    return this._id;\r\n  }\r\n  private _id: string = '';\r\n\r\n  /**\r\n   * 设置触发所属场景；\r\n   * @param scene 当前场景；\r\n   */\r\n  public set(scene: BABYLON.Scene): void {\r\n    this._scene = scene;\r\n  }\r\n\r\n  public setTriggerID(project_name: string, trigger_id: string, object_id: string): void {\r\n    this._projectName = project_name;\r\n    this._triggerID = trigger_id;\r\n    this._objectID = object_id;\r\n    this._id = object_id + StateConst.STATE_SEPARATOR + trigger_id;\r\n  }\r\n\r\n  public addLogicalSwitch(exp: IExpression): void {\r\n    this._logicalSwitch.push(exp);\r\n  }\r\n\r\n  public addTriggerTarget(exp: Nullable<IExpression>, state: VE_State): void {\r\n    this._logicalExp.push(exp);\r\n    this._triggerTargets.push(state);\r\n  }\r\n\r\n  public setVeryObject(very_object: VeryEngineObject): void {\r\n    this.veryObject = very_object;\r\n    this.gameObject = very_object.gameObject;\r\n  }\r\n\r\n  /**\r\n   * 触发激活，在子触发类中调用该函数，激活触发；\r\n   */\r\n  public sendEvent(): void {\r\n    if(this.isEnabled) {\r\n      this.eventProcess();\r\n    }\r\n  }\r\n\r\n  // 关联具体响应\r\n  private eventProcess(): void {\r\n    if (this._triggerTargets) {\r\n      // console.log(`ID: ${this.triggerID} --- Count: ${this._triggerTargets.length}`);\r\n      for (let i: number = 0; i < this._triggerTargets.length; i++) {\r\n        if (this._logicalExp[i] === null || this._logicalExp[i]!.evaluate()) {\r\n          this._triggerTargets[i].action(this._id);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 触发参数解析；抽象函数，子触发必须覆盖；\r\n   * @param para_array 触发参数数组，忽略表格中第1个触发类型ID，以第2个参数开始；\r\n   */\r\n  public abstract paraParser(para_array: string[]): boolean;\r\n\r\n  /**\r\n   * 帧循环函数，类似Unity的Update函数，若有需要，可以在子触发中覆盖，子触发的update循环将不受 触发激活条件 参数控制；\r\n   */\r\n  public update(): void {\r\n    if (this.isEnabled) {\r\n      this.onUpdate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 帧循环函数，需在子触发中覆盖使用，受 触发激活条件 参数控制；\r\n   */\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  /**\r\n   * 如果创建过程中有异步callback获取其他创建的类，需要destroy时删除；抽象函数，子触发必须覆盖；\r\n   */\r\n  public abstract destroy(): void;\r\n\r\n\r\n}","import { VE_TriggerBehaviour } from \"./triggerBehaviour\";\r\nimport { VeryEngineObject, VE_Objects } from \"../object\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { GameGlobal, VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { BabylonEngine } from \"../babylon\";\r\nimport { Severity } from \"../enum\";\r\n\r\nexport class VE_Triggers {\r\n\r\n  // private static _triggerDics: { [key: string]: VE_TriggerBehaviour } = {};\r\n\r\n  private static _triggerFunctionDics: { [key: string]: Function } = {};\r\n\r\n  // public static addTrigger(trigger: VE_TriggerBehaviour): void {\r\n  //   // 平台只加载一次，避免重复加载\r\n  //   if (!GameGlobal.PlatformLoaded) {\r\n  //     let ids: string[] = trigger.ID.split('|');\r\n  //     for (let i: number = 0; i < ids.length; i++) {\r\n  //       let id: string = ids[i].trim().toLowerCase();\r\n  //       if (this._triggerDics[id]) {\r\n  //         ShowError.showError(`触发初始化错误，触发ID重复，当前触发ID：${id}，请为当前触发重新分配触发ID！`);\r\n  //       } else {\r\n  //         this._triggerDics[id] = trigger;\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  public static addTrigger(trigger_class: Function): void {\r\n    // 平台只加载一次，避免重复加载\r\n    if (!GameGlobal.PlatformLoaded) {\r\n      let tempTrigger: any = new trigger_class.prototype.constructor();\r\n      // console.log(`触发ID：  ${tempTrigger.ID}， 触发名： ${tempTrigger.className} `);\r\n      let ids: string[] = tempTrigger.ID.split('|');\r\n      for (let i: number = 0; i < ids.length; i++) {\r\n        let id: string = ids[i].trim().toLowerCase();\r\n        if (this._triggerFunctionDics[id]) {\r\n          VE_ErrorManager.Add(new VE_Error('', `触发初始化错误，触发ID重复，当前触发ID：${id}，重复触发：${tempTrigger.className}，请为当前触发重新分配触发ID！`, '', Severity.Error));\r\n        } else {\r\n          this._triggerFunctionDics[id] = trigger_class;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static hasTrigger(trigger_type: string): boolean {\r\n    trigger_type = trigger_type.toLowerCase();\r\n    if (this._triggerFunctionDics[trigger_type]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static createTrigger(very_object: VeryEngineObject, trigger_id: string, trigger_type: string, trigger_para: string[], error_info: ErrorInfo): Nullable<VE_TriggerBehaviour> {\r\n    trigger_type = trigger_type.toLowerCase();\r\n    // console.log(this._triggerFunctionDics[trigger_type]);\r\n    if (!this._triggerFunctionDics[trigger_type]) {\r\n      error_info.isRight = false;\r\n      error_info.message = `触发创建错误：当前触发类型在平台中不存在，请检查！触发类型：` + trigger_type;\r\n      return null;\r\n    }\r\n    let variable: any;\r\n    try {\r\n      // new方式创建触发，Object.create方式创建因为prototype的关系，引用变量是唯一的，所有创建的触发共享，不合适\r\n      variable = new this._triggerFunctionDics[trigger_type].prototype.constructor();\r\n\r\n      if (!variable) {\r\n        error_info.isRight = false;\r\n        error_info.message = `触发创建错误：当前触发创建失败，请检查！触发类型：` + trigger_type;\r\n        return null;\r\n      }\r\n\r\n      let trigger: VE_TriggerBehaviour = <VE_TriggerBehaviour>variable;\r\n      trigger.set(BabylonEngine.Scene);\r\n      trigger.setVeryObject(very_object);\r\n      trigger.setTriggerID(very_object.projectName, trigger_id, very_object.objectID);\r\n      if (!trigger.paraParser(trigger_para)) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"该触发创建失败，触发参数格式错误！\";\r\n        return null;\r\n      }\r\n      return trigger;\r\n    } catch (error) {\r\n      console.error(`触发创建错误：${error.message}`);\r\n      error_info.isRight = false;\r\n      error_info.message = '触发创建错误：当前触发类型创建失败，请检查！触发类型：' + trigger_type + '，错误原因：' + error.message;\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static remove(trigger_type: string): void {\r\n    trigger_type = trigger_type.toLowerCase();\r\n    delete this._triggerFunctionDics[trigger_type];\r\n  }\r\n\r\n  public static findTrigger(very_object: VeryEngineObject, trigger_id: string): Nullable<VE_TriggerBehaviour> {\r\n    if (very_object.isCreatedTrigger(trigger_id)) {\r\n      return very_object.getTrigger(trigger_id);\r\n    } else {\r\n      let triggerArray: string[] = trigger_id.split(StateConst.STATE_SEPARATOR);\r\n      if (triggerArray.length === 2) {\r\n        let objects: VE_Objects = VE_Manager.objects(very_object.projectName);\r\n        let objectID: string = triggerArray[0].trim();\r\n        let triggerID: string = triggerArray[1].trim();\r\n        if (objects.isCreated(objectID)) {\r\n          let otherObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n          if (otherObject.isCreatedTrigger(triggerID)) {\r\n            return otherObject.getTrigger(triggerID);\r\n          } else {\r\n            return null;\r\n          }\r\n        } else {\r\n          return null;\r\n        }\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  public static dispose(): void {\r\n    VE_Triggers._triggerFunctionDics = {};\r\n  }\r\n\r\n}","export class VE_CustomTriggerManager {\r\n\r\n  // 自定义触发，提取自定义触发函数 \r\n  private static _customTriggerStore: { [key: string]: { [key: string]: { [key: string]: () => void } } } = {};\r\n\r\n  //延迟响应，关联响应与自定义触发的入口\r\n  private static _delayAction: { [key: string]: { [key: string]: { [key: string]: ((callback: () => void) => void)[] } } } = {};\r\n\r\n  public static AddTriggerEvent(project_name: string, object_id: string, trigger_id: string, timer_event: () => void): void {\r\n    if (!this._customTriggerStore[project_name]) {\r\n      this._customTriggerStore[project_name] = {};\r\n    }\r\n    if (!this._customTriggerStore[project_name][object_id]) {\r\n      this._customTriggerStore[project_name][object_id] = {};\r\n    }\r\n    this._customTriggerStore[project_name][object_id][trigger_id] = timer_event;\r\n    // 延迟的响应与自定义触发连接\r\n    if (this._delayAction[project_name] && this._delayAction[project_name][object_id] && this._delayAction[project_name][object_id][trigger_id]) {\r\n      this._delayAction[project_name][object_id][trigger_id].forEach(value => {\r\n        value(timer_event);\r\n      });\r\n      delete this._delayAction[project_name][object_id][trigger_id];\r\n    }\r\n  }\r\n\r\n  // 先查找，若查找到，直接赋值，若查找不到，则加入delay数据结构\r\n  public static ConnectCustomTrigger(project_name: string, object_id: string, trigger_id: string, set_callback: (callback: () => void) => void): void {\r\n    if (this._customTriggerStore[project_name] && this._customTriggerStore[project_name][object_id] && this._customTriggerStore[project_name][object_id][trigger_id]) {\r\n      set_callback(this._customTriggerStore[project_name][object_id][trigger_id]);\r\n    } else {\r\n      if (!this._delayAction[project_name]) {\r\n        this._delayAction[project_name] = {};\r\n      }\r\n      if (!this._delayAction[project_name][object_id]) {\r\n        this._delayAction[project_name][object_id] = {};\r\n      }\r\n      if (!this._delayAction[project_name][object_id][trigger_id]) {\r\n        this._delayAction[project_name][object_id][trigger_id] = [set_callback];\r\n      } else {\r\n        this._delayAction[project_name][object_id][trigger_id].push(set_callback);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n}","import { ActionType, SequenceActionState } from \"../enum\";\r\nimport { GameObject } from \"../babylon\";\r\nimport { VeryEngineObject } from \"../object\";\r\nimport { VE_SequenceActions } from \"../state\";\r\n\r\nexport abstract class VE_ActionBehaviour {\r\n\r\n  /**\r\n   * 响应类型ID，以此ID在表格中索引当前响应，ID可多对一，中间使用“|”分隔；\r\n   */\r\n  public abstract get ID(): string;\r\n\r\n  /**\r\n   * 当前响应完整类名；\r\n   */\r\n  public abstract get className(): string;\r\n\r\n  /**\r\n   * 当前响应所在场景；\r\n   */\r\n  public get scene(): BABYLON.Scene {\r\n    return this._scene;\r\n  }\r\n  private _scene!: BABYLON.Scene;\r\n\r\n  /**\r\n   * 当前脚本是否激活；\r\n   */\r\n  public get enabled(): boolean {\r\n    return this._enabled;\r\n  }\r\n  public set enabled(val: boolean) {\r\n    this._enabled = val;\r\n  }\r\n  private _enabled: boolean = true;\r\n\r\n  /**\r\n   * 响应所属工程名；\r\n   */\r\n  public get projectName(): string {\r\n    return this._projectName;\r\n  };\r\n  private _projectName: string = '';\r\n\r\n  /**\r\n   * 响应所在GameObject；\r\n   */\r\n  protected gameObject: Nullable<GameObject> = null;\r\n\r\n  /**\r\n   * 响应所属对象；\r\n   */\r\n  protected veryObject: Nullable<VeryEngineObject> = null;\r\n\r\n  /**\r\n   * 响应所属对象名；\r\n   */\r\n  public get objectID(): string {\r\n    return this._objectID;\r\n  };\r\n  private _objectID: string = '';\r\n\r\n  /**\r\n   * 当前响应名；\r\n   */\r\n  public get actionID(): string {\r\n    return this._actionID;\r\n  }\r\n  private _actionID: string = '';\r\n\r\n  /**\r\n   * 响应类型，一般响应或者动画类型响应；\r\n   */\r\n  public get type(): ActionType {\r\n    return ActionType.Normal;\r\n  }\r\n\r\n  private _erveryFrame: boolean = false;\r\n  /**\r\n   * 响应是否每帧运行；\r\n   */\r\n  public get everyFrame(): boolean {\r\n    return this._erveryFrame;\r\n  }\r\n\r\n  /**\r\n   * 响应是否依次运行；\r\n   */\r\n  public isSequence: boolean = false;\r\n\r\n  /**\r\n   * 依次运行响应，当前状态；\r\n   */\r\n  public get SequenceState(): SequenceActionState {\r\n    return this._sequenceState;\r\n  }\r\n  public set SequenceState(val: SequenceActionState) {\r\n    this._sequenceState = val;\r\n  }\r\n  private _sequenceState: SequenceActionState = SequenceActionState.Initial;\r\n\r\n  private _sequenceAction: Nullable<VE_SequenceActions> = null;\r\n\r\n  /**\r\n   * 设置响应所属场景；\r\n   * @param scene 当前场景；\r\n   */\r\n  public set(scene: BABYLON.Scene): void {\r\n    this._scene = scene;\r\n  }\r\n\r\n  public setEveryFrame(is_every_frame: boolean): void {\r\n    this._erveryFrame = is_every_frame;\r\n  }\r\n\r\n  public setActionID(project_name: string, object_id: string, action_id: string): void {\r\n    this._projectName = project_name;\r\n    this._objectID = object_id;\r\n    this._actionID = action_id;\r\n  }\r\n\r\n  public setVeryObject(very_object: VeryEngineObject): void {\r\n    this.veryObject = very_object;\r\n    this.gameObject = very_object.gameObject;\r\n  }\r\n\r\n  /**\r\n   * 响应参数解析；抽象函数，子响应必须覆盖；\r\n   * @param para_array 响应参数数组，忽略表格中第1个响应类型ID，以第2个参数开始；\r\n   */\r\n  public abstract paraParser(para_array: string[]): boolean;\r\n\r\n  /**\r\n   * 启动或停止响应；注意：系统函数，勿在子响应类中覆盖；\r\n   * @param action_val 响应启动/停止；\r\n   * @param every_frame 响应是否每帧运行；\r\n   */\r\n  public action(action_val: boolean, every_frame: boolean): void {\r\n    this._enabled = action_val;\r\n    this._erveryFrame = every_frame;\r\n    if (this._enabled) {\r\n      this.active()\r\n      if (!this._erveryFrame) {\r\n        this.onUpdate();\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 依次运行响应控制；注意：系统函数，勿在子响应类中覆盖；\r\n   * @param sequence 依次运行响应控制类；\r\n   * @param action_val 响应启动/停止；\r\n   * @param every_frame 响应是否每帧运行；\r\n   */\r\n  public sequenceAction(sequence: VE_SequenceActions, action_val: boolean, every_frame: boolean): void {\r\n    this._sequenceAction = sequence;\r\n    this._sequenceState = SequenceActionState.Running;\r\n    this.action(action_val, every_frame);\r\n  }\r\n\r\n  /**\r\n   * 响应启动或停止；抽象函数，子响应必须覆盖；\r\n   */\r\n  public abstract active(): void;\r\n\r\n  /**\r\n   * 帧循环函数，类似Unity的Update函数，若有需要，可以在子响应中覆盖，子响应的update循环将不受everyFrame每帧运行参数控制；\r\n   */\r\n  public update(): void {\r\n    if (this._enabled && this._erveryFrame) {\r\n      this.onUpdate();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 帧循环函数，需在子响应中覆盖使用，受everyFrame每帧运行参数控制；\r\n   */\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  /**\r\n   * 依次运行响应控制，暂停；\r\n   */\r\n  public pause(): void {\r\n    this._sequenceState = SequenceActionState.Pause;\r\n  }\r\n\r\n  /**\r\n   * 依次运行响应控制，恢复运行；\r\n   */\r\n  public resume(): void {\r\n    this._sequenceState = SequenceActionState.Running;\r\n  }\r\n\r\n  /**\r\n   * 依次运行响应控制，停止；\r\n   */\r\n  public stop(): void {\r\n    this._sequenceState = SequenceActionState.Initial;\r\n  }\r\n\r\n  /**\r\n   * 依次运行响应控制，结束运行；\r\n   */\r\n  public finish(): void {\r\n    this._sequenceState = SequenceActionState.Initial;\r\n    if (this._sequenceAction !== null) {\r\n      this._sequenceAction.finishAction(this);\r\n      this._sequenceAction = null;\r\n    }\r\n    this.enabled = false;\r\n  }\r\n\r\n  /**\r\n   * 如果创建过程中有异步callback获取其他创建的类，需要destroy时删除；抽象函数，子响应必须覆盖；\r\n   */\r\n  public abstract destroy(): void;\r\n\r\n\r\n}","import { VE_State } from \"../state\";\r\nimport { AssignType } from \"../enum\";\r\nimport { IVeryVar } from \"../variables\";\r\nimport { VE_Template } from \"../template\";\r\nimport { ShowError } from \"../html\";\r\nimport { ErrorInfo } from \"../utility\";\r\nimport { IExpression } from \"../expression\";\r\nimport { VE_AssignmentTypeJudge } from \"./assignmentTypeJudge\";\r\n\r\nexport class VE_Assignment {\r\n\r\n  public get state(): VE_State {\r\n    return this._state;\r\n  }\r\n  private _state: VE_State;\r\n\r\n  private _totalStr: string = '';\r\n\r\n  public get leftType(): AssignType {\r\n    return this._leftType;\r\n  }\r\n  private _leftType: AssignType = AssignType.Variable;\r\n\r\n  public get rightType(): AssignType {\r\n    return this._rightType;\r\n  }\r\n  private _rightType: AssignType = AssignType.Variable;\r\n\r\n  public get leftVariable(): Nullable<IVeryVar> {\r\n    return this._leftVariable;\r\n  }\r\n  private _leftVariable: Nullable<IVeryVar> = null;\r\n  private _leftTemplate: Nullable<VE_Template> = null;\r\n  private _leftVarID: string = '';\r\n\r\n  private _rightConstStr: string = '';\r\n  private _rightConstValue: any = null;\r\n  public get rightVariable(): Nullable<IVeryVar> {\r\n    return this._leftVariable;\r\n  }\r\n  private _rightVariable: Nullable<IVeryVar> = null;\r\n  private _rightTemplate: Nullable<VE_Template> = null;\r\n  private _rightVarID: string = '';\r\n\r\n  private _pos: string = '';\r\n\r\n  constructor(state: VE_State, total_string: string) {\r\n    this._state = state;\r\n    this._totalStr = total_string;\r\n  }\r\n\r\n  public setPos(pos: string): void {\r\n    this._pos = pos;\r\n  }\r\n\r\n  public setLeftVariable(variable: IVeryVar): void {\r\n    this._leftType = AssignType.Variable;\r\n    this._leftVariable = variable;\r\n  }\r\n\r\n  public setLeftTemplate(template: VE_Template): void {\r\n    this._leftType = AssignType.Template;\r\n    this._leftTemplate = template;\r\n  }\r\n\r\n  public setLeftTemplateVar(template: VE_Template, var_id: string): void {\r\n    this._leftType = AssignType.TemplateVariable;\r\n    this._leftTemplate = template;\r\n    this._leftVarID = var_id;\r\n  }\r\n\r\n  public setRightVariable(variable: IVeryVar): void {\r\n    this._rightType = AssignType.Variable;\r\n    this._rightVariable = variable;\r\n  }\r\n\r\n  public setRightTemplate(template: VE_Template): void {\r\n    this._rightType = AssignType.Template;\r\n    this._rightTemplate = template;\r\n  }\r\n\r\n  public setRightNull(): void {\r\n    this._rightType = AssignType.Template;\r\n    this._rightTemplate = null;\r\n  }\r\n\r\n  public setRightTemplateVariable(template: VE_Template, var_id: string): void {\r\n    this._rightType = AssignType.TemplateVariable;\r\n    this._rightTemplate = template;\r\n    this._rightVarID = var_id;\r\n  }\r\n\r\n  public setRightConst(const_str: string): void {\r\n    this._rightType = AssignType.Const;\r\n    this._rightConstStr = const_str;\r\n  }\r\n\r\n  public setRightConstValue(const_value: any) {\r\n    this._rightType = AssignType.Const;\r\n    this._rightConstValue = const_value;\r\n  }\r\n\r\n  public finish(): void {\r\n\r\n  }\r\n\r\n  public assign(): void {\r\n    // 变量\r\n    if (this._leftType === AssignType.Variable) {\r\n      this.rightAssignment();\r\n    }\r\n    // 模板变量\r\n    else if (this._leftType === AssignType.Template) {\r\n      if (this._rightTemplate == null) {\r\n        if (this._leftTemplate !== null) {\r\n          this._leftTemplate.unload();\r\n        }\r\n      }\r\n      else {\r\n        this._leftTemplate = this._rightTemplate;\r\n      }\r\n    }\r\n    // 模板变量.变量\r\n    else {\r\n      if (this._leftTemplate!.templateInstance !== null) {\r\n        if (this._leftTemplate!.templateInstance.isCreatedExpression(this._leftVarID)) {\r\n          ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：左侧变量不能为“公式”，\" + this._rightTemplate!.templateVarID);\r\n          return;\r\n        }\r\n        else if (this._leftTemplate!.templateInstance.isCreatedVariable(this._leftVarID)) {\r\n          this._leftVariable = this._leftTemplate!.templateInstance.getVariable(this._leftVarID);\r\n          this.rightAssignment();\r\n        }\r\n        else if (this._leftTemplate!.templateInstance.isCreatedFsm(this._leftVarID)) {\r\n          this._leftVariable = this._leftTemplate!.templateInstance.getFsm(this._leftVarID).fsmVar;\r\n          this.rightAssignment();\r\n        }\r\n        else {\r\n          ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：左侧无法被查找到，\" + this._rightTemplate!.templateVarID);\r\n          return;\r\n        }\r\n      }\r\n      else {\r\n        ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：左侧模板变量未实例化，\" + this._leftTemplate!.templateVarID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  private rightAssignment(): void {\r\n    // 变量\r\n    if (this._rightType === AssignType.Variable) {\r\n      this._leftVariable!.setValue(this._rightVariable!.getValue());\r\n    }\r\n    // 常量\r\n    else if (this._rightType === AssignType.Const) {\r\n      if (this._rightConstValue === null) {\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        this._rightConstValue = this._leftVariable!.initValue(this._rightConstStr, errorInfo);\r\n        if (!errorInfo.isRight) {\r\n          ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：右侧常量转化错误，\" + this._rightConstStr);\r\n          return;\r\n        }\r\n        else {\r\n          //UnityEngine.Debug.Log(\"赋值响应1 - \" + _totalStr + \"：\" + this._rightConstValue);\r\n          this._leftVariable!.setValue(this._rightConstValue);\r\n        }\r\n      }\r\n      else {\r\n        //UnityEngine.Debug.Log(\"赋值响应2 - \" + _totalStr + \"：\" + this._rightConstValue);\r\n        this._leftVariable!.setValue(this._rightConstValue);\r\n      }\r\n    }\r\n    else  //模板变量.变量\r\n    {\r\n      if (this._rightTemplate!.templateInstance != null) {\r\n        if (this._rightTemplate!.templateInstance.isCreatedExpression(this._rightVarID)) {\r\n          let exp: IExpression = this._rightTemplate!.templateInstance.getExpression(this._rightVarID);\r\n          if (VE_AssignmentTypeJudge.allowExpression(this._leftVariable!, exp)) {\r\n            this._leftVariable!.setValue(exp.evaluate());\r\n          }\r\n          else {\r\n            ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：左侧和右侧数据格式不匹配，不能完成赋值，\" + this._rightTemplate!.templateVarID);\r\n            return;\r\n          }\r\n        }\r\n        else if (this._rightTemplate!.templateInstance.isCreatedVariable(this._rightVarID)) {\r\n          let v: IVeryVar = this._rightTemplate!.templateInstance.getVariable(this._rightVarID);\r\n          if (VE_AssignmentTypeJudge.allow(this._leftVariable!, v)) {\r\n            this._leftVariable!.setValue(v.getValue());\r\n          }\r\n          else {\r\n            ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：左侧和右侧数据格式不匹配，不能完成赋值，\" + this._rightTemplate!.templateVarID);\r\n            return;\r\n          }\r\n        }\r\n        else if (this._rightTemplate!.templateInstance.isCreatedFsm(this._rightVarID)) {\r\n          let v: IVeryVar = this._rightTemplate!.templateInstance.getFsm(this._rightVarID).fsmVar;\r\n          if (VE_AssignmentTypeJudge.allow(this._leftVariable!, v)) {\r\n            this._leftVariable!.setValue(v.getValue());\r\n          }\r\n          else {\r\n            ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：左侧和右侧数据格式不匹配，不能完成赋值，\" + this._rightTemplate!.templateVarID);\r\n            return;\r\n          }\r\n        }\r\n        else {\r\n          ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：无法获取右侧变量，不能完成赋值，\" + this._rightTemplate!.templateVarID);\r\n          return;\r\n        }\r\n      }\r\n      else {\r\n        ShowError.showError('位置：' + this._pos + \"，项目名：\" + this.state.Fsm.projectName + \"，对象名：\" + this.state.Fsm.objectID + \"，状态名：\" + this.state.Fsm.fsmID + \"，赋值响应：\" + this._totalStr + \"，错误：右侧模板变量未实例化，\" + this._rightTemplate!.templateVarID);\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n}","import { VE_ActionBehaviour } from \"./actionBehaviour\";\r\nimport { VeryEngineObject, VE_Objects } from \"../object\";\r\nimport { StateConst } from \"../state\";\r\nimport { VE_Manager } from \"../manager\";\r\nimport { GameGlobal, VE_ErrorManager, VE_Error } from \"../global\";\r\nimport { ErrorInfo, VE_TypeConvert } from \"../utility\";\r\nimport { BabylonEngine } from \"../babylon\";\r\nimport { Severity } from \"../enum\";\r\n\r\nexport class VE_Actions {\r\n\r\n  // private static _actionDics: { [key: string]: VE_ActionBehaviour } = {};\r\n\r\n  private static _actionFunctionDics: { [key: string]: Function } = {};\r\n\r\n  // public static addAction(action: VE_ActionBehaviour): void {\r\n  //   // 平台只加载一次，避免重复加载\r\n  //   if (!GameGlobal.PlatformLoaded) {\r\n  //     let ids: string[] = action.ID.split('|');\r\n  //     for (let i: number = 0; i < ids.length; i++) {\r\n  //       let id: string = ids[i].trim().toLowerCase();\r\n  //       if (this._actionDics[id]) {\r\n  //         ShowError.showError(`响应初始化错误，响应ID重复，当前响应ID：${id}，请为当前响应重新分配响应ID！`);\r\n  //       } else {\r\n  //         this._actionDics[id] = action;\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // }\r\n\r\n  public static addAction(action_class: Function): void {\r\n    // 平台只加载一次，避免重复加载\r\n    if (!GameGlobal.PlatformLoaded) {\r\n      let tempAction: any = new action_class.prototype.constructor();\r\n      // console.log(`响应ID：  ${tempAction.ID}， 响应名： ${tempAction.className} `);\r\n      let ids: string[] = tempAction.ID.split('|');\r\n      for (let i: number = 0; i < ids.length; i++) {\r\n        let id: string = ids[i].trim().toLowerCase();\r\n        if (this._actionFunctionDics[id]) {\r\n          VE_ErrorManager.Add(new VE_Error('', `响应初始化错误，响应ID重复，当前响应ID：${id}，重复响应：${tempAction.className}，请为当前响应重新分配响应ID！`, '', Severity.Error));\r\n        } else {\r\n          this._actionFunctionDics[id] = action_class;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public static hasAction(action_id: string): boolean {\r\n    action_id = action_id.toLowerCase();\r\n    if (this._actionFunctionDics[action_id]) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public static createAction(very_object: VeryEngineObject, action_id: string, action_type: string, action_para: string[], init_val: string[], error_info: ErrorInfo): Nullable<VE_ActionBehaviour> {\r\n    action_type = action_type.toLowerCase();\r\n    if (!this._actionFunctionDics[action_type]) {\r\n      error_info.isRight = false;\r\n      error_info.message = `响应创建错误：当前响应类型在平台中不存在，请检查！响应类型：` + action_type;\r\n      return null;\r\n    }\r\n    // console.log(this._actionFunctionDics[action_type]);\r\n    let variable: any;\r\n    try {\r\n      // variable = Object.create(this._actionDics[action_type]);\r\n      // new方式创建响应，Object.create方式创建因为prototype的关系，引用变量是唯一的，所有创建的响应共享，不合适\r\n      variable = new this._actionFunctionDics[action_type].prototype.constructor();\r\n      if (!variable) {\r\n        error_info.isRight = false;\r\n        error_info.message = '响应创建错误：当前响应创建失败，请检查！响应类型：' + action_type;\r\n        return null;\r\n      }\r\n\r\n      let action: VE_ActionBehaviour = <VE_ActionBehaviour>variable;\r\n      action.set(BabylonEngine.Scene);\r\n      action.setVeryObject(very_object);\r\n      action.setActionID(very_object.projectName, very_object.objectID, action_id);\r\n      if (!action.paraParser(action_para)) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"该响应创建失败，响应参数格式错误！\";\r\n        return null;\r\n      }\r\n      // TODO:响应初始化\r\n      error_info.clear();\r\n      let everyFrameFlag = VE_TypeConvert.boolConvert(init_val[1], error_info);\r\n      if(!error_info.isRight) {\r\n        error_info.isRight = false;\r\n        error_info.message = \"该响应创建失败，响应每帧运行参数目前只允许填写bool常量true或者false，不允许填写变量！\";\r\n        return null;\r\n      }\r\n      action.setEveryFrame(everyFrameFlag);\r\n      action.enabled = false;\r\n      return action;\r\n    } catch (error) {\r\n      console.error(`响应创建错误：${error.message}`);\r\n      error_info.isRight = false;\r\n      error_info.message = '响应创建错误：当前响应类型创建失败，请检查！响应类型：' + action_type + '，错误原因：' + error.message;\r\n      return null;\r\n    }\r\n  }\r\n\r\n  public static remove(action_type: string): void {\r\n    action_type = action_type.toLowerCase();\r\n    delete this._actionFunctionDics[action_type];\r\n  }\r\n\r\n  public static findAction(very_object: VeryEngineObject, action_id: string): Nullable<VE_ActionBehaviour> {\r\n    if (very_object.isCreatedAction(action_id)) {\r\n      return very_object.getAction(action_id);\r\n    }\r\n    else {\r\n      let actionArray: string[] = action_id.split(StateConst.STATE_SEPARATOR);\r\n      if (actionArray.length === 2) {\r\n        let objects: VE_Objects = VE_Manager.objects(very_object.projectName);\r\n        let objectID: string = actionArray[0].trim();\r\n        let actionID: string = actionArray[1].trim();\r\n        if (objects.isCreated(objectID)) {\r\n          let otherObject: VeryEngineObject = objects.getVeryObject(objectID);\r\n          if (otherObject.isCreatedAction(actionID)) {\r\n            return otherObject.getAction(actionID);\r\n          }\r\n          else {\r\n            return null;\r\n          }\r\n        }\r\n        else {\r\n          return null;\r\n        }\r\n      }\r\n      else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public static dispose(): void {\r\n    VE_Actions._actionFunctionDics = {};\r\n  }\r\n}","export * from './loaderManager';\r\nexport * from './createInstance';","export * from './action-transform';\r\nexport * from './action-debug';\r\nexport * from './action-vector3';\r\nexport * from './action-template';\r\nexport * from './action_time';\r\nexport * from './action-math';\r\nexport * from './action-string';\r\nexport * from './action-gameobject';\r\nexport * from './action-convert';\r\nexport * from './action-application';\r\nexport * from './action-gui';\r\nexport * from './action-camera';\r\nexport * from './action-light';\r\nexport * from './action-input';\r\nexport * from './action-rect';\r\nexport * from './action-mesh';\r\nexport * from './action-material';\r\nexport * from './action-audio';\r\nexport * from './action-video';\r\nexport * from './action-skybox';\r\n\r\nexport * from './action-focus-camera';","import { VE_ActionBehaviour, VE_Actions } from '../../action';\r\nimport { VeryGameObject, VeryBool, VeryVector3, VeryNumber } from '../../variables';\r\nimport { Time, Transform, GameObject } from '../../babylon';\r\nimport { ParaParserUtility, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\n\r\nexport class Action_SetPosition extends VE_ActionBehaviour {\r\n\r\n\r\n  public get ID(): string {\r\n    return 'Set_Position|设置位置';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_SetPosition';\r\n  }\r\n\r\n\r\n  private _posvalue: VeryNumber = new VeryNumber();\r\n  private _posVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _space: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  private _isVec: boolean = false;\r\n  private _x: VeryNumber = new VeryNumber();\r\n  private _y: VeryNumber = new VeryNumber();\r\n  private _z: VeryNumber = new VeryNumber();\r\n\r\n  private _axis: number = 0;\r\n\r\n  private _trans: VeryGameObject = new VeryGameObject();\r\n  private _ref: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._trans !== null && this._trans.value !== null) {\r\n      if (this._space === BABYLON.Space.LOCAL) {\r\n        if (this._axis === 0) {\r\n          this._trans.value.transform.localPosition = new BABYLON.Vector3(this._posvalue.value, this._trans.value.transform.localPosition.y, this._trans.value.transform.localPosition.z);\r\n        }\r\n        else if (this._axis === 1) {\r\n          this._trans.value.transform.localPosition = new BABYLON.Vector3(this._trans.value.transform.localPosition.x, this._posvalue.value, this._trans.value.transform.localPosition.z);\r\n        }\r\n        else if (this._axis === 2) {\r\n          this._trans.value.transform.localPosition = new BABYLON.Vector3(this._trans.value.transform.localPosition.x, this._trans.value.transform.localPosition.y, this._posvalue.value);\r\n        }\r\n        else {\r\n          if (this._isVec) {\r\n            this._trans.value.transform.localPosition = this._posVec.value;\r\n          }\r\n          else {\r\n            this._trans.value.transform.localPosition = new BABYLON.Vector3(this._x.value, this._y.value, this._z.value);\r\n          }\r\n        }\r\n      }\r\n      else if (this._space === BABYLON.Space.WORLD) {\r\n        if (this._axis === 0) {\r\n          this._trans.value.transform.position = new BABYLON.Vector3(this._posvalue.value, this._trans.value.transform.position.y, this._trans.value.transform.position.z);\r\n        }\r\n        else if (this._axis === 1) {\r\n          this._trans.value.transform.position = new BABYLON.Vector3(this._trans.value.transform.position.x, this._posvalue.value, this._trans.value.transform.position.z);\r\n        }\r\n        else if (this._axis === 2) {\r\n          this._trans.value.transform.position = new BABYLON.Vector3(this._trans.value.transform.position.x, this._trans.value.transform.position.y, this._posvalue.value);\r\n        }\r\n        else {\r\n          if (this._isVec) {\r\n            this._trans.value.transform.position = this._posVec.value;\r\n          }\r\n          else {\r\n            this._trans.value.transform.position = new BABYLON.Vector3(this._x.value, this._y.value, this._z.value);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        if (this._ref.value !== null) {\r\n          let oriFather: Nullable<Transform> = this._trans.value.transform.parent;\r\n          this._trans.value.transform.parent = this._ref.value.transform;\r\n          if (this._axis === 0)  //X轴\r\n          {\r\n            this._trans.value.transform.localPosition = new BABYLON.Vector3(this._posvalue.value, this._trans.value.transform.localPosition.y, this._trans.value.transform.localPosition.z);\r\n          }\r\n          else if (this._axis === 1)  //Y轴\r\n          {\r\n            this._trans.value.transform.localPosition = new BABYLON.Vector3(this._trans.value.transform.localPosition.x, this._posvalue.value, this._trans.value.transform.localPosition.z);\r\n          }\r\n          else if (this._axis === 2)  //Z轴\r\n          {\r\n            this._trans.value.transform.localPosition = new BABYLON.Vector3(this._trans.value.transform.localPosition.x, this._trans.value.transform.localPosition.y, this._posvalue.value);\r\n          }\r\n          else {\r\n            if (this._isVec) {\r\n              this._trans.value.transform.localPosition = this._posVec.value;\r\n            }\r\n            else {\r\n              this._trans.value.transform.localPosition = new BABYLON.Vector3(this._x.value, this._y.value, this._z.value);\r\n            }\r\n          }\r\n          this._trans.value.transform.parent = oriFather;\r\n        }\r\n        else {\r\n          console.warn(this.ID + \" 响应，参考物体为空，请检查！\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：要设置的物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._trans = para1.gameObject;\r\n\r\n      // 参数2：参考坐标或参考物体\r\n      // 相对和世界坐标确定\r\n      if (para_array[1].toLowerCase() === \"self\" || para_array[1] === \"自身\") {\r\n        this._space = BABYLON.Space.LOCAL;\r\n      }\r\n      else if (para_array[1].toLowerCase() === \"world\" || para_array[1] === \"世界\") {\r\n        this._space = BABYLON.Space.WORLD;\r\n      }\r\n      else {\r\n        this._space = BABYLON.Space.BONE;\r\n        let para2: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._ref = para2.gameObject;\r\n        if (this._ref.value === null) {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 参考物体： \" + para_array[1] + \"，该参考物体在场景中无法找到！\", '', Severity.Error));\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // 参数3：设置目标\r\n      if (para_array[2].toLowerCase() === \"x\") {\r\n        this._axis = 0;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"y\") {\r\n        this._axis = 1;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"z\") {\r\n        this._axis = 2;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"vector3\") {\r\n        this._axis = 3;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为：\" + para_array[2] + \"，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数4：位置坐标\r\n      if (this._axis === 3) {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._isVec = para4.isVec;\r\n        this._posVec = para4.vector3;\r\n        this._x = para4.vecNumbers[0];\r\n        this._y = para4.vecNumbers[1];\r\n        this._z = para4.vecNumbers[2];\r\n      }\r\n      else {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._posvalue = para4.number;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_GetPosition extends VE_ActionBehaviour {\r\n\r\n\r\n  public get ID(): string {\r\n    return 'GetPosition|获取位置';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_GetPosition';\r\n  }\r\n\r\n  private _posvalue: VeryNumber = new VeryNumber();\r\n  private _posVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _space: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  private _isVec: boolean = false;\r\n  private _x: VeryNumber = new VeryNumber();\r\n  private _y: VeryNumber = new VeryNumber();\r\n  private _z: VeryNumber = new VeryNumber();\r\n\r\n  private _axis: number = 0;\r\n\r\n  private _trans: VeryGameObject = new VeryGameObject();\r\n  private _ref: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._trans !== null && this._trans.value !== null) {\r\n      if (this._space === BABYLON.Space.LOCAL) {\r\n        if (this._axis == 0) {\r\n          this._posvalue.value = this._trans.value.transform.localPosition.x;\r\n        }\r\n        else if (this._axis == 1) {\r\n          this._posvalue.value = this._trans.value.transform.localPosition.y;\r\n        }\r\n        else if (this._axis == 2) {\r\n          this._posvalue.value = this._trans.value.transform.localPosition.z;\r\n        }\r\n        else {\r\n          this._posVec.value = this._trans.value.transform.localPosition;\r\n        }\r\n      }\r\n      else if (this._space === BABYLON.Space.WORLD) {\r\n        if (this._axis == 0) {\r\n          this._posvalue.value = this._trans.value.transform.position.x;\r\n        }\r\n        else if (this._axis == 1) {\r\n          this._posvalue.value = this._trans.value.transform.position.y;\r\n        }\r\n        else if (this._axis == 2) {\r\n          this._posvalue.value = this._trans.value.transform.position.z;\r\n        }\r\n        else {\r\n          this._posVec.value = this._trans.value.transform.position;\r\n        }\r\n      }\r\n      else {\r\n        if (this._ref.value !== null) {\r\n          let oriFather: Nullable<Transform> = this._trans.value.transform.parent;\r\n          this._trans.value.transform.parent = this._ref.value.transform;\r\n          if (this._axis == 0) {\r\n            this._posvalue.value = this._trans.value.transform.localPosition.x;\r\n          }\r\n          else if (this._axis == 1) {\r\n            this._posvalue.value = this._trans.value.transform.localPosition.y;\r\n          }\r\n          else if (this._axis == 2) {\r\n            this._posvalue.value = this._trans.value.transform.localPosition.z;\r\n          }\r\n          else {\r\n            this._posVec.value = this._trans.value.transform.localPosition;\r\n          }\r\n          this._trans.value.transform.parent = oriFather;\r\n        }\r\n        else {\r\n          console.warn(this.ID + \" 响应，参考物体为空，请检查！\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：要设置的物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._trans = para1.gameObject;\r\n\r\n      // 参数2：参考坐标或参考物体\r\n      // 相对和世界坐标确定\r\n      if (para_array[1].toLowerCase() === \"self\" || para_array[1] === \"自身\") {\r\n        this._space = BABYLON.Space.LOCAL;\r\n      }\r\n      else if (para_array[1].toLowerCase() === \"world\" || para_array[1] === \"世界\") {\r\n        this._space = BABYLON.Space.WORLD;\r\n      }\r\n      else {\r\n        this._space = BABYLON.Space.BONE;\r\n        let para2: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._ref = para2.gameObject;\r\n        if (this._ref.value === null) {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 参考物体： \" + para_array[1] + \"，该参考物体在场景中无法找到！\", '', Severity.Error));\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // 参数3：设置目标\r\n      if (para_array[2].toLowerCase() === \"x\") {\r\n        this._axis = 0;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"y\") {\r\n        this._axis = 1;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"z\") {\r\n        this._axis = 2;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"vector3\") {\r\n        this._axis = 3;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为：\" + para_array[2] + \"，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数4：位置坐标\r\n      if (this._axis === 3) {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._posVec = para4.vector3;\r\n      }\r\n      else {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._posvalue = para4.number;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_GetAngle extends VE_ActionBehaviour {\r\n\r\n\r\n  public get ID(): string {\r\n    return 'GetAngle|获取角度';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_GetAngle';\r\n  }\r\n\r\n  private _posvalue: VeryNumber = new VeryNumber();\r\n  private _posVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _space: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  private _isVec: boolean = false;\r\n  private _x: VeryNumber = new VeryNumber();\r\n  private _y: VeryNumber = new VeryNumber();\r\n  private _z: VeryNumber = new VeryNumber();\r\n\r\n  private _axis: number = 0;\r\n\r\n  private _trans: VeryGameObject = new VeryGameObject();\r\n  private _ref: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._trans !== null && this._trans.value !== null) {\r\n      if (this._space === BABYLON.Space.LOCAL) {\r\n        if (this._axis == 0) {\r\n          this._posvalue.value = this._trans.value.transform.localEulerAngles.x;\r\n        }\r\n        else if (this._axis == 1) {\r\n          this._posvalue.value = this._trans.value.transform.localEulerAngles.y;\r\n        }\r\n        else if (this._axis == 2) {\r\n          this._posvalue.value = this._trans.value.transform.localEulerAngles.z;\r\n        }\r\n        else {\r\n          this._posVec.value = this._trans.value.transform.localEulerAngles;\r\n        }\r\n      }\r\n      else if (this._space === BABYLON.Space.WORLD) {\r\n        if (this._axis == 0) {\r\n          this._posvalue.value = this._trans.value.transform.eulerAngles.x;\r\n        }\r\n        else if (this._axis == 1) {\r\n          this._posvalue.value = this._trans.value.transform.eulerAngles.y;\r\n        }\r\n        else if (this._axis == 2) {\r\n          this._posvalue.value = this._trans.value.transform.eulerAngles.z;\r\n        }\r\n        else {\r\n          this._posVec.value = this._trans.value.transform.eulerAngles;\r\n        }\r\n      }\r\n      else {\r\n        if (this._ref.value !== null) {\r\n          let oriFather: Nullable<Transform> = this._trans.value.transform.parent;\r\n          this._trans.value.transform.parent = this._ref.value.transform;\r\n          if (this._axis == 0) {\r\n            this._posvalue.value = this._trans.value.transform.localEulerAngles.x;\r\n          }\r\n          else if (this._axis == 1) {\r\n            this._posvalue.value = this._trans.value.transform.localEulerAngles.y;\r\n          }\r\n          else if (this._axis == 2) {\r\n            this._posvalue.value = this._trans.value.transform.localEulerAngles.z;\r\n          }\r\n          else {\r\n            this._posVec.value = this._trans.value.transform.localEulerAngles;\r\n          }\r\n          this._trans.value.transform.parent = oriFather;\r\n        }\r\n        else {\r\n          console.warn(this.ID + \" 响应，参考物体为空，请检查！\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：要设置的物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._trans = para1.gameObject;\r\n\r\n      // 参数2：参考坐标或参考物体\r\n      // 相对和世界坐标确定\r\n      if (para_array[1].toLowerCase() === \"self\" || para_array[1] === \"自身\") {\r\n        this._space = BABYLON.Space.LOCAL;\r\n      }\r\n      else if (para_array[1].toLowerCase() === \"world\" || para_array[1] === \"世界\") {\r\n        this._space = BABYLON.Space.WORLD;\r\n      }\r\n      else {\r\n        this._space = BABYLON.Space.BONE;\r\n        let para2: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._ref = para2.gameObject;\r\n        if (this._ref.value === null) {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 参考物体： \" + para_array[1] + \"，该参考物体在场景中无法找到！\", '', Severity.Error));\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // 参数3：设置目标\r\n      if (para_array[2].toLowerCase() === \"x\") {\r\n        this._axis = 0;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"y\") {\r\n        this._axis = 1;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"z\") {\r\n        this._axis = 2;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"vector3\") {\r\n        this._axis = 3;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为：\" + para_array[2] + \"，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数4：位置坐标\r\n      if (this._axis === 3) {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._posVec = para4.vector3;\r\n      }\r\n      else {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._posvalue = para4.number;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_SetAngle extends VE_ActionBehaviour {\r\n\r\n\r\n  public get ID(): string {\r\n    return 'SetAngle|设置角度';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_SetAngle';\r\n  }\r\n\r\n\r\n  private _posvalue: VeryNumber = new VeryNumber();\r\n  private _posVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _space: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  private _isVec: boolean = false;\r\n  private _x: VeryNumber = new VeryNumber();\r\n  private _y: VeryNumber = new VeryNumber();\r\n  private _z: VeryNumber = new VeryNumber();\r\n\r\n  private _axis: number = 0;\r\n\r\n  private _trans: VeryGameObject = new VeryGameObject();\r\n  private _ref: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._trans !== null && this._trans.value !== null) {\r\n      if (this._space === BABYLON.Space.LOCAL) {\r\n        if (this._axis === 0) {\r\n          this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._posvalue.value, this._trans.value.transform.localEulerAngles.y, this._trans.value.transform.localEulerAngles.z);\r\n        }\r\n        else if (this._axis === 1) {\r\n          this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x, this._posvalue.value, this._trans.value.transform.localEulerAngles.z);\r\n        }\r\n        else if (this._axis === 2) {\r\n          this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x, this._trans.value.transform.localEulerAngles.y, this._posvalue.value);\r\n        }\r\n        else {\r\n          if (this._isVec) {\r\n            this._trans.value.transform.localEulerAngles = this._posVec.value;\r\n          }\r\n          else {\r\n            this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._x.value, this._y.value, this._z.value);\r\n          }\r\n        }\r\n      }\r\n      else if (this._space === BABYLON.Space.WORLD) {\r\n        if (this._axis === 0) {\r\n          this._trans.value.transform.eulerAngles = new BABYLON.Vector3(this._posvalue.value, this._trans.value.transform.eulerAngles.y, this._trans.value.transform.eulerAngles.z);\r\n        }\r\n        else if (this._axis === 1) {\r\n          this._trans.value.transform.eulerAngles = new BABYLON.Vector3(this._trans.value.transform.eulerAngles.x, this._posvalue.value, this._trans.value.transform.eulerAngles.z);\r\n        }\r\n        else if (this._axis === 2) {\r\n          this._trans.value.transform.eulerAngles = new BABYLON.Vector3(this._trans.value.transform.eulerAngles.x, this._trans.value.transform.eulerAngles.y, this._posvalue.value);\r\n        }\r\n        else {\r\n          if (this._isVec) {\r\n            this._trans.value.transform.eulerAngles = this._posVec.value;\r\n          }\r\n          else {\r\n            this._trans.value.transform.eulerAngles = new BABYLON.Vector3(this._x.value, this._y.value, this._z.value);\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        if (this._ref.value !== null) {\r\n          let oriFather: Nullable<Transform> = this._trans.value.transform.parent;\r\n          this._trans.value.transform.parent = this._ref.value.transform;\r\n          if (this._axis === 0)  //X轴\r\n          {\r\n            this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._posvalue.value, this._trans.value.transform.localEulerAngles.y, this._trans.value.transform.localEulerAngles.z);\r\n          }\r\n          else if (this._axis === 1)  //Y轴\r\n          {\r\n            this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x, this._posvalue.value, this._trans.value.transform.localEulerAngles.z);\r\n          }\r\n          else if (this._axis === 2)  //Z轴\r\n          {\r\n            this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._trans.value.transform.localEulerAngles.x, this._trans.value.transform.localEulerAngles.y, this._posvalue.value);\r\n          }\r\n          else {\r\n            if (this._isVec) {\r\n              this._trans.value.transform.localEulerAngles = this._posVec.value;\r\n            }\r\n            else {\r\n              this._trans.value.transform.localEulerAngles = new BABYLON.Vector3(this._x.value, this._y.value, this._z.value);\r\n            }\r\n          }\r\n          this._trans.value.transform.parent = oriFather;\r\n        }\r\n        else {\r\n          console.warn(this.ID + \" 响应，参考物体为空，请检查！\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：要设置的物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._trans = para1.gameObject;\r\n\r\n      // 参数2：参考坐标或参考物体\r\n      // 相对和世界坐标确定\r\n      if (para_array[1].toLowerCase() === \"self\" || para_array[1] === \"自身\") {\r\n        this._space = BABYLON.Space.LOCAL;\r\n      }\r\n      else if (para_array[1].toLowerCase() === \"world\" || para_array[1] === \"世界\") {\r\n        this._space = BABYLON.Space.WORLD;\r\n      }\r\n      else {\r\n        this._space = BABYLON.Space.BONE;\r\n        let para2: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._ref = para2.gameObject;\r\n        if (this._ref.value === null) {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 参考物体： \" + para_array[1] + \"，该参考物体在场景中无法找到！\", '', Severity.Error));\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // 参数3：设置目标\r\n      if (para_array[2].toLowerCase() === \"x\") {\r\n        this._axis = 0;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"y\") {\r\n        this._axis = 1;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"z\") {\r\n        this._axis = 2;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"vector3\") {\r\n        this._axis = 3;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector3，当前为：\" + para_array[2] + \"，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数4：位置坐标\r\n      if (this._axis === 3) {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._isVec = para4.isVec;\r\n        this._posVec = para4.vector3;\r\n        this._x = para4.vecNumbers[0];\r\n        this._y = para4.vecNumbers[1];\r\n        this._z = para4.vecNumbers[2];\r\n      }\r\n      else {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._posvalue = para4.number;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n\r\nexport class Action_Translate extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '直线运动|Translate';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Translate';\r\n  }\r\n\r\n  private _refType: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  private _translateObj: VeryGameObject = new VeryGameObject();\r\n  private _refObj: VeryGameObject = new VeryGameObject();\r\n\r\n  private _isDeltaTime: VeryBool = new VeryBool();\r\n\r\n  private _isVec: boolean = true;\r\n  private _vecVar: VeryVector3 = new VeryVector3();\r\n  private _xVar: VeryNumber = new VeryNumber();\r\n  private _yVar: VeryNumber = new VeryNumber();\r\n  private _zVar: VeryNumber = new VeryNumber();\r\n\r\n  private _paraTime: number = 1;\r\n  private _paraVec: VeryVector3 = new VeryVector3();\r\n\r\n  public active(): void {\r\n    // console.log(this.actionID);\r\n  }\r\n\r\n\r\n  public onUpdate(): void {\r\n    if (!this._translateObj || !this._translateObj.value) {\r\n      return;\r\n    } else {\r\n      // 是否为每秒运动\r\n      if (this._isDeltaTime && this._isDeltaTime.value) {\r\n        this._paraTime = Time.deltaTime;\r\n      } else {\r\n        this._paraTime = 1;\r\n      }\r\n\r\n      // 方向向量\r\n      if (this._isVec) {\r\n        // 直接赋值为引用传递，在进行坐标变换时，可能被改变原始值，这样比较保险\r\n        this._paraVec.value.copyFrom(this._vecVar.value);\r\n      } else {\r\n        this._paraVec.value.x = this._xVar.value;\r\n        this._paraVec.value.y = this._yVar.value;\r\n        this._paraVec.value.z = this._zVar.value;\r\n      }\r\n      this._paraVec.value = this._paraVec.value.multiplyByFloats(this._paraTime, this._paraTime, this._paraTime);\r\n\r\n      // 参考局部或世界坐标移动\r\n      if (this._refType === BABYLON.Space.LOCAL || this._refType === BABYLON.Space.WORLD) {\r\n        this._translateObj.value.transform.translate(this._paraVec.value, this._refType);\r\n      }\r\n      // 参考与某个物体移动\r\n      else {\r\n        if (this._refObj && this._refObj.value) {\r\n          this._translateObj.value.transform.translateRelativeTo(this._paraVec.value, this._refObj.value.transform);\r\n        } else {\r\n          this._translateObj.value.transform.translate(this._paraVec.value, BABYLON.Space.WORLD);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：传入物体，也可以为模板变量\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._translateObj = para1.gameObject;\r\n\r\n      // 参数2：运动向量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._vecVar = para2.vector3;\r\n      this._xVar = para2.vecNumbers[0];\r\n      this._yVar = para2.vecNumbers[1];\r\n      this._zVar = para2.vecNumbers[2];\r\n      this._isVec = para2.isVec;\r\n\r\n      // 参数3：坐标系\r\n      if (para_array[2].toLowerCase() === \"world\" || para_array[2] === \"世界\") {\r\n        this._refType = BABYLON.Space.WORLD;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"self\" || para_array[2] === \"自身\") {\r\n        this._refType = BABYLON.Space.LOCAL;\r\n      }\r\n      else {\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._refObj = para3.gameObject;\r\n        if (this._refObj.value === null) {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 参考物体： \" + para_array[2] + \"，该参考物体在场景中无法找到！\", '', Severity.Error));\r\n        }\r\n      }\r\n\r\n      // 参数4：是否每秒为单位运动\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._isDeltaTime = para4.bool;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport class Action_Rotate extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Rotate|自转';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Rotate';\r\n  }\r\n\r\n  private _refType: BABYLON.Space = BABYLON.Space.LOCAL;\r\n\r\n  private _rotateObj: VeryGameObject = new VeryGameObject();\r\n\r\n  private _isDeltaTime: VeryBool = new VeryBool();\r\n\r\n  private _isVec: boolean = true;\r\n  private _vecVar: VeryVector3 = new VeryVector3();\r\n  private _xVar: VeryNumber = new VeryNumber();\r\n  private _yVar: VeryNumber = new VeryNumber();\r\n  private _zVar: VeryNumber = new VeryNumber();\r\n\r\n  private _paraTime: number = 1;\r\n  private _paraVec: VeryVector3 = new VeryVector3();\r\n\r\n  public active(): void {\r\n    // console.log(this.actionID);\r\n  }\r\n\r\n\r\n  public onUpdate(): void {\r\n    if (!this._rotateObj || !this._rotateObj.value) {\r\n      return;\r\n    } else {\r\n      // 是否为每秒运动\r\n      if (this._isDeltaTime && this._isDeltaTime.value) {\r\n        this._paraTime = Time.deltaTime;\r\n      } else {\r\n        this._paraTime = 1;\r\n      }\r\n\r\n      // 方向向量\r\n      if (this._isVec) {\r\n        // 直接赋值为引用传递，在进行坐标变换时，可能被改变原始值，这样比较保险\r\n        this._paraVec.value.copyFrom(this._vecVar.value);\r\n      } else {\r\n        this._paraVec.value.x = this._xVar.value;\r\n        this._paraVec.value.y = this._yVar.value;\r\n        this._paraVec.value.z = this._zVar.value;\r\n      }\r\n      this._paraVec.value = this._paraVec.value.multiplyByFloats(this._paraTime, this._paraTime, this._paraTime);\r\n\r\n\r\n      this._rotateObj.value.transform.rotate(this._paraVec.value, this._refType);\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：传入物体，也可以为模板变量\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._rotateObj = para1.gameObject;\r\n\r\n      // 参数2：运动向量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._vecVar = para2.vector3;\r\n      this._xVar = para2.vecNumbers[0];\r\n      this._yVar = para2.vecNumbers[1];\r\n      this._zVar = para2.vecNumbers[2];\r\n      this._isVec = para2.isVec;\r\n\r\n      // 参数3：坐标系\r\n      if (para_array[2].toLowerCase() === \"world\" || para_array[2] === \"世界\") {\r\n        this._refType = BABYLON.Space.WORLD;\r\n      }\r\n      else if (para_array[2].toLowerCase() === \"self\" || para_array[2] === \"自身\") {\r\n        this._refType = BABYLON.Space.LOCAL;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 格式错误： \" + para_array[2] + \"，应填“self|自身”或“world|世界”！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数4：是否每秒为单位运动\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._isDeltaTime = para4.bool;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n}\r\n\r\nexport class Action_Rotate_Around extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Rotate_Around|公转';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Rotate_Around';\r\n  }\r\n\r\n  private _rotateObj: VeryGameObject = new VeryGameObject();\r\n\r\n  private _isDeltaTime: VeryBool = new VeryBool();\r\n\r\n  private _speed: VeryNumber = new VeryNumber();\r\n  private _isVecPoint: boolean = true;\r\n  private _rotatePoint: VeryVector3 = new VeryVector3();\r\n  private _xPoint: VeryNumber = new VeryNumber();\r\n  private _yPoint: VeryNumber = new VeryNumber();\r\n  private _zPoint: VeryNumber = new VeryNumber();\r\n  private _point: VeryVector3 = new VeryVector3();\r\n\r\n  private _isVecAxis: boolean = true;\r\n  private _rotateAxis: VeryVector3 = new VeryVector3();\r\n  private _xAxis: VeryNumber = new VeryNumber();\r\n  private _yAxis: VeryNumber = new VeryNumber();\r\n  private _zAxis: VeryNumber = new VeryNumber();\r\n  private _axis: VeryVector3 = new VeryVector3();\r\n\r\n  private _paraTime: number = 1;\r\n\r\n  public active(): void {\r\n    // console.log(this.actionID);\r\n  }\r\n\r\n\r\n  public onUpdate(): void {\r\n    if (!this._rotateObj || !this._rotateObj.value) {\r\n      return;\r\n    } else {\r\n      // 是否为每秒运动\r\n      if (this._isDeltaTime && this._isDeltaTime.value) {\r\n        this._paraTime = Time.deltaTime;\r\n      } else {\r\n        this._paraTime = 1;\r\n      }\r\n\r\n      // 旋转点\r\n      if (this._isVecPoint) {\r\n        this._point.value.copyFrom(this._rotatePoint.value);\r\n      } else {\r\n        this._point.value.x = this._xPoint.value;\r\n        this._point.value.y = this._yPoint.value;\r\n        this._point.value.z = this._zPoint.value;\r\n      }\r\n\r\n      // 旋转轴\r\n      if (this._isVecAxis) {\r\n        this._axis.value.copyFrom(this._rotateAxis.value);\r\n      } else {\r\n        this._axis.value.x = this._xAxis.value;\r\n        this._axis.value.y = this._yAxis.value;\r\n        this._axis.value.z = this._zAxis.value;\r\n      }\r\n\r\n      this._rotateObj.value.transform.rotateAround(this._point.value, this._axis.value, this._speed.value * this._paraTime);\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：传入物体，也可以为模板变量\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._rotateObj = para1.gameObject;\r\n\r\n      // 参数2：旋转点\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._rotatePoint = para2.vector3;\r\n      this._xPoint = para2.vecNumbers[0];\r\n      this._yPoint = para2.vecNumbers[1];\r\n      this._zPoint = para2.vecNumbers[2];\r\n      this._isVecPoint = para2.isVec;\r\n\r\n      // 参数3：旋转轴\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._rotateAxis = para3.vector3;\r\n      this._xAxis = para3.vecNumbers[0];\r\n      this._yAxis = para3.vecNumbers[1];\r\n      this._zAxis = para3.vecNumbers[2];\r\n      this._isVecAxis = para3.isVec;\r\n\r\n      // 参数4：旋转速度\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._speed = para4.number;\r\n\r\n      // 参数5：是否每秒为单位运动\r\n      let para5: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[4])) {\r\n        return false;\r\n      }\r\n      this._isDeltaTime = para5.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Set_Parent extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Set_Parent|设置父物体';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Set_Parent';\r\n  }\r\n\r\n  private _childList: VeryGameObject[] = [];\r\n  private _formerList: BABYLON.Nullable<Transform>[] = [];\r\n  private _parentObj: VeryGameObject = new VeryGameObject();\r\n\r\n  private _reset: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._reset.value) {\r\n      for (var i = 0; i < this._childList.length; i++) {\r\n        var tmpOBJ = this._childList[i].value;\r\n        if (this._parentObj.value == null) {\r\n          if (tmpOBJ != null)\r\n            tmpOBJ.transform.parent = null;\r\n        }\r\n        else {\r\n          if (tmpOBJ != null)\r\n            tmpOBJ.transform.parent = this._parentObj.value.transform;\r\n        }\r\n      }\r\n    }\r\n    else {\r\n      for (var i = 0; i < this._childList.length; i++) {\r\n        var tmpOBJ = this._childList[i].value;\r\n        if (tmpOBJ != null)\r\n          tmpOBJ.transform.parent = this._formerList[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      var isRight = true;\r\n      var nameList: string[] = para_array[0].split(/,|，/);\r\n      for (var i = 0; i < nameList.length; i++) {\r\n        nameList[i] = nameList[i].trim();\r\n        var newObj: VeryGameObject = new VeryGameObject();\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, nameList[i])) {\r\n          return false;\r\n        }\r\n        newObj = para1.gameObject;\r\n        if (newObj.value == null) {\r\n          console.error(this.ID + \" 响应中，物体\" + nameList[i] + \"在场景中不存在！\");\r\n          isRight = false;\r\n          continue;\r\n        }\r\n        this._childList[this._childList.length] = (newObj);\r\n        this._formerList[this._formerList.length] = (newObj.value.transform.parent);\r\n      }\r\n      if (!isRight) {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[0] + \"，场景中有物体不存在，或者变量填写错误，请检查！\");\r\n        return false;\r\n      }\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._parentObj = para2.gameObject;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (para_array.length > 2) {\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._reset = para3.bool;\r\n      }\r\n      else {\r\n        this._reset.value = true;\r\n      }\r\n\r\n\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Get_Child_Count extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Get_Child_Count|获取子物体数';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Get_Child_Count';\r\n  }\r\n\r\n  private _obj: VeryGameObject = new VeryGameObject();\r\n  private _count: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._obj.value != null) {\r\n      this._count.value = this._obj.value.transform.childCount;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._obj = para1.gameObject;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._count = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Transform_Point extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Transform_Point|相对坐标点转世界坐标点';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Transform_Point';\r\n  }\r\n\r\n  private _tran: VeryGameObject = new VeryGameObject();\r\n  private _isVec = true;\r\n  private _pointVec: VeryVector3 = new VeryVector3();\r\n  private _pointFloat: VeryNumber[] = [];\r\n  private _resultVec: VeryVector3 = new VeryVector3();\r\n\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._tran.value != null) {\r\n      if (this._isVec) {\r\n        this._resultVec.value = this._tran.value.transform.transformPosition(this._pointVec.value);\r\n      }\r\n      else {\r\n        this._resultVec.value = this._tran.value.transform.transformPosition(new BABYLON.Vector3(this._pointFloat[0].value, this._pointFloat[1].value, this._pointFloat[2].value));\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._tran = para1.gameObject;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVec = para2.isVec;\r\n      this._pointVec = para2.vector3;\r\n      this._pointFloat = para2.vecNumbers;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._resultVec = para3.vector3;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Transform_Direction extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Transform_Direction|相对坐标方向转世界坐标方向';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Transform_Direction';\r\n  }\r\n\r\n  private _tran: VeryGameObject = new VeryGameObject();\r\n  private _isVec = true;\r\n  private _pointVec: VeryVector3 = new VeryVector3();\r\n  private _pointFloat: VeryNumber[] = [];\r\n  private _resultVec: VeryVector3 = new VeryVector3();\r\n\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._tran.value != null) {\r\n      if (this._isVec) {\r\n        this._resultVec.value = this._tran.value.transform.transformDirection(this._pointVec.value);\r\n      }\r\n      else {\r\n        this._resultVec.value = this._tran.value.transform.transformDirection(new BABYLON.Vector3(this._pointFloat[0].value, this._pointFloat[1].value, this._pointFloat[2].value));\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._tran = para1.gameObject;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVec = para2.isVec;\r\n      this._pointVec = para2.vector3;\r\n      this._pointFloat = para2.vecNumbers;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._resultVec = para3.vector3;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Inverse_Transform_Point extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Inverse_Transform_Point|世界坐标点转相对坐标点';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Inverse_Transform_Point';\r\n  }\r\n\r\n  private _tran: VeryGameObject = new VeryGameObject();\r\n  private _isVec = true;\r\n  private _pointVec: VeryVector3 = new VeryVector3();\r\n  private _pointFloat: VeryNumber[] = [];\r\n  private _resultVec: VeryVector3 = new VeryVector3();\r\n\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._tran.value != null) {\r\n      if (this._isVec) {\r\n        this._resultVec.value = this._tran.value.transform.inverseTransformPosition(this._pointVec.value);\r\n      }\r\n      else {\r\n        this._resultVec.value = this._tran.value.transform.inverseTransformPosition(new BABYLON.Vector3(this._pointFloat[0].value, this._pointFloat[1].value, this._pointFloat[2].value));\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._tran = para1.gameObject;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVec = para2.isVec;\r\n      this._pointVec = para2.vector3;\r\n      this._pointFloat = para2.vecNumbers;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._resultVec = para3.vector3;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Inverse_Transform_Direction extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Inverse_Transform_Direction|世界坐标方向转相对坐标方向';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Inverse_Transform_Direction';\r\n  }\r\n\r\n  private _tran: VeryGameObject = new VeryGameObject();\r\n  private _isVec = true;\r\n  private _pointVec: VeryVector3 = new VeryVector3();\r\n  private _pointFloat: VeryNumber[] = [];\r\n  private _resultVec: VeryVector3 = new VeryVector3();\r\n\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._tran.value != null) {\r\n      if (this._isVec) {\r\n        this._resultVec.value = this._tran.value.transform.inverseTransformDirection(this._pointVec.value);\r\n      }\r\n      else {\r\n        this._resultVec.value = this._tran.value.transform.inverseTransformDirection(new BABYLON.Vector3(this._pointFloat[0].value, this._pointFloat[1].value, this._pointFloat[2].value));\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._tran = para1.gameObject;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVec = para2.isVec;\r\n      this._pointVec = para2.vector3;\r\n      this._pointFloat = para2.vecNumbers;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._resultVec = para3.vector3;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class Action_Get_Parent extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Get_Parent|获取父物体';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Get_Parent';\r\n  }\r\n\r\n  private _obj: VeryGameObject = new VeryGameObject();\r\n  private _parent: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._obj.value != null) {\r\n      if (this._obj.value.transform.parent == null) {\r\n        this._parent.value = null;\r\n      }\r\n      else {\r\n        //TODO:transform应该有一个gameobject属性\r\n        this._parent.value = GameObject.Find(this._obj.value.transform.parent.name);\r\n      }\r\n    }\r\n    else {\r\n      this._parent.value = null;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._obj = para1.gameObject;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._parent = para2.gameObject;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nexport class VE_RandomRange {\r\n  private _firstBlueVar = new VeryNumber();\r\n  private _secondBlueVar = new VeryNumber();\r\n\r\n  public VE_RandomRange() {\r\n\r\n  }\r\n\r\n  public AddFirst(value: number) {\r\n    this._firstBlueVar.value = value;\r\n  }\r\n\r\n  public AddFirstVar(value: VeryNumber) {\r\n    this._firstBlueVar = value;\r\n  }\r\n\r\n\r\n  public AddSecond(value: number) {\r\n    this._secondBlueVar.value = value;\r\n  }\r\n\r\n  public AddSecondVar(value: VeryNumber) {\r\n    this._secondBlueVar = value;\r\n  }\r\n\r\n  public GetValue(): number {\r\n    var result = Math.random() * (this._secondBlueVar.value - this._firstBlueVar.value) + this._firstBlueVar.value;\r\n    return result;\r\n  }\r\n}\r\n\r\nexport class Action_SetRandomPosition extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'SetRandomPosition|设置随机位置';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_SetRandomPosition';\r\n  }\r\n\r\n  private _obj: VeryGameObject = new VeryGameObject();\r\n  private _space: BABYLON.Space = BABYLON.Space.LOCAL;\r\n  private _xRange = new VE_RandomRange();\r\n  private _yRange = new VE_RandomRange();\r\n  private _zRange = new VE_RandomRange();\r\n\r\n  private _axisChoose: boolean[] = [false, false, false];\r\n  private _xyzRange: VE_RandomRange[] = [];\r\n\r\n  private _posVector3Value: BABYLON.Vector3 = new BABYLON.Vector3();\r\n\r\n  public active(): void {\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._obj.value != null) {\r\n      if (this._space == BABYLON.Space.LOCAL) {\r\n        if (this._axisChoose[0]) {\r\n          this._posVector3Value.x = this._xRange.GetValue();\r\n        }\r\n        else {\r\n          this._posVector3Value.x = this._obj.value.transform.localPosition.x;\r\n        }\r\n        if (this._axisChoose[1]) {\r\n          this._posVector3Value.y = this._yRange.GetValue();\r\n        }\r\n        else {\r\n          this._posVector3Value.y = this._obj.value.transform.localPosition.y;\r\n        }\r\n        if (this._axisChoose[2]) {\r\n          this._posVector3Value.z = this._zRange.GetValue();\r\n        }\r\n        else {\r\n          this._posVector3Value.z = this._obj.value.transform.localPosition.z;\r\n        }\r\n        this._obj.value.transform.localPosition = this._posVector3Value;\r\n      }\r\n      else {\r\n        if (this._axisChoose[0]) {\r\n          this._posVector3Value.x = this._xRange.GetValue();\r\n        }\r\n        else {\r\n          this._posVector3Value.x = this._obj.value.transform.position.x;\r\n        }\r\n        if (this._axisChoose[1]) {\r\n          this._posVector3Value.y = this._yRange.GetValue();\r\n        }\r\n        else {\r\n          this._posVector3Value.y = this._obj.value.transform.position.y;\r\n        }\r\n        if (this._axisChoose[2]) {\r\n          this._posVector3Value.z = this._zRange.GetValue();\r\n        }\r\n        else {\r\n          this._posVector3Value.z = this._obj.value.transform.position.z;\r\n        }\r\n        this._obj.value.transform.position = this._posVector3Value;\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 5)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._obj = para1.gameObject;\r\n\r\n      // 参数2：\r\n      if (para_array[1].toLowerCase() == \"self\" || para_array[1] == \"自身\") {\r\n        this._space = BABYLON.Space.LOCAL;\r\n      }\r\n      else if (para_array[1].toLowerCase() == \"world\" || para_array[1] == \"世界\") {\r\n        this._space = BABYLON.Space.WORLD;\r\n      }\r\n      else {\r\n        console.error(this.ID + \" 响应物体坐标是相对还是世界坐标格式错误，默认设置为self，应填world或者self，当前为：\" + para_array[1] + \"，请注意！\");\r\n      }\r\n\r\n      //X轴随机参数设置\r\n      if (!this.AxisParaParser(para_array[2], 0)) {\r\n        return false;\r\n      }\r\n      //Y轴随机参数设置\r\n      if (!this.AxisParaParser(para_array[3], 1)) {\r\n        return false;\r\n      }\r\n      //Y轴随机参数设置\r\n      if (!this.AxisParaParser(para_array[4], 2)) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n  private AxisParaParser(para: string, index: number,) {\r\n    if (para.toLowerCase() == \"old\") {\r\n      this._axisChoose[index] = false;\r\n    }\r\n    else {\r\n      this._axisChoose[index] = true;\r\n      var rangeArray = para.split(/,|，/);\r\n      if (rangeArray.length != 2) {\r\n        console.error(this.ID + \" 响应参数格式错误，轴参数应为old或者（float1，float2）格式，当前为：\" + para + \"，请检查！\");\r\n        return false;\r\n      }\r\n      //第一个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, rangeArray[0].trim())) {\r\n        return false;\r\n      }\r\n      var very_range = new VE_RandomRange();\r\n      very_range.AddFirstVar(para1.number);\r\n\r\n      //第二个参数\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, rangeArray[1].trim())) {\r\n        return false;\r\n      }\r\n      very_range.AddSecondVar(para2.number);\r\n      this._xyzRange[index] = very_range;\r\n      if (index == 0) {\r\n        this._xRange = very_range;\r\n      }\r\n      if (index == 1) {\r\n        this._yRange = very_range;\r\n      }\r\n      if (index == 2) {\r\n        this._zRange = very_range;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  public destroy(): void {\r\n    // \r\n  }\r\n\r\n}\r\n\r\nVE_Actions.addAction(Action_SetPosition);\r\nVE_Actions.addAction(Action_Translate);\r\nVE_Actions.addAction(Action_Rotate);\r\nVE_Actions.addAction(Action_Rotate_Around);\r\n//TODO:Test\r\nVE_Actions.addAction(Action_GetPosition);\r\nVE_Actions.addAction(Action_GetAngle);\r\nVE_Actions.addAction(Action_SetAngle);\r\nVE_Actions.addAction(Action_Set_Parent);\r\nVE_Actions.addAction(Action_Get_Child_Count);\r\nVE_Actions.addAction(Action_Transform_Point);\r\nVE_Actions.addAction(Action_Transform_Direction);\r\nVE_Actions.addAction(Action_Inverse_Transform_Point);\r\nVE_Actions.addAction(Action_Inverse_Transform_Direction);\r\nVE_Actions.addAction(Action_Get_Parent);\r\n\r\n//TODO:Test_20200910\r\nVE_Actions.addAction(Action_SetRandomPosition);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { IVeryVar, VarTools } from \"../../variables\";\r\nimport { VE_Template } from \"../../template\";\r\nimport { ParaParserUtility, ErrorInfo } from \"../../utility\";\r\nimport { ParaType, Severity } from \"../../enum\";\r\nimport { VE_ErrorManager, VE_Error } from \"../../global\";\r\n\r\nenum TypeVar { VeryVar, Template, Const };\r\n\r\nexport class Action_Debug extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Debug|调试';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Action_Debug';\r\n  };\r\n\r\n  private _debugMode: number = 0;\r\n\r\n  private _typeList: Array<TypeVar> = [];\r\n  private _veryVarDic: { [key: number]: IVeryVar } = {};\r\n  private _templateDic: { [key: number]: VE_Template } = {};\r\n  private _constDic: { [key: number]: string } = {};\r\n\r\n  private _separator: string = \" \";\r\n\r\n  private _strBuilder: string = '';\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    this._strBuilder = '';\r\n    for (let i: number = 0; i < this._typeList.length; i++) {\r\n      if (this._typeList[i] === TypeVar.Const) {\r\n        this._strBuilder += this._constDic[i];\r\n      }\r\n      else if (this._typeList[i] === TypeVar.VeryVar) {\r\n        this._strBuilder += this._veryVarDic[i].getValue();\r\n      }\r\n      else if (this._typeList[i] === TypeVar.Template) { // TODO\r\n        //this._templateDic[i].\r\n        //_strBuilder.Append(_toString.GetString(_blueVarDic[i].VarType, _blueVarDic[i].GetValue()));\r\n      }\r\n      this._strBuilder += this._separator;\r\n    }\r\n    this._strBuilder = this._strBuilder.trim();\r\n    if (this._debugMode === 0) {\r\n      // console.log(`一般信息 >>> ${this._strBuilder}`);\r\n      console.log(this._strBuilder);\r\n    }\r\n    else if (this._debugMode == 1) {\r\n      // console.warn(`警告信息 >>> ${this._strBuilder}`);\r\n      console.warn(this._strBuilder);\r\n    }\r\n    else if (this._debugMode == 2) {\r\n      // console.error(`错误信息 >>> ${this._strBuilder}`);\r\n      console.error(this._strBuilder);\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：调试类型\r\n      if (para_array[0].toLowerCase() === \"log\" || para_array[0] === \"调试\") {\r\n        this._debugMode = 0;\r\n      }\r\n      else if (para_array[0].toLowerCase() === \"warn\" || para_array[0] === \"警告\") {\r\n        this._debugMode = 1;\r\n      }\r\n      else if (para_array[0].toLowerCase() === \"error\" || para_array[0] === \"错误\") {\r\n        this._debugMode = 2;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 传入参数格式错误，应为Log、Warn或者Error，当前为： \" + para_array[0] + \"，请检查填入数据！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数2：打印参数\r\n      //（1）常量；（2）*变量；（3）对象名.*变量（可以是状态）；（4）*模板变量；（5）对象名.*模板变量；（6）×*模板变量.*变量；（7）×对象名.*模板变量.*变量\r\n      let debugArray: string[] = para_array[1].split('+');\r\n      for (let i: number = 0; i < debugArray.length; i++) {\r\n        debugArray[i] = debugArray[i].trim();\r\n        if (VarTools.IsVarID(debugArray[i])) {\r\n          let errorInfo: ErrorInfo = new ErrorInfo();\r\n          let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(this.projectName, this.objectID, debugArray[i], errorInfo);\r\n          if (veryVar === null) {\r\n            errorInfo.clear();\r\n            let template: Nullable<VE_Template> = VarTools.GetTemplate(this.projectName, this.objectID, debugArray[i], errorInfo);\r\n            if (template === null) {\r\n              VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 传入参数格式可能有误，当前参数：\" + debugArray[i] + \"，当前参数含有变量符号，但是在系统中无法查找到，此处当常量处理，请注意！\", '', Severity.Error));\r\n              this._constDic[this._typeList.length] = debugArray[i];\r\n              this._typeList.push(TypeVar.Const);\r\n            }\r\n            else {\r\n              this._templateDic[this._typeList.length] = template;\r\n              this._typeList.push(TypeVar.Template);\r\n            }\r\n          }\r\n          else {\r\n            this._veryVarDic[this._typeList.length] = veryVar;\r\n            this._typeList.push(TypeVar.VeryVar);\r\n          }\r\n        }\r\n        else {\r\n          this._constDic[this._typeList.length] = debugArray[i];\r\n          this._typeList.push(TypeVar.Const);\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nVE_Actions.addAction(Action_Debug);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { Vector3Utility, ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType, ActionType, Severity } from \"../../enum\";\r\nimport { VeryVector3, VeryNumber } from \"../../variables\";\r\nimport { VE_ErrorManager, VE_Error } from \"../../global\";\r\nimport { Time } from \"../../babylon\";\r\n\r\nexport class Action_Vector3_Interpolate extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Interpolate|向量插值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Interpolate\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _switch: boolean = false;\r\n  private _timer: number = 0;\r\n  private _isLinear: boolean = true;\r\n\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _timeFloat: VeryNumber = new VeryNumber();\r\n\r\n  private _isVec1: boolean = false;\r\n  private _vecUnit1: VeryVector3 = new VeryVector3();\r\n  private _vecFloat1: VeryNumber[] = [];\r\n\r\n  private _isVec2: boolean = false;\r\n  private _vecUnit2: VeryVector3 = new VeryVector3();\r\n  private _vecFloat2: VeryNumber[] = [];\r\n\r\n\r\n  public active(): void {\r\n    if (this._timeFloat.value === 0) {\r\n      this.timesUp();\r\n    }\r\n    else {\r\n      this._timer = 0;\r\n      this._switch = true;\r\n    }\r\n  }\r\n\r\n\r\n  public onUpdate(): void {\r\n    if (this._switch) {\r\n      this._timer += Time.deltaTime;\r\n\r\n      let vec1: BABYLON.Vector3 = this._vecUnit1.value;\r\n      if (!this._isVec1) {\r\n        vec1 = new BABYLON.Vector3(this._vecFloat1[0].value, this._vecFloat1[1].value, this._vecFloat1[2].value);\r\n      }\r\n\r\n      let vec2: BABYLON.Vector3 = this._vecUnit2.value;\r\n      if (!this._isVec2) {\r\n        vec2 = new BABYLON.Vector3(this._vecFloat2[0].value, this._vecFloat2[1].value, this._vecFloat2[2].value);\r\n      }\r\n\r\n      if (this._timer > this._timeFloat.value) {\r\n        this._switch = false;\r\n        this._timer = 0;\r\n        if (this._isLinear) {\r\n          this._acceptVec.value = BABYLON.Vector3.Lerp(vec1, vec2, 1);\r\n        }\r\n        else {\r\n          this._acceptVec.value = Vector3Utility.Slerp(vec1, vec2, 1);\r\n        }\r\n        this._acceptVec.value.set(vec2.x, vec2.y, vec2.z);\r\n        this.timesUp();\r\n      }\r\n      else {\r\n        if (this._isLinear) {\r\n          this._acceptVec.value = BABYLON.Vector3.Lerp(vec1, vec2, this._timer / this._timeFloat.value);\r\n        }\r\n        else {\r\n          this._acceptVec.value = Vector3Utility.Slerp(vec1, vec2, this._timer / this._timeFloat.value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public pause(): void {\r\n    this._switch = false;\r\n    super.pause();\r\n  }\r\n\r\n  public resume(): void {\r\n    this._switch = true;\r\n    super.resume();\r\n  }\r\n\r\n  public stop(): void {\r\n    this.timesUp();\r\n    super.stop();\r\n  }\r\n\r\n  private timesUp(): void {\r\n    this._switch = false;\r\n    this._timer = 0;\r\n    this.finish();\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 5)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：插值类型\r\n      if (para_array[0].toLowerCase() === \"linear\" || para_array[0] === \"线性\") {\r\n        this._isLinear = true;\r\n      }\r\n      else if (para_array[0].toLowerCase() === \"smooth\" || para_array[0] === \"圆滑\") {\r\n        this._isLinear = false;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 传入参数格式错误，应为Log、Warn或者Error，当前为： \" + para_array[0] + \"，请检查填入数据！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数2：起始值\r\n      let para2 = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVec1 = para2.isVec;\r\n      this._vecFloat1 = para2.vecNumbers;\r\n      this._vecUnit1 = para2.vector3;\r\n\r\n      // 参数3：终止值\r\n      let para3 = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._isVec2 = para3.isVec;\r\n      this._vecFloat2 = para3.vecNumbers;\r\n      this._vecUnit2 = para3.vector3;\r\n\r\n      // 参数4：持续时长\r\n      let para4 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._timeFloat = para4.number;\r\n\r\n      // 参数5：插值结果\r\n      let para5 = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[4])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para5.vector3;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Get_Value extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Get_Value|获取向量值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Get_Value\";\r\n  }\r\n\r\n  private _xBlueFloat: VeryNumber = new VeryNumber();\r\n  private _hasX = false;\r\n\r\n  private _yBlueFloat: VeryNumber = new VeryNumber();\r\n  private _hasY = false;\r\n\r\n  private _zBlueFloat: VeryNumber = new VeryNumber();\r\n  private _hasZ = false;\r\n\r\n  private _isVec = false;\r\n  private _blueVector3: VeryVector3 = new VeryVector3();\r\n  private _vecFloat: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (!this._isVec) {\r\n      if (this._hasX) {\r\n        this._xBlueFloat.value = this._vecFloat[0].value;\r\n      }\r\n      if (this._hasY) {\r\n        this._yBlueFloat.value = this._vecFloat[1].value;\r\n      }\r\n      if (this._hasZ) {\r\n        this._zBlueFloat.value = this._vecFloat[2].value;\r\n      }\r\n    }\r\n    else {\r\n      if (this._hasX) {\r\n        this._xBlueFloat.value = this._blueVector3.value.x;\r\n      }\r\n      if (this._hasY) {\r\n        this._yBlueFloat.value = this._blueVector3.value.y;\r\n      }\r\n      if (this._hasZ) {\r\n        this._zBlueFloat.value = this._blueVector3.value.z;\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:原始Vector3\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVec = para1.isVec;\r\n      this._vecFloat = para1.vecNumbers;\r\n      this._blueVector3 = para1.vector3;\r\n\r\n      // 参数2:x轴\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n        this._hasX = false;\r\n      }\r\n      else {\r\n        let para2: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._xBlueFloat = para2.number;\r\n        this._hasX = true;\r\n      }\r\n      // 参数3:y轴\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n        this._hasY = false;\r\n      }\r\n      else {\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._yBlueFloat = para3.number;\r\n        this._hasY = true;\r\n      }\r\n      // 参数4:z轴\r\n      if (para_array[3].toLowerCase() == \"none\" || para_array[3].toLowerCase() == \"null\") {\r\n        this._hasZ = false;\r\n      }\r\n      else {\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._zBlueFloat = para4.number;\r\n        this._hasZ = true;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Vector3_Get_Magnitude extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Get_Magnitude|获取向量大小 \";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Get_Magnitude\";\r\n  }\r\n\r\n  private _blueFloat: VeryNumber = new VeryNumber();\r\n\r\n  private _isVec = false;\r\n  private _blueVector3: VeryVector3 = new VeryVector3();\r\n  private _vecFloat: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVec) {\r\n      this._blueFloat.value = this._blueVector3.value.length();\r\n    }\r\n    else {\r\n      this._blueFloat.value = new BABYLON.Vector3(this._vecFloat[0].value, this._vecFloat[1].value, this._vecFloat[2].value).length();\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:原始Vector3\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVec = para1.isVec;\r\n      this._vecFloat = para1.vecNumbers;\r\n      this._blueVector3 = para1.vector3;\r\n\r\n      // 参数2:x轴\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueFloat = para2.number;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Set_Value extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Set_Value|设置向量值 \";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Set_Value\";\r\n  }\r\n\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _isVec = false;\r\n  private _blueVector3: VeryVector3 = new VeryVector3();\r\n  private _vecFloat: VeryNumber[] = [];\r\n  private _isSet: boolean[] = [false, false, false];\r\n\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (!this._isVec) {\r\n      if (this._isSet[0]) {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._vecFloat[0].value, this._acceptVec.value.y, this._acceptVec.value.z);\r\n      }\r\n      if (this._isSet[1]) {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._acceptVec.value.x, this._vecFloat[1].value, this._acceptVec.value.z);\r\n      }\r\n      if (this._isSet[2]) {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._acceptVec.value.x, this._acceptVec.value.y, this._vecFloat[2].value);\r\n      }\r\n    }\r\n    else {\r\n      this._acceptVec.value = this._blueVector3.value;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:设置值\r\n      if (para_array[0].indexOf(\",\") != -1 || para_array[0].indexOf(\"，\") != -1) {\r\n        this._isVec = false;\r\n        var strArray: string[] = para_array[0].split(/,|，/);\r\n        if (strArray.length == 3) {\r\n          strArray[0] = strArray[0].trim();\r\n          strArray[1] = strArray[1].trim();\r\n          strArray[2] = strArray[2].trim();\r\n          if (strArray[0].toLowerCase() == \"none\" || strArray[0].toLowerCase() == \"null\") {\r\n            this._isSet[0] = false;\r\n          }\r\n          else {\r\n            this._isSet[0] = true;\r\n            let para0: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, strArray[0])) {\r\n              return false;\r\n            }\r\n            this._vecFloat[0] = para0.number;\r\n          }\r\n\r\n          if (strArray[1].toLowerCase() == \"none\" || strArray[1].toLowerCase() == \"null\") {\r\n            this._isSet[1] = false;\r\n          }\r\n          else {\r\n            this._isSet[1] = true;\r\n            let para0: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, strArray[1])) {\r\n              return false;\r\n            }\r\n            this._vecFloat[1] = para0.number;\r\n          }\r\n\r\n          if (strArray[2].toLowerCase() == \"none\" || strArray[2].toLowerCase() == \"null\") {\r\n            this._isSet[2] = false;\r\n          }\r\n          else {\r\n            this._isSet[2] = true;\r\n            let para0: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, strArray[2])) {\r\n              return false;\r\n            }\r\n            this._vecFloat[2] = para0.number;\r\n          }\r\n        }\r\n        else {\r\n          console.error(this.ID + \" 响应，vector3应由3个float组成，当前：\" + para_array[0] + \"，该变量不符合要求，请检查！\");\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._isVec = para1.isVec;\r\n        this._vecFloat = para1.vecNumbers;\r\n        this._blueVector3 = para1.vector3;\r\n      }\r\n\r\n      // 参数2:接收vector变量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para2.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Distance extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Distance|计算距离\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Distance\";\r\n  }\r\n\r\n  private _isVec1: boolean = true;\r\n  private _vec1: VeryVector3 = new VeryVector3();\r\n  private _x1: VeryNumber = new VeryNumber();\r\n  private _y1: VeryNumber = new VeryNumber();\r\n  private _z1: VeryNumber = new VeryNumber();\r\n\r\n\r\n  private _isVec2: boolean = true;\r\n  private _vec2: VeryVector3 = new VeryVector3();\r\n  private _x2: VeryNumber = new VeryNumber();\r\n  private _y2: VeryNumber = new VeryNumber();\r\n  private _z2: VeryNumber = new VeryNumber();\r\n\r\n  private _result: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVec1 && this._isVec2) {\r\n      this._result.value = BABYLON.Vector3.Distance(this._vec1.value, this._vec2.value);\r\n    }\r\n    else if (this._isVec1 && !this._isVec2) {\r\n      this._result.value = BABYLON.Vector3.Distance(this._vec1.value, new BABYLON.Vector3(this._x2.value, this._y2.value, this._z2.value));\r\n    }\r\n    else if (!this._isVec1 && this._isVec2) {\r\n      this._result.value = BABYLON.Vector3.Distance(new BABYLON.Vector3(this._x1.value, this._y1.value, this._z1.value), this._vec2.value);\r\n    }\r\n    else {\r\n      this._result.value = BABYLON.Vector3.Distance(new BABYLON.Vector3(this._x1.value, this._y1.value, this._z1.value), new BABYLON.Vector3(this._x2.value, this._y2.value, this._z2.value));\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVec1 = para1.isVec;\r\n      this._x1.value = para1.vecNumbers[0].value;\r\n      this._y1.value = para1.vecNumbers[1].value;\r\n      this._z1.value = para1.vecNumbers[2].value;\r\n      this._vec1 = para1.vector3;\r\n\r\n      // 参数2:向量2\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVec2 = para2.isVec;\r\n      this._x2.value = para2.vecNumbers[0].value;\r\n      this._y2.value = para2.vecNumbers[1].value;\r\n      this._z2.value = para2.vecNumbers[2].value;\r\n      this._vec2 = para2.vector3;\r\n\r\n      // 参数3:结果值\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._result = para3.number;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Add extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Add|向量加法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Add\";\r\n  }\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _blueVector1: VeryVector3 = new VeryVector3();\r\n  private _blueVector2: VeryVector3 = new VeryVector3();\r\n  private _isVector1: boolean = true;\r\n  private _isVector2: boolean = true;\r\n  private _blueFloat1: VeryNumber[] = [];\r\n  private _blueFloat2: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVector1) {\r\n      if (this._isVector2) {\r\n        this._acceptVec.value = this._blueVector1.value.add(this._blueVector2.value);\r\n      }\r\n      else {\r\n        this._acceptVec.value = this._blueVector1.value.add(new BABYLON.Vector3(this._blueFloat2[0].value, this._blueFloat2[1].value, this._blueFloat2[2].value));\r\n      }\r\n    }\r\n    else {\r\n      if (this._isVector2) {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).add(this._blueVector2.value);\r\n      }\r\n      else {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).add(new BABYLON.Vector3(this._blueFloat2[0].value, this._blueFloat2[1].value, this._blueFloat2[2].value));\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVector1 = para1.isVec;\r\n      this._blueFloat1 = para1.vecNumbers;\r\n      this._blueVector1 = para1.vector3;\r\n\r\n      // 参数2:向量2\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVector2 = para2.isVec;\r\n      this._blueFloat2 = para2.vecNumbers;\r\n      this._blueVector2 = para2.vector3;\r\n\r\n      // 参数3:结果值\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para3.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Substract extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Substract|向量减法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Substract\";\r\n  }\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _blueVector1: VeryVector3 = new VeryVector3();\r\n  private _blueVector2: VeryVector3 = new VeryVector3();\r\n  private _isVector1: boolean = true;\r\n  private _isVector2: boolean = true;\r\n  private _blueFloat1: VeryNumber[] = [];\r\n  private _blueFloat2: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVector1) {\r\n      if (this._isVector2) {\r\n        this._acceptVec.value = this._blueVector1.value.subtract(this._blueVector2.value);\r\n      }\r\n      else {\r\n        this._acceptVec.value = this._blueVector1.value.subtract(new BABYLON.Vector3(this._blueFloat2[0].value, this._blueFloat2[1].value, this._blueFloat2[2].value));\r\n      }\r\n    }\r\n    else {\r\n      if (this._isVector2) {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).subtract(this._blueVector2.value);\r\n      }\r\n      else {\r\n        this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).subtract(new BABYLON.Vector3(this._blueFloat2[0].value, this._blueFloat2[1].value, this._blueFloat2[2].value));\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVector1 = para1.isVec;\r\n      this._blueFloat1 = para1.vecNumbers;\r\n      this._blueVector1 = para1.vector3;\r\n\r\n      // 参数2:向量2\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isVector2 = para2.isVec;\r\n      this._blueFloat2 = para2.vecNumbers;\r\n      this._blueVector2 = para2.vector3;\r\n\r\n      // 参数3:结果值\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para3.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Normalize extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Normalize|向量标准化\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Normalize\";\r\n  }\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _blueVector1: VeryVector3 = new VeryVector3();\r\n  private _isVector1: boolean = true;\r\n  private _blueFloat1: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVector1) {\r\n      this._acceptVec.value = this._blueVector1.value.normalize();\r\n    }\r\n    else {\r\n      this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).normalize();\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVector1 = para1.isVec;\r\n      this._blueFloat1 = para1.vecNumbers;\r\n      this._blueVector1 = para1.vector3;\r\n\r\n      // 参数2:接收向量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para2.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Vector3_Clamp_Magnitude extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Clamp_Magnitude|向量长度限定\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Clamp_Magnitude\";\r\n  }\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _blueFloat: VeryNumber = new VeryNumber();\r\n\r\n  private _blueVector1: VeryVector3 = new VeryVector3();\r\n  private _isVector1: boolean = true;\r\n  private _blueFloat1: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVector1) {\r\n      if (this._blueVector1.value.length() > this._blueFloat.value)\r\n        this._acceptVec.value = (this._blueVector1.value).normalize().scale(this._blueFloat.value);\r\n    }\r\n    else {\r\n      if (new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).length() > this._blueFloat.value)\r\n        this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).normalize().scale(this._blueFloat.value);\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVector1 = para1.isVec;\r\n      this._blueFloat1 = para1.vecNumbers;\r\n      this._blueVector1 = para1.vector3;\r\n\r\n      // 参数2:长度\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueFloat = para2.number;\r\n\r\n      // 参数3:接收向量\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para3.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Vector3_Invert extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Invert|向量取反\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Invert\";\r\n  }\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _blueVector1: VeryVector3 = new VeryVector3();\r\n  private _isVector1: boolean = true;\r\n  private _blueFloat1: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVector1) {\r\n      this._acceptVec.value = this._blueVector1.value.scale(-1);\r\n    }\r\n    else {\r\n      this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).scale(-1);;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVector1 = para1.isVec;\r\n      this._blueFloat1 = para1.vecNumbers;\r\n      this._blueVector1 = para1.vector3;\r\n\r\n      // 参数2:接收向量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para2.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Vector3_Multiply extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Multiply|向量乘法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Multiply\";\r\n  }\r\n  private _acceptVec: VeryVector3 = new VeryVector3();\r\n\r\n  private _blueFloat: VeryNumber = new VeryNumber();\r\n\r\n  private _blueVector1: VeryVector3 = new VeryVector3();\r\n  private _isVector1: boolean = true;\r\n  private _blueFloat1: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isVector1) {\r\n      this._acceptVec.value = (this._blueVector1.value).scale(this._blueFloat.value);\r\n    }\r\n    else {\r\n      this._acceptVec.value = new BABYLON.Vector3(this._blueFloat1[0].value, this._blueFloat1[1].value, this._blueFloat1[2].value).scale(this._blueFloat.value);\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVector1 = para1.isVec;\r\n      this._blueFloat1 = para1.vecNumbers;\r\n      this._blueVector1 = para1.vector3;\r\n\r\n      // 参数2:乘数\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueFloat = para2.number;\r\n\r\n      // 参数3:接收向量\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptVec = para3.vector3;\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Vector3_Operator extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Vector3_Operator|向量运算\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Vector3_Operator\";\r\n  }\r\n  //private enum OperatorType { Add, Angle, CrossProduct, Divide, Distance, DotProduct, Max, Min, Multiply, Project, Reflect, Substract, None }\r\n  //private OperatorType _currentType = OperatorType.None;\r\n  //private _typeDic = {};\r\n\r\n  private _currentType: string = \"\";\r\n\r\n  private _BlueVecSet: boolean = false;\r\n  private _BlueFloatSet: boolean = false;\r\n\r\n  private _isFloatOp: boolean = false;\r\n\r\n  private _resultVec: VeryVector3 = new VeryVector3();\r\n  private _resultFloat: VeryNumber = new VeryNumber();\r\n\r\n  private _isVec1: boolean = false;\r\n  private _vecUnit1: VeryVector3 = new VeryVector3();\r\n  private _vecFloat1: VeryNumber[] = [];\r\n\r\n  private _isVec2: boolean = false;\r\n  private _vecUnit2: VeryVector3 = new VeryVector3();\r\n  private _vecFloat2: VeryNumber[] = [];\r\n  private _float2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var vec1 = this._vecUnit1.value;\r\n    if (!this._isVec1) {\r\n      vec1 = new BABYLON.Vector3(this._vecFloat1[0].value, this._vecFloat1[1].value, this._vecFloat1[2].value);\r\n    }\r\n\r\n    var vec2 = this._vecUnit2.value;\r\n    if (!this._isVec2) {\r\n      vec2 = new BABYLON.Vector3(this._vecFloat2[0].value, this._vecFloat2[1].value, this._vecFloat2[2].value);\r\n    }\r\n\r\n    if (this._currentType == \"加法\") {\r\n      if (this._BlueVecSet) {\r\n        this._resultVec.value = vec1.add(vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"计算角度\") {\r\n      if (this._BlueFloatSet) {\r\n        //TODO:\r\n        //this._resultFloat.value = BABYLON.Vector3.GetAngleBetweenVectors(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"叉积\") {\r\n      if (this._BlueVecSet) {\r\n        this._resultVec.value = BABYLON.Vector3.Cross(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"距离\") {\r\n      if (this._BlueFloatSet) {\r\n        this._resultFloat.value = BABYLON.Vector3.Distance(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"除法\") {\r\n      if (this._BlueVecSet && this._float2.value != 0) {\r\n        this._resultVec.value = vec1.scale(1 / this._float2.value);\r\n      }\r\n    }\r\n    else if (this._currentType == \"点积\") {\r\n      if (this._BlueFloatSet) {\r\n        this._resultFloat.value = BABYLON.Vector3.Dot(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"最大值\") {\r\n      if (this._BlueVecSet) {\r\n        this._resultVec.value = BABYLON.Vector3.Maximize(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"最小值\") {\r\n      if (this._BlueVecSet) {\r\n        this._resultVec.value = BABYLON.Vector3.Minimize(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"乘法\") {\r\n      if (this._BlueVecSet) {\r\n        this._resultVec.value = vec1.scale(this._float2.value);\r\n      }\r\n    }\r\n    else if (this._currentType == \"投影\") {\r\n      if (this._BlueVecSet) {\r\n        //TODO:\r\n        //this._resultVec.value = BABYLON.Vector3.Project(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"反射\") {\r\n      if (this._BlueVecSet) {\r\n        //TODO:\r\n        //this._resultVec.value = BABYLON.Vector3.Reflect(vec1, vec2);\r\n      }\r\n    }\r\n    else if (this._currentType == \"减法\") {\r\n      if (this._BlueVecSet) {\r\n        this._resultVec.value = vec1.subtract(vec2);\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 5)) {\r\n      return false;\r\n    } else {\r\n      // 参数1:向量1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isVec1 = para1.isVec;\r\n      this._vecFloat1 = para1.vecNumbers;\r\n      this._vecUnit1 = para1.vector3;\r\n\r\n      // 参数2:计算\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._isFloatOp = true;\r\n        this._float2 = para2.number;\r\n      }\r\n      else {\r\n        this._isFloatOp = true;\r\n        this._isVec2 = para2.isVec;\r\n        this._vecFloat2 = para2.vecNumbers;\r\n        this._vecUnit2 = para2.vector3;\r\n      }\r\n\r\n      //参数3:\r\n      if (this._currentType != \"加法\" && this._currentType != \"计算角度\" &&\r\n        this._currentType != \"叉积\" && this._currentType != \"除法\" &&\r\n        this._currentType != \"距离\" && this._currentType != \"点积\" &&\r\n        this._currentType != \"最大值\" && this._currentType != \"最小值\" &&\r\n        this._currentType != \"乘法\" && this._currentType != \"投影\" &&\r\n        this._currentType != \"反射\" && this._currentType != \"减法\") {\r\n        console.error(this.ID + \" 响应传入参数格式错误，值为： \" + para_array[2] + \"，系统中没有该运算方式，请查看填写是否正确！\");\r\n        return false;\r\n      }\r\n      //第二个参数类型检查\r\n      if (this._currentType == \"除法\" || this._currentType == \"乘法\")  //第二个参数为float\r\n      {\r\n        if (!this._isFloatOp) {\r\n          console.error(this.ID + \" 响应传入参数格式错误，向量运算方式为： \" + para_array[2] + \"，对应的第2个参数应为float类型！\");\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        if (this._isFloatOp) {\r\n          console.error(this.ID + \" 响应传入参数格式错误，向量运算方式为： \" + para_array[2] + \"，对应的第2个参数应为Vector3类型！\");\r\n          return false;\r\n        }\r\n      }\r\n\r\n      // 参数4:接收向量\r\n      if (para_array[3].toLowerCase() == \"none\" || para_array[3].toLowerCase() == \"null\") {\r\n        this._BlueVecSet = false;\r\n      }\r\n      else {\r\n        this._BlueVecSet = true;\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._resultVec = para3.vector3;\r\n      }\r\n\r\n      // 参数5:接收number\r\n      if (para_array[4].toLowerCase() == \"none\" || para_array[4].toLowerCase() == \"null\") {\r\n        this._BlueFloatSet = false;\r\n      }\r\n      else {\r\n        this._BlueFloatSet = true;\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[4])) {\r\n          return false;\r\n        }\r\n        this._resultFloat = para4.number;\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//Vector3\r\nVE_Actions.addAction(Action_Vector3_Interpolate);\r\n\r\n//Vector3\r\nVE_Actions.addAction(Action_Vector3_Get_Value);\r\nVE_Actions.addAction(Action_Vector3_Get_Magnitude);\r\nVE_Actions.addAction(Action_Vector3_Set_Value);\r\nVE_Actions.addAction(Action_Vector3_Distance);\r\nVE_Actions.addAction(Action_Vector3_Normalize);\r\nVE_Actions.addAction(Action_Vector3_Clamp_Magnitude);\r\n//TODO:Test\r\nVE_Actions.addAction(Action_Vector3_Add);\r\nVE_Actions.addAction(Action_Vector3_Substract);\r\nVE_Actions.addAction(Action_Vector3_Invert);\r\nVE_Actions.addAction(Action_Vector3_Multiply);\r\nVE_Actions.addAction(Action_Vector3_Operator); //TODO:部分操作没实现","import { VE_ActionBehaviour, VE_Actions } from '../../action';\r\nimport { ParaParserUtility, ErrorInfo, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_Template } from '../../template';\r\nimport { VeryString, VeryGameObject, VeryVector3, VeryNumber, VeryBool, VarTools } from '../../variables';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { VE_Manager } from '../../manager';\r\nimport { GameObject } from '../../babylon';\r\nimport { VeryEngineObject } from '../../object';\r\n\r\nexport class Action_CreateTemplateInstance extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '创建模板对象|Create_Instance';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Action_CreateTemplateInstance';\r\n  };\r\n\r\n\r\n  private _template: Nullable<VE_Template> = null;\r\n  private _templateVarID: string = '';\r\n  // TODO: 派生模板实例化\r\n  private _deriveID: VeryString = new VeryString();\r\n  private _objectInfo: VeryString = new VeryString();\r\n  private _ref: VeryGameObject = new VeryGameObject();\r\n\r\n  private _position: VeryVector3 = new VeryVector3();\r\n  private _posX: VeryNumber = new VeryNumber();\r\n  private _posY: VeryNumber = new VeryNumber();\r\n  private _posZ: VeryNumber = new VeryNumber();\r\n  private _isPositionVec: boolean = true;\r\n\r\n  private _angle: VeryVector3 = new VeryVector3();\r\n  private _angleX: VeryNumber = new VeryNumber();\r\n  private _angleY: VeryNumber = new VeryNumber();\r\n  private _angleZ: VeryNumber = new VeryNumber();\r\n  private _isAngleVec: boolean = true;\r\n\r\n  private _destoryOnCreateNew: VeryBool = new VeryBool();\r\n\r\n\r\n\r\n  public active(): void {\r\n    if (this._template === null) return;\r\n    let errorInfo: ErrorInfo = new ErrorInfo();\r\n    let template: Nullable<VE_Template> = VE_Manager.templates(this.projectName).createInstance(this.objectID, this._templateVarID, this._template, this._objectInfo.value, errorInfo, this._destoryOnCreateNew.value);\r\n    if (template === null || template.templateInstance === null) {\r\n      console.error(this.ID + \" 响应 创建模板对象错误，错误原因：\" + errorInfo.message);\r\n      return;\r\n    }\r\n    if (this._ref.value !== null) {\r\n      if (this._isPositionVec) {\r\n        template.templateInstance.gameObject.transform.position = this._ref.value.transform.transformPosition(this._position.value);\r\n      }\r\n      else {\r\n        template.templateInstance.gameObject.transform.position = this._ref.value.transform.transformPosition(new BABYLON.Vector3(this._posX.value, this._posY.value, this._posZ.value));\r\n      }\r\n\r\n      let emptyAngle: GameObject = new GameObject(\"Angle__Empty\");\r\n      emptyAngle.transform.parent = this._ref.value.transform;\r\n      if (this._isAngleVec) {\r\n        emptyAngle.transform.localEulerAngles = this._angle.value;\r\n      }\r\n      else {\r\n        emptyAngle.transform.localEulerAngles = new BABYLON.Vector3(this._angleX.value, this._angleY.value, this._angleZ.value);\r\n      }\r\n      template.templateInstance.gameObject.transform.eulerAngles = emptyAngle.transform.eulerAngles;\r\n      GameObject.Destroy(emptyAngle);\r\n    }\r\n    else {\r\n      if (this._isPositionVec) {\r\n        template.templateInstance.gameObject.transform.position = this._position.value;\r\n      }\r\n      else {\r\n        template.templateInstance.gameObject.transform.position = new BABYLON.Vector3(this._posX.value, this._posY.value, this._posZ.value);\r\n      }\r\n\r\n      if (this._isAngleVec) {\r\n        template.templateInstance.gameObject.transform.eulerAngles = this._angle.value;\r\n      }\r\n      else {\r\n        template.templateInstance.gameObject.transform.eulerAngles = new BABYLON.Vector3(this._angleX.value, this._angleY.value, this._angleZ.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  // 1.变量\r\n  // 2.模板名\r\n  // 3.路径或模型名\r\n  // 4.参考系\r\n  // 5.位置\r\n  // 6.角度\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 6, 7)) {\r\n      return false;\r\n    } else {\r\n\r\n      // 参数1：模板变量（1）*模板变量；（2）对象名.*模板变量；\r\n      let errorInfo: ErrorInfo = new ErrorInfo();\r\n      this._templateVarID = para_array[0];\r\n      this._template = VarTools.GetTemplate(this.projectName, this.objectID, para_array[0], errorInfo);\r\n      if (this._template === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 传入参数格式错误，创建模板对象错误，模板对象：\" + para_array[0] + \"，错误原因： \" + errorInfo.message, '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数2： 模板名\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._deriveID = para2.string;\r\n\r\n      // 参数3： 预制件路径或模型名：（1）prefab路径；（2）空；（3）GameObject Name；\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._objectInfo = para3.string;\r\n\r\n      // 参数4： 参考物体\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._ref = para4.gameObject;\r\n\r\n      // 参数5： 位置\r\n      let para5: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[4])) {\r\n        return false;\r\n      }\r\n      this._isPositionVec = para5.isVec;\r\n      this._position = para5.vector3;\r\n      this._posX = para5.vecNumbers[0];\r\n      this._posY = para5.vecNumbers[1];\r\n      this._posZ = para5.vecNumbers[2];\r\n\r\n      // 参数6： 角度\r\n      let para6: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para6, para_array[5])) {\r\n        return false;\r\n      }\r\n      this._isAngleVec = para6.isVec;\r\n      this._angle = para6.vector3;\r\n      this._angleX = para6.vecNumbers[0];\r\n      this._angleY = para6.vecNumbers[1];\r\n      this._angleZ = para6.vecNumbers[2];\r\n\r\n      // 参数7： 是否销毁旧实例\r\n      if (para_array.length > 6) {\r\n        let para7: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para7, para_array[6])) {\r\n          return false;\r\n        }\r\n        this._destoryOnCreateNew = para7.bool;\r\n      } else {\r\n        this._destoryOnCreateNew.value = true;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\nexport class Action_DestroyTemplateInstance extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '删除模板对象|Destroy_Instance';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Action_DestroyTemplateInstance';\r\n  };\r\n\r\n  private _isInstance: boolean = true;\r\n  private _template: Nullable<VE_Template> = null;\r\n  private _instance: Nullable<VeryEngineObject> = null;\r\n  private _templateStr: string = \"\";\r\n\r\n  private _deleteAllTemplates: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n    if (this._isInstance) {\r\n      if (this._instance !== null) {\r\n        if (this._instance.template !== null) {\r\n          this._instance.template.unloadInstance(this._instance);\r\n          if (this._deleteAllTemplates.value) {\r\n            let instances: VeryEngineObject[] = this._instance.template.backupInstances;\r\n            if (instances) {\r\n              instances.forEach((value: VeryEngineObject) => {\r\n                value.unload();\r\n              });\r\n            }\r\n            this._instance.template.unload(true);\r\n          }\r\n        }\r\n        this._instance.unload();\r\n      }\r\n    }\r\n    else {\r\n      if (this._template === null || this._template.templateInstance === null) {\r\n        console.error(this.ID + \" 响应，模板变量：\" + this._templateStr + \"，当前模板变量未实例化创建，无法删除！\");\r\n        return;\r\n      }\r\n      if (this._deleteAllTemplates.value) {\r\n        let instances: VeryEngineObject[] = this._template.backupInstances;\r\n        if (instances) {\r\n          instances.forEach((value: VeryEngineObject) => {\r\n            value.unload();\r\n          });\r\n        }\r\n        this._template.unload(true);\r\n      } else {\r\n        this._template.templateInstance.unload();\r\n        this._template.unload();\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：待删除对象\r\n      if (para_array[0].toLowerCase() === \"this\") {\r\n        this._instance = this.veryObject;\r\n        this._isInstance = true;\r\n      }\r\n      else {\r\n        this._isInstance = false;\r\n        this._templateStr = para_array[0];\r\n        // *模板变量&对象名.*模板变量\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        this._template = VarTools.GetTemplate(this.projectName, this.objectID, para_array[0], errorInfo);\r\n        if (this._template === null) {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 模板变量获取错误，错误原因：\" + errorInfo.message + '，请检查！', '', Severity.Error));\r\n          return false;\r\n        }\r\n        //if (this._template.TemplateInstance == null)\r\n        //{\r\n        //    Debug.LogError(this.ID + \" 响应，模板变量：\" + para_array[0] + \"，当前模板变量未实例化创建，请检查！\");\r\n        //    return false;\r\n        //}\r\n        //this._instance = this._template.TemplateInstance;\r\n      }\r\n\r\n      if (para_array.length > 1) {\r\n        // 参数2： 是否删除模板对象之前所创建的所有实例\r\n        let para2: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._deleteAllTemplates = para2.bool;\r\n      } else {\r\n        this._deleteAllTemplates.value = false;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\n\r\nVE_Actions.addAction(Action_CreateTemplateInstance);\r\nVE_Actions.addAction(Action_DestroyTemplateInstance);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaType, ActionType } from \"../../enum\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { VeryBool, VeryNumber, VeryString } from \"../../variables\";\r\nimport { Time } from \"../../babylon\";\r\nimport { VE_CustomTriggerManager } from \"../../trigger\";\r\n\r\nexport class Action_Timer extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Timer|定时器\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Timer\";\r\n  }\r\n\r\n  private _switch: VeryBool = new VeryBool();\r\n\r\n  private _timerEvent: (() => void) | null = null;\r\n\r\n  // 是否支持多重激活，当有多个激活时，分别记录每个激活的时间\r\n  private _mutiple: VeryBool = new VeryBool();\r\n\r\n  private _totalTime: VeryNumber = new VeryNumber();\r\n\r\n  private _timer: VeryTimeControl[] = [];\r\n\r\n\r\n  public active(): void {\r\n    if (this._switch.value) {\r\n      this.timeSet();\r\n    }\r\n    else {\r\n      this._timer = [];\r\n    }\r\n  }\r\n\r\n  private timeSet(): void {\r\n    if (this._mutiple.value) {\r\n      let timer: VeryTimeControl = new VeryTimeControl(this._totalTime.value, Time.time);\r\n      this._timer.push(timer);\r\n    }\r\n    else {\r\n      if (this._timer.length == 0) {\r\n        let timer: VeryTimeControl = new VeryTimeControl(this._totalTime.value, Time.time);\r\n        this._timer.push(timer);\r\n      }\r\n      else {\r\n        this._timer[0].reset(this._totalTime.value, Time.time);\r\n      }\r\n    }\r\n  }\r\n\r\n  public update(): void {\r\n    if (this._timer.length > 0) {\r\n      for (let i: number = 0; i < this._timer.length; i++) {\r\n        if (this._timer[i].isTimesUp(Time.time)) {\r\n          if (this._timer.length > i) {\r\n            this._timer.splice(i, 1);\r\n            i--;\r\n          }\r\n          this.timesUp();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // 是否到时间\r\n  private timesUp(): void {\r\n    if (this._timerEvent !== null) {\r\n      this._timerEvent();\r\n      this.finish();\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：启动或者停止计时器\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._switch = para1.bool;\r\n\r\n      // 参数2：触发ID\r\n      let triggerArray: string[] = para_array[1].split(/,|，/);\r\n      for (let i: number = 0; i < triggerArray.length; i++) {\r\n        VE_CustomTriggerManager.ConnectCustomTrigger(this.projectName, this.objectID, triggerArray[i].trim(), this.setCallback.bind(this));\r\n      }\r\n\r\n      // 参数3：总时间\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._totalTime = para3.number;\r\n\r\n      if (para_array.length > 3) {\r\n        // 参数4： 多重激活，同时启动多个定时器；\r\n        let para4: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._mutiple = para4.bool;\r\n      } else {\r\n        this._mutiple.value = true;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  private setCallback(callback: () => void): void {\r\n    this._timerEvent = callback;\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n\r\n}\r\n\r\n\r\nexport class VeryTimeControl {\r\n  private _totalTime: number;\r\n  private _startTime: number;\r\n  private _timeRecorder: number;\r\n\r\n  public constructor(time: number, start_time: number) {\r\n    if (time < 0) {\r\n      time = 0;\r\n    }\r\n    this._totalTime = time;\r\n    this._startTime = start_time;\r\n    this._timeRecorder = 0;\r\n  }\r\n\r\n  public isTimesUp(current_time: number): boolean {\r\n    this._timeRecorder = current_time - this._startTime;\r\n\r\n    if (this._timeRecorder >= this._totalTime) {\r\n      return true;\r\n    }\r\n    else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  public reset(time: number, start_time: number): void {\r\n    if (time < 0) {\r\n      time = 0;\r\n    }\r\n    this._totalTime = time;\r\n    this._startTime = start_time;\r\n    this._timeRecorder = 0;\r\n  }\r\n}\r\n\r\n\r\nexport class Action_Wait extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Wait|等待\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Wait\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _waitTime: VeryNumber = new VeryNumber();\r\n\r\n  private _timer: number = 0;\r\n  private _switch: boolean = false;\r\n\r\n  public active(): void {\r\n    if (this._waitTime.value === 0) {\r\n      this.timesUp();\r\n    }\r\n    else {\r\n      this._switch = true;\r\n      this._timer = 0;\r\n    }\r\n  }\r\n\r\n  public update(): void {\r\n    if (this._switch) {\r\n      this._timer += Time.deltaTime;\r\n      if (this._timer > this._waitTime.value) {\r\n        this.timesUp();\r\n      }\r\n    }\r\n  }\r\n\r\n  public pause(): void {\r\n    this._switch = false;\r\n    super.pause();\r\n  }\r\n\r\n  public resume(): void {\r\n    this._switch = true;\r\n    super.resume();\r\n  }\r\n\r\n  public stop(): void {\r\n    this.timesUp();\r\n    super.stop();\r\n  }\r\n\r\n  private timesUp(): void {\r\n    this._switch = false;\r\n    this._timer = 0;\r\n    this.finish();\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：等待时间 \r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._waitTime = para1.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_Get_System_Data_Time extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Get_System_Data_Time|获取系统时间\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Get_System_Data_Time\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n  private _string: string = \"\";\r\n\r\n\r\n  public active(): void {\r\n  }\r\n  public onUpdate(): void {\r\n    var now = new Date();\r\n    if (this._string == \"\") {\r\n      this._blueString.value = (now.getFullYear() + \"/\" + now.getMonth() + \"/\" + now.getDay() + \" \" + now.getHours() + \":\" + now.getMinutes() + \":\" + now.getSeconds());\r\n    }\r\n    else {\r\n      try {\r\n        this._blueString.value = (now.getFullYear() + \"/\" + now.getMonth() + \"/\" + now.getDay() + \" \" + now.getHours() + \":\" + now.getMinutes() + \":\" + now.getSeconds());\r\n      }\r\n      catch\r\n      {\r\n        console.error(this.ID + \" 响应，传入参数格式错误： \" + this._string + \"，请填写正确的时间格式！\");\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      //参数2：格式\r\n      if (para_array.length > 1)\r\n        this._string = para_array[1];\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//Time\r\nVE_Actions.addAction(Action_Timer);\r\nVE_Actions.addAction(Action_Wait);\r\nVE_Actions.addAction(Action_Get_System_Data_Time);  //TODO:格式化\r\n//TODO:Test\r\n","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ActionType, ParaType, Severity } from \"../../enum\";\r\nimport { ParaParserUtility, VeryParas, FloatUitlity } from \"../../utility\";\r\nimport { VeryNumber, VeryBool } from \"../../variables\";\r\nimport { VE_ErrorManager, VE_Error } from \"../../global\";\r\nimport { Time } from \"../../babylon\";\r\nimport { Action_String_SubString } from \"./action-string\";\r\nimport { ACos } from \"src/veryengine/expression\";\r\n\r\nexport class Action_Float_Interpolate extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Interpolate|数值插值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Float_Interpolate\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _switch: boolean = false;\r\n  private _timer: number = 0;\r\n  private _isLinear: boolean = true;\r\n\r\n  private _startFloat: VeryNumber = new VeryNumber();\r\n  private _endFloat: VeryNumber = new VeryNumber();\r\n  private _timeFloat: VeryNumber = new VeryNumber();\r\n  private _resultFloat: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    if (this._timeFloat.value === 0) {\r\n      this.timesUp();\r\n    }\r\n    else {\r\n      this._timer = 0;\r\n      this._switch = true;\r\n    }\r\n  }\r\n\r\n  public pause(): void {\r\n    this._switch = false;\r\n    super.pause();\r\n  }\r\n\r\n  public resume(): void {\r\n    this._switch = true;\r\n    super.resume();\r\n  }\r\n\r\n  public stop(): void {\r\n    this.timesUp();\r\n    super.stop();\r\n  }\r\n\r\n  private timesUp(): void {\r\n    this._switch = false;\r\n    this._timer = 0;\r\n    this.finish();\r\n  }\r\n\r\n  public update(): void {\r\n    if (this._switch) {\r\n      this._timer += Time.deltaTime;\r\n      if (this._timer > this._timeFloat.value) {\r\n        this._switch = false;\r\n        this._timer = 0;\r\n        if (this._isLinear) {\r\n\r\n          this._resultFloat.value = FloatUitlity.Lerp(this._startFloat.value, this._endFloat.value, 1);\r\n        }\r\n        else {\r\n          this._resultFloat.value = FloatUitlity.SLerp(this._startFloat.value, this._endFloat.value, 1);\r\n        }\r\n        this.timesUp();\r\n      }\r\n      else {\r\n        if (this._isLinear) {\r\n          this._resultFloat.value = FloatUitlity.Lerp(this._startFloat.value, this._endFloat.value, this._timer / this._timeFloat.value);\r\n        }\r\n        else {\r\n          this._resultFloat.value = FloatUitlity.SLerp(this._startFloat.value, this._endFloat.value, this._timer / this._timeFloat.value);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 5)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：插值类型\r\n      if (para_array[0].toLowerCase() === \"linear\" || para_array[0] === \"线性\") {\r\n        this._isLinear = true;\r\n      }\r\n      else if (para_array[0].toLowerCase() === \"smooth\" || para_array[0] === \"圆滑\") {\r\n        this._isLinear = false;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 传入参数格式错误，应为Log、Warn或者Error，当前为： \" + para_array[0] + \"，请检查填入数据！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      // 参数2：起始值\r\n      let para2 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._startFloat = para2.number;\r\n\r\n      // 参数3：终止值\r\n      let para3 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._endFloat = para3.number;\r\n\r\n      // 参数4：持续时长\r\n      let para4 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._timeFloat = para4.number;\r\n\r\n      // 参数5：插值结果\r\n      let para5 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[4])) {\r\n        return false;\r\n      }\r\n      this._resultFloat = para5.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Float_Inverse_Interpolate extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Inverse_Interpolate|数值逆向插值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Float_Inverse_Interpolate\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _switch: boolean = false;\r\n  private _timer: number = 0;\r\n\r\n  private _startFloat: VeryNumber = new VeryNumber();\r\n  private _endFloat: VeryNumber = new VeryNumber();\r\n  private _timeFloat: VeryNumber = new VeryNumber();\r\n  private _resultFloat: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    if (this._timeFloat.value === 0) {\r\n      this.timesUp();\r\n    }\r\n    else {\r\n      this._timer = 0;\r\n      this._switch = true;\r\n    }\r\n  }\r\n\r\n  public pause(): void {\r\n    this._switch = false;\r\n    super.pause();\r\n  }\r\n\r\n  public resume(): void {\r\n    this._switch = true;\r\n    super.resume();\r\n  }\r\n\r\n  public stop(): void {\r\n    this.timesUp();\r\n    super.stop();\r\n  }\r\n\r\n  private timesUp(): void {\r\n    this._switch = false;\r\n    this._timer = 0;\r\n    this.finish();\r\n  }\r\n\r\n  public update(): void {\r\n    if (this._switch) {\r\n      this._timer += Time.deltaTime;\r\n      if (this._timer > this._timeFloat.value) {\r\n        this._switch = false;\r\n        this._timer = 0;\r\n        this._resultFloat.value = FloatUitlity.Lerp(this._endFloat.value, this._startFloat.value, 1);\r\n        this.timesUp();\r\n      }\r\n      else {\r\n        this._resultFloat.value = FloatUitlity.Lerp(this._endFloat.value, this._startFloat.value, this._timer / this._timeFloat.value);\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n\r\n      // 参数1：起始值\r\n      let para2 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._startFloat = para2.number;\r\n\r\n      // 参数2：终止值\r\n      let para3 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._endFloat = para3.number;\r\n\r\n      // 参数3：持续时长\r\n      let para4 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._timeFloat = para4.number;\r\n\r\n      // 参数4：插值结果\r\n      let para5 = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._resultFloat = para5.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Bool_Flip extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Bool_Flip|布尔值取反\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Bool_Flip\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueBool: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n    this._blueBool.value = !this._blueBool.value;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueBool = para1.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Random_Bool extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Random_Bool|随机布尔值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Random_Bool\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueBool: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n    this._blueBool.value = (Math.random() > 0.5);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueBool = para1.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Set_Bool extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Bool|设置布尔值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Bool\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueBool: VeryBool = new VeryBool();\r\n  private _blueBool2: VeryBool = new VeryBool();\r\n\r\n\r\n  public active(): void {\r\n    this._blueBool2.value = this._blueBool.value;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueBool = para1.bool;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueBool2 = para2.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Bool_Operator extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Bool_Operator|布尔值计算\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Bool_Operator\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueBool1: VeryBool = new VeryBool();\r\n  private _blueBool2: VeryBool = new VeryBool();\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _mode = \"\";\r\n\r\n  public active(): void {\r\n    if (this._mode == \"and\") {\r\n      this._resultBool.value = this._blueBool1.value && this._blueBool2.value;\r\n    }\r\n    else if (this._mode == \"or\") {\r\n      this._resultBool.value = this._blueBool1.value || this._blueBool2.value;\r\n    }\r\n    else if (this._mode == \"nand\") {\r\n      this._resultBool.value = !(this._blueBool1.value && this._blueBool2.value);\r\n    }\r\n    else if (this._mode == \"xor\") {\r\n      this._resultBool.value = !(this._blueBool1.value == this._blueBool2.value);\r\n    }\r\n    else if (this._mode == \"nor\") {\r\n      this._resultBool.value = !(this._blueBool1.value || this._blueBool2.value);\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueBool1 = para1.bool;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueBool2 = para2.bool;\r\n\r\n      // 参数3：\r\n      if (para_array[2].toLowerCase() == \"and\" || para_array[2] == \"与\") {\r\n        this._mode = \"and\";\r\n      }\r\n      else if (para_array[2].toLowerCase() == \"or\" || para_array[2] == \"或\") {\r\n        this._mode = \"or\";\r\n      }\r\n      else if (para_array[2].toLowerCase() == \"nand\" || para_array[2] == \"与非\") {\r\n        this._mode = \"nand\";\r\n      }\r\n      else if (para_array[2].toLowerCase() == \"xor\" || para_array[2] == \"异或\") {\r\n        this._mode = \"xor\";\r\n      }\r\n      else if (para_array[2].toLowerCase() == \"nor\" || para_array[2] == \"与或\") {\r\n        this._mode = \"nor\";\r\n      }\r\n      else {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[2] + \"，请参考填写说明！\");\r\n        return false;\r\n      }\r\n\r\n      // 参数4：\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._resultBool = para4.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Abs extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Abs|取绝对值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Abs\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = Math.abs(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para1.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Number_Add extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Add|数值加法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Add\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    //this._acceptNumber.value = this._blueNumber.value + this._blueNumber2.value;\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    this._acceptNumber.value = this._blueNumber.value + this._blueNumber2.value;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Mutiple_Add extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Mutiple_Add|多个数值加法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Mutiple_Add\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueFloatList: VeryNumber[] = [];\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = 0;\r\n    for (var i = 0; i < this._blueFloatList.length; i++) {\r\n      this._acceptNumber.value += this._blueFloatList[i].value;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      var strArray: string[] = para_array[0].split(/,|，/);\r\n      let para1: VeryParas = new VeryParas();\r\n      for (var i = 0; i < strArray.length; i++) {\r\n        strArray[i] = strArray[i].trim();\r\n        var tempFloat = new VeryNumber();\r\n        if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, strArray[i])) {\r\n          return false;\r\n        }\r\n        tempFloat = para1.number;\r\n        this._blueFloatList[this._blueFloatList.length] = (tempFloat);\r\n      }\r\n\r\n      // 参数2：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Clamp extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Clamp|数值限定\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Clamp\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _blueNumber3: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueNumber.value;\r\n    if (this._blueNumber.value < this._blueNumber2.value) {\r\n      this._acceptNumber.value = this._blueNumber2.value;\r\n    }\r\n    if (this._blueNumber.value > this._blueNumber3.value) {\r\n      this._acceptNumber.value = this._blueNumber3.value;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueNumber3 = para3.number;\r\n\r\n      // 参数4：\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para4.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Divide extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Divide|数值除法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Divide\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueNumber.value / this._blueNumber2.value;\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Multiply extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Multiply|数值乘法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Multiply\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueNumber.value * this._blueNumber2.value;\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Substract extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Substract|数值减法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Substract\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueNumber.value - this._blueNumber2.value;\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Min extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Min|数值最小值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Min\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueFloatList: VeryNumber[] = [];\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueFloatList[0].value;\r\n    for (var i = 1; i < this._blueFloatList.length; i++) {\r\n      if (this._blueFloatList[i].value < this._acceptNumber.value) {\r\n        this._acceptNumber.value = this._blueFloatList[i].value;\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      var strArray: string[] = para_array[0].split(/,|，/);\r\n      let para1: VeryParas = new VeryParas();\r\n      for (var i = 0; i < strArray.length; i++) {\r\n        strArray[i] = strArray[i].trim();\r\n        var tempFloat = new VeryNumber();\r\n        if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, strArray[i])) {\r\n          return false;\r\n        }\r\n        tempFloat = para1.number;\r\n        this._blueFloatList[this._blueFloatList.length] = (tempFloat);\r\n      }\r\n\r\n      // 参数2：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Number_Max extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Number_Max|数值最大值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Number_Max\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueFloatList: VeryNumber[] = [];\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueFloatList[0].value;\r\n    for (var i = 1; i < this._blueFloatList.length; i++) {\r\n      if (this._blueFloatList[i].value > this._acceptNumber.value) {\r\n        this._acceptNumber.value = this._blueFloatList[i].value;\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      var strArray: string[] = para_array[0].split(/,|，/);\r\n      let para1: VeryParas = new VeryParas();\r\n      for (var i = 0; i < strArray.length; i++) {\r\n        strArray[i] = strArray[i].trim();\r\n        var tempFloat = new VeryNumber();\r\n        if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, strArray[i])) {\r\n          return false;\r\n        }\r\n        tempFloat = para1.number;\r\n        this._blueFloatList[this._blueFloatList.length] = (tempFloat);\r\n      }\r\n\r\n      // 参数2：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Random_Number extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Random_Number|随机数值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Random_Number\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _acceptNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._acceptNumber.value = this._blueNumber.value + Math.random() * (this._blueNumber2.value - this._blueNumber.value);\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._acceptNumber = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Set_Number extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Number|设置数值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Number\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = this._blueNumber.value;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_ACos extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_ACos|反余弦\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_ACos\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.acos(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_ASin extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_ASin|反正弦\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_ASin\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.asin(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_ATan extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_ATan|反正切\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_ATan\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.atan(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_ATan2 extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_ATan2|反正切2\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_ATan2\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _blueNumber3: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber3.value = Math.atan2(this._blueNumber.value, this._blueNumber2.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueNumber3 = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Ceil extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Ceil|天花板值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Ceil\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.ceil(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Cos extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Cos|余弦\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Cos\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.cos(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Exp extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Exp|自然数指数计算\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Exp\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.exp(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Floor extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Floor|地板值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Floor\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.floor(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Log extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Log|普通对数\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Log\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _blueNumber3: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber3.value = Math.log(this._blueNumber.value) / Math.log(this._blueNumber2.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueNumber3 = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Log10 extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Log10|常用对数\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Log10\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.log(this._blueNumber.value) / Math.log(10);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Ln extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Ln|自然对数\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Ln\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.log(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Pow extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Pow|指数\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Pow\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n  private _blueNumber3: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber3.value = Math.pow(this._blueNumber.value, this._blueNumber2.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      // 参数3：\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueNumber3 = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Sin extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Sin|正弦\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Sin\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.sin(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Sqrt extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Sqrt|开根号\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Sqrt\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.sqrt(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Tan extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Tan|正切\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Tan\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.tan(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Degree_To_Radian extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Degree_To_Radian|角度转弧度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Degree_To_Radian\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = this._blueNumber.value / 180 * Math.PI;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Radian_To_Degree extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Radian_To_Degree|弧度转角度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Radian_To_Degree\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = this._blueNumber.value / Math.PI * 180;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Get_PI extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Get_PI|获取PI\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Get_PI\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber.value = Math.PI;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Math_Round extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Math_Round|圆整\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Math_Round\";\r\n  }\r\n\r\n  public get type(): ActionType {\r\n    return ActionType.Animation;\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n  private _blueNumber2: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    this._blueNumber2.value = Math.round(this._blueNumber.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      // 参数2：\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber2 = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//Number\r\nVE_Actions.addAction(Action_Float_Interpolate);\r\n//TODO:Test\r\n//Bool\r\nVE_Actions.addAction(Action_Bool_Flip);\r\nVE_Actions.addAction(Action_Bool_Operator);\r\nVE_Actions.addAction(Action_Random_Bool);\r\nVE_Actions.addAction(Action_Set_Bool);\r\n//Number\r\nVE_Actions.addAction(Action_Math_Abs);\r\nVE_Actions.addAction(Action_Number_Add);\r\nVE_Actions.addAction(Action_Number_Mutiple_Add);\r\nVE_Actions.addAction(Action_Number_Clamp);\r\nVE_Actions.addAction(Action_Number_Divide);\r\nVE_Actions.addAction(Action_Number_Multiply);\r\nVE_Actions.addAction(Action_Number_Substract);\r\nVE_Actions.addAction(Action_Number_Min);\r\nVE_Actions.addAction(Action_Number_Max);\r\nVE_Actions.addAction(Action_Random_Number);\r\nVE_Actions.addAction(Action_Set_Number);\r\nVE_Actions.addAction(Action_Float_Inverse_Interpolate);\r\n\r\n//Math\r\nVE_Actions.addAction(Action_Math_ACos);\r\nVE_Actions.addAction(Action_Math_ASin);\r\nVE_Actions.addAction(Action_Math_ATan);\r\nVE_Actions.addAction(Action_Math_ATan2);\r\nVE_Actions.addAction(Action_Math_Ceil);\r\nVE_Actions.addAction(Action_Math_Cos);\r\nVE_Actions.addAction(Action_Math_Exp);\r\nVE_Actions.addAction(Action_Math_Floor);\r\nVE_Actions.addAction(Action_Math_Log);\r\nVE_Actions.addAction(Action_Math_Log10);\r\nVE_Actions.addAction(Action_Math_Ln);\r\nVE_Actions.addAction(Action_Math_Pow);\r\nVE_Actions.addAction(Action_Math_Round);\r\nVE_Actions.addAction(Action_Math_Sin);\r\nVE_Actions.addAction(Action_Math_Sqrt);\r\nVE_Actions.addAction(Action_Math_Tan);\r\nVE_Actions.addAction(Action_Degree_To_Radian);\r\nVE_Actions.addAction(Action_Radian_To_Degree);\r\nVE_Actions.addAction(Action_Get_PI);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, VeryVector3 } from \"../../variables\";\r\n\r\nexport class Action_String_Get_Length extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_Get_Length|获取字符串长度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_Get_Length\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n  private _blueInt: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    this._blueInt.setValue(this._blueString.value.length);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      // 参数2：接收字符串的长度变量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueInt = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_String_Set_Value extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_Set_Value|字符串赋值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_Set_Value\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n  private _blueString2: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    this._blueString.setValue(this._blueString2.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串变量\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      // 参数2：接收字符串的长度\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueString2 = para2.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_String_Add extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_Add|字符串加法\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_Add\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n  private _stringArray: VeryString[] = [];\r\n\r\n  public active(): void {\r\n    var s: string = \"\";\r\n    for (var i = 0; i < this._stringArray.length; i++) {\r\n      s += this._stringArray[i].value;\r\n    }\r\n    this._blueString.setValue(s);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：待相加的字符串\r\n      var strArray: string[] = para_array[0].split(/,|，/);\r\n      for (var i = 0; i < strArray.length; i++) {\r\n        strArray[i] = strArray[i].trim();\r\n        var tempStr: VeryString = new VeryString();\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, strArray[i])) {\r\n          return false;\r\n        }\r\n        tempStr = para1.string;\r\n        this._stringArray[this._stringArray.length] = tempStr;\r\n      }\r\n\r\n      // 参数2：接收字符串的字符串变量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueString = para2.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_String_Replace extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_Replace|字符串替换\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_Replace\";\r\n  }\r\n\r\n  private _originString: VeryString = new VeryString();\r\n\r\n  private _blueString1: VeryString = new VeryString();\r\n\r\n  private _blueString2: VeryString = new VeryString();\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    var reg = new RegExp(this._blueString1.value, \"g\");\r\n    this._blueString.setValue(this._originString.value.replace(reg, this._blueString2.value));\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：原始字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._originString = para1.string;\r\n      // 参数2：被替换的字符串\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueString1 = para2.string;\r\n      // 参数3：替换字符串\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueString2 = para3.string;\r\n\r\n      // 参数4：接收字符串的字符串变量\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._blueString = para4.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_String_SubString extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_SubString|截取字符串\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_SubString\";\r\n  }\r\n\r\n  private _originString: VeryString = new VeryString();\r\n\r\n  private _index: VeryNumber = new VeryNumber();\r\n\r\n  private _length: VeryNumber = new VeryNumber();\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    if (this._length.value == -1) {\r\n      this._blueString.setValue(this._originString.value);\r\n    }\r\n    else {\r\n      try {\r\n        this._blueString.setValue(this._originString.value.substring(this._index.value, this._index.value + this._length.value));\r\n      }\r\n      catch\r\n      {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + \"参数2和参数3，可能是起始位置错误，可能是截取长度超出字符串长度，请检查！\");\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：原始字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._originString = para1.string;\r\n      // 参数2：截取开始的索引\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._index = para2.number;\r\n      // 参数3：截取长度\r\n      if (para_array[2].toLowerCase() == \"null\" || para_array[2].toLowerCase() == \"none\" || para_array[2] == \"-1\") {\r\n        this._length.setValue(-1);\r\n      }\r\n      else {\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._length = para3.number;\r\n      }\r\n\r\n      // 参数4：接收字符串的字符串变量\r\n      let para4: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._blueString = para4.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\n//String\r\nVE_Actions.addAction(Action_String_Get_Length);\r\nVE_Actions.addAction(Action_String_Set_Value);\r\nVE_Actions.addAction(Action_String_Add);\r\nVE_Actions.addAction(Action_String_Replace);\r\nVE_Actions.addAction(Action_String_SubString);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, VeryBool, VeryGameObject } from \"../../variables\";\r\nimport { GameObject } from \"../../babylon\";\r\n\r\nexport class Action_Set_Active extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Active|设置激活\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Active\";\r\n  }\r\n\r\n  private _obj: VeryGameObject = new VeryGameObject();\r\n  private _isActive: VeryBool = new VeryBool();\r\n  private _childActive: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n    if (this._obj.value != null) {\r\n      if (this._childActive.value) {\r\n        this.ActiveRecursion(this._obj.value.transform.transformNode, this._isActive.value);\r\n      }\r\n      else {\r\n        this._obj.value.transform.transformNode?.setEnabled(this._isActive.value);\r\n      }\r\n    }\r\n  }\r\n  private ActiveRecursion(obj: BABYLON.Nullable<BABYLON.TransformNode>, active: boolean) {\r\n    obj?.setEnabled(active);\r\n    if (obj != null && obj.getChildTransformNodes().length > 0) {\r\n      for (var i = 0; i < obj.getChildTransformNodes().length; i++) {\r\n        this.ActiveRecursion(obj.getChildTransformNodes()[i], active);\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：是否激活\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isActive = para1.bool;\r\n\r\n      // 参数2：物体\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._obj = para2.gameObject;\r\n\r\n      //参数3：是否设置子物体\r\n      if (para_array.length > 2) {\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._childActive = para3.bool;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Find extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Find|查找物体\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Find\";\r\n  }\r\n\r\n  private _objName: VeryString = new VeryString();\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n    this._blueObj.value = GameObject.Find(this._objName.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体名\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._objName = para1.string;\r\n\r\n      // 参数2:接收物体变量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para2.gameObject;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Destroy_Object extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Destroy_Object|删除物体\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Destroy_Object\";\r\n  }\r\n\r\n  private _blueDeleObj: VeryGameObject = new VeryGameObject();\r\n  private _time: VeryNumber = new VeryNumber();\r\n  private _childFlag: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n    if (this._time.value <= 0) {\r\n      if (this._childFlag.value) {\r\n        this.RemoveParent();\r\n        this.DestroyObj();\r\n      }\r\n      else {\r\n        this.DestroyObj();\r\n      }\r\n    }\r\n    else {\r\n      if (this._childFlag.value) {\r\n        this.RemoveParent();\r\n        setTimeout(() => {\r\n          this.DestroyObj();\r\n        }, this._time.value * 1000);\r\n      }\r\n      else {\r\n        setTimeout(() => {\r\n          this.DestroyObj();\r\n        }, this._time.value * 1000);\r\n      }\r\n    }\r\n  }\r\n\r\n  public RemoveParent() {\r\n    var obj = this._blueDeleObj.value?.transform.transformNode;\r\n    if (obj != null && obj.getChildTransformNodes().length > 0) {\r\n      for (var i = 0; i < obj.getChildTransformNodes().length; i++) {\r\n        obj.getChildTransformNodes()[i].setParent(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  public DestroyObj() {\r\n    if (this._blueDeleObj.value != null)\r\n      GameObject.Destroy(this._blueDeleObj.value);\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueDeleObj = para1.gameObject;\r\n\r\n      // 参数2：延迟时间\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._time = para2.number;\r\n      if (this._time.value < 0) {\r\n        this._time.value = 0;\r\n      }\r\n\r\n      // 参数3：是否保留子物体\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._childFlag = para3.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Find_Child extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Find_Child|查找子物体\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Find_Child\";\r\n  }\r\n\r\n  private _parentObj: VeryGameObject = new VeryGameObject();\r\n  private _childStr: VeryString = new VeryString();\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n\r\n\r\n  public active(): void {\r\n    this._blueObj.value = null;\r\n    if (this._parentObj.value != null) {\r\n      this.ChildRecursion(this._parentObj.value?.transform.transformNode, this._childStr.value);\r\n    }\r\n  }\r\n  private ChildRecursion(parent: BABYLON.Nullable<BABYLON.TransformNode>, child_name: string) {\r\n    if (parent == null) {\r\n      return;\r\n    }\r\n    if (parent.name == child_name) {\r\n      this._blueObj.value = GameObject.Find(child_name);\r\n      return;\r\n    }\r\n    if (parent != null && parent.getChildTransformNodes().length > 0) {\r\n      for (var i = 0; i < parent.getChildTransformNodes().length; i++) {\r\n        this.ChildRecursion(parent.getChildTransformNodes()[i], child_name);\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._parentObj = para1.gameObject;\r\n\r\n      // 参数2：物体\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._childStr = para2.string;\r\n\r\n      // 参数1：物体\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para3.gameObject;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Get_GameObject_Distance extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Get_GameObject_Distance|计算物体距离\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Get_GameObject_Distance\";\r\n  }\r\n\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n  private _blueObj2: VeryGameObject = new VeryGameObject();\r\n  private _blueFloat: VeryNumber = new VeryNumber();\r\n\r\n\r\n  public active(): void {\r\n    var tmpNode1 = this._blueObj.value?.transform.transformNode;\r\n    var tmpNode2 = this._blueObj2.value?.transform.transformNode;\r\n    if (tmpNode1 != null && tmpNode1 != undefined && tmpNode2 != null && tmpNode2 != undefined) {\r\n      this._blueFloat.value = BABYLON.Vector3.Distance(tmpNode1.getAbsolutePosition(), tmpNode2.getAbsolutePosition());\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para1.gameObject;\r\n\r\n      // 参数2：物体\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueObj2 = para2.gameObject;\r\n\r\n      // 参数3：接收距离变量\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueFloat = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Get_Name extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Get_Name|获取名字\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Get_Name\";\r\n  }\r\n\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n  private _blueName: VeryString = new VeryString();\r\n\r\n\r\n  public active(): void {\r\n    if (this._blueObj.value == null) {\r\n      console.error(this.ID + \" 响应中传入的物体为空！\");\r\n    }\r\n    else {\r\n      this._blueName.value = this._blueObj.value.name;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para1.gameObject;\r\n\r\n      // 参数2：物体名\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueName = para2.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Action_Set_Name extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Name|设置名字\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Name\";\r\n  }\r\n\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n  private _blueName: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    if (this._blueObj.value != null) {\r\n      this._blueObj.value.name = this._blueName.value;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para1.gameObject;\r\n\r\n      // 参数2：物体名\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueName = para2.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Get_Owner extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Get_Owner|获取脚本宿主\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Get_Owner\";\r\n  }\r\n\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n\r\n  public active(): void {\r\n    this._blueObj.value = this.gameObject;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para1.gameObject;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Get_LayerID extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Get_LayerID|获取层\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Get_LayerID\";\r\n  }\r\n\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n  private _blueInt: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    if (this._blueObj.value?.mesh != null)\r\n      this._blueInt.value = this._blueObj.value.mesh.layerMask;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para1.gameObject;\r\n\r\n      // 参数2：层级\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueInt = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Set_Layer extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Layer|设置层\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Layer\";\r\n  }\r\n\r\n  private _blueObj: VeryGameObject = new VeryGameObject();\r\n  private _blueInt: VeryNumber = new VeryNumber();\r\n  private _setChild: VeryBool = new VeryBool();\r\n\r\n\r\n  public active(): void {\r\n    if (this._blueObj.value?.mesh != null) {\r\n      if (this._setChild.value) {\r\n        this.Recursion(this._blueObj.value.mesh, this._blueInt.value);\r\n      }\r\n      else {\r\n        this._blueObj.value.mesh.layerMask = this._blueInt.value;\r\n      }\r\n    }\r\n  }\r\n\r\n  private Recursion(obj: BABYLON.AbstractMesh, layer: number) {\r\n    obj.layerMask = layer;\r\n    if (obj.getChildMeshes().length > 0) {\r\n      for (var i = 0; i < obj.getChildMeshes().length; i++) {\r\n        this.Recursion(obj.getChildMeshes()[i], layer);\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2, 3)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：物体\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueObj = para1.gameObject;\r\n\r\n      // 参数2：层级\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueInt = para2.number;\r\n\r\n      //参数3：是否设置子物体\r\n      if (para_array.length > 2) {\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._setChild = para3.bool;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//String\r\nVE_Actions.addAction(Action_Get_GameObject_Distance);\r\nVE_Actions.addAction(Action_Get_Name);\r\nVE_Actions.addAction(Action_Set_Name);\r\nVE_Actions.addAction(Action_Set_Active);\r\nVE_Actions.addAction(Action_Find);\r\nVE_Actions.addAction(Action_Destroy_Object);\r\nVE_Actions.addAction(Action_Get_Owner);\r\nVE_Actions.addAction(Action_Get_LayerID);\r\nVE_Actions.addAction(Action_Set_Layer);\r\n//TODO:Test\r\nVE_Actions.addAction(Action_Find_Child);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas, ErrorInfo } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, IVeryVar, VeryBool, VarTools } from \"../../variables\";\r\n\r\nexport class Action_String_To_Bool extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_To_Bool|字符串转布尔值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_To_Bool\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n  private _blueBool: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    try {\r\n      this._blueBool.value = Boolean(this._blueString.value);\r\n    }\r\n    catch\r\n    {\r\n      console.error(this.ID + \" 响应传入参数格式错误： \" + this._blueString.value + \"，请检查填入数据！\");\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      // 参数2：接收bool变量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueBool = para2.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_String_To_Number extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"String_To_Number|字符串转数值\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_String_To_Number\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    try {\r\n      this._blueNumber.value = Number(this._blueString.value);\r\n    }\r\n    catch\r\n    {\r\n      console.error(this.ID + \" 响应传入参数格式错误： \" + this._blueString.value + \"，请检查填入数据！\");\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      // 参数2：接收number变量\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para2.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_To_String extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"To_String|转字符串\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_To_String\";\r\n  }\r\n\r\n  private _isBlueVar = false;\r\n  private _str = \"\";\r\n  private _iBlueVar: Nullable<IVeryVar> = null;\r\n  private _blueString: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isBlueVar && this._iBlueVar != null) {\r\n      this._blueString.value = this._iBlueVar.getValue();\r\n    }\r\n    else {\r\n      this._blueString.value = this._str;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：\r\n      if (VarTools.IsVarID(para_array[0])) {\r\n        this._isBlueVar = true;\r\n        let errorInfo: ErrorInfo = new ErrorInfo();\r\n        let veryVar: Nullable<IVeryVar> = VarTools.GetVeryVarWithExpression(this.projectName, this.objectID, para_array[0], errorInfo);\r\n        if (veryVar == null) {\r\n          console.error(this.ID + \" 响应 传入参数错误，变量：\" + para_array[0] + \"，\" + errorInfo);\r\n        }\r\n        else {\r\n          this._iBlueVar = veryVar;\r\n        }\r\n      }\r\n      else {\r\n        this._str = para_array[0];\r\n        this._isBlueVar = false;\r\n      }\r\n\r\n      // 参数2：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//Convert\r\n//TODO:Test\r\nVE_Actions.addAction(Action_String_To_Bool);\r\nVE_Actions.addAction(Action_String_To_Number);\r\nVE_Actions.addAction(Action_To_String);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas, ErrorInfo } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, IVeryVar, VeryBool, VarTools } from \"../../variables\";\r\n\r\nexport class Action_Screen_Width extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Screen_Width|获取屏幕宽度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Screen_Width\";\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var renderCanvas = document.getElementById(\"renderCanvas\");\r\n    if (renderCanvas != null && renderCanvas != undefined)\r\n      this._blueNumber.value = renderCanvas.clientWidth;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Screen_Height extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Screen_Height|获取屏幕高度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Screen_Height\";\r\n  }\r\n\r\n  private _blueNumber: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var renderCanvas = document.getElementById(\"renderCanvas\");\r\n    if (renderCanvas != null && renderCanvas != undefined)\r\n      this._blueNumber.value = renderCanvas.clientHeight;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueNumber = para1.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Open_URL extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Open_URL|打开网页\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Open_URL\";\r\n  }\r\n\r\n  private _URL: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    window.open(this._URL.value);\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._URL = para1.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Quit extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Quit|退出程序\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Quit\";\r\n  }\r\n\r\n  private _URL: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    window.close();\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    return true;\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//Convert\r\nVE_Actions.addAction(Action_Open_URL);\r\n//TODO:Firefox里面需要通过about:config将allow_scripts_to_close_windows设置成true才有效\r\nVE_Actions.addAction(Action_Quit);\r\n//TODO:渲染BabylonJS的Canvas名字不一定是renderCanvas\r\nVE_Actions.addAction(Action_Screen_Width);\r\nVE_Actions.addAction(Action_Screen_Height);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { UGUI_Tools } from \"../trigger\";\r\nimport { ParaParserUtility, VeryParas, ErrorInfo } from \"../../utility\";\r\nimport { ParaType, Severity } from \"../../enum\";\r\nimport { VeryNumber, VeryString, IVeryVar, VeryBool, VarTools, VeryVector3, VeryVector2 } from \"../../variables\";\r\nimport { GUIManager, VE_Error, VE_ErrorManager } from \"../../../veryengine/global\";\r\n\r\n\r\nexport class Action_GUI_Control extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Control|GUI_Combination|GUI控制|GUI组合\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_GUI_Control\";\r\n    }\r\n\r\n\r\n    private _controlStr: VeryString = new VeryString();\r\n\r\n    //记录Panel的ID及对应的UI物体\r\n    private _panelModule: { [key: string]: BABYLON.GUI.Control[] } = {};\r\n    // 记录上次操作 父层对应的子层       如：112 =>  <11,112>\r\n    private _currentLevelID: { [key: string]: string } = {};\r\n    //从0变成非0时使用，记录是物体消失前的状态   父层----子层\r\n    private _zeroNotesID: { [key: string]: string } = {};\r\n    //当前完整的ID\r\n    private _currentTotalID: string = \"\";\r\n    //标准ID的长度\r\n    private _length: number = -1;\r\n    //最大个数,最小个数用于循环\r\n    private _max: { [key: string]: number } = {};\r\n    private _min: { [key: string]: number } = {};\r\n    //导航条 情况没有分析完全，暂不处理，待补充\r\n    private _navigationInf: string[] = [];\r\n    private _navigationPoint: number = 0;\r\n    private _switch: string = \"\";\r\n\r\n\r\n\r\n    public active(): void {\r\n        this._switch = this._controlStr.getValue().toString();\r\n        let loopNumber: number;\r\n        let isSpecial: boolean;\r\n        let para = {\r\n            state_input: this._switch,\r\n            number: 0,\r\n            is_special: true\r\n        }\r\n        if (!this.DealInputRequirements(para)) {\r\n            console.error(this.ID + \" 响应，状态表里，使响应值变成\" + this._switch + \"，发生错误，长度不符合要求或者循环增量不符合要求！\");\r\n            return;\r\n        }\r\n        this._switch = para.state_input;\r\n        loopNumber = para.number;\r\n        isSpecial = para.is_special;\r\n        let tagString = this._switch.substring(0, this._length - 1);\r\n        let lastNumber = this._switch[this._length - 1];\r\n        if (lastNumber === '=') {\r\n            if (this._currentLevelID[tagString]) {\r\n                this.SetActive(this._panelModule[this._currentTotalID], false);\r\n                this._currentTotalID = this._currentLevelID[tagString];\r\n                this.SetActive(this._panelModule[this._currentTotalID], true);\r\n            }\r\n        }\r\n\r\n        else if (lastNumber == '<') {\r\n            if (this._currentLevelID[tagString] && this._currentLevelID[tagString][this._length - 1] === '0') {\r\n                this.SetActive(this._panelModule[this._currentTotalID], false);\r\n                this._currentLevelID[tagString] = this._zeroNotesID[tagString];\r\n                this._currentTotalID = this._zeroNotesID[tagString];\r\n                this.RecordNavigationInf(this._currentTotalID);\r\n                this.SetActive(this._panelModule[this._currentTotalID], true);\r\n            }\r\n        }\r\n\r\n        else if (lastNumber === '+') {\r\n            this.SetActive(this._panelModule[this._currentTotalID], false);\r\n            this._currentTotalID = this.PlusLoop(this._currentTotalID, loopNumber);\r\n            this.RecordNavigationInf(this._currentTotalID);\r\n            this._currentLevelID[tagString] = this._currentTotalID;\r\n            this.SetActive(this._panelModule[this._currentTotalID], true);\r\n\r\n        }\r\n        else if (lastNumber === '-') {\r\n            this.SetActive(this._panelModule[this._currentTotalID], false);\r\n            this._currentTotalID = this.MinusLoop(this._currentTotalID, loopNumber);\r\n            this.RecordNavigationInf(this._currentTotalID);\r\n            this._currentLevelID[tagString] = this._currentTotalID;\r\n            this.SetActive(this._panelModule[this._currentTotalID], true);\r\n        }\r\n        else if (lastNumber === ')') {\r\n            if (this._navigationPoint < this._navigationInf.length - 1) {\r\n                this.SetActive(this._panelModule[this._currentTotalID], false);\r\n                let oldID = this._currentTotalID;\r\n                this._navigationPoint++;\r\n                this._currentTotalID = this._navigationInf[this._navigationPoint];\r\n                this._currentLevelID[this._currentTotalID.substring(0, this._length - 1)] = this._currentTotalID;\r\n                if (this._currentTotalID[this._length - 1] === '0' && oldID.startsWith(this._currentTotalID.substring(0, this._length - 1)))\r\n                    this._zeroNotesID[this._currentTotalID.substring(0, this._length - 1)] = this._currentTotalID;\r\n                this.SetActive(this._panelModule[this._currentTotalID], true);\r\n            }\r\n        }\r\n        else if (lastNumber === '(') {\r\n            if (this._navigationPoint !== 0) {\r\n                this.SetActive(this._panelModule[this._currentTotalID], false);\r\n                let oldID = this._currentTotalID;\r\n                this._navigationPoint--;\r\n                this._currentTotalID = this._navigationInf[this._navigationPoint];\r\n                this._currentLevelID[this._currentTotalID.substring(0, this._length - 1)] = this._currentTotalID;\r\n                if (this._currentTotalID[this._length - 1] === '0' && oldID.startsWith(this._currentTotalID.substring(0, this._length - 1)))\r\n                    this._zeroNotesID[this._currentTotalID.substring(0, this._length - 1)] = this._currentTotalID;\r\n                this.SetActive(this._panelModule[this._currentTotalID], true);\r\n            }\r\n        } else {\r\n            if (this.PanelContainsKey(this._switch) && this._switch !== this._currentTotalID) {\r\n                if (isSpecial) {\r\n                    this._currentLevelID[tagString] = this._switch;\r\n                } else {\r\n                    this.SetActive(this._panelModule[this._currentTotalID], false);\r\n                    this._currentLevelID[tagString] = this._switch;\r\n                    this.RecordNavigationInf(this._currentTotalID);\r\n                    if (lastNumber === '0' && this._currentTotalID.startsWith(tagString))\r\n                        this._zeroNotesID[tagString] = this._currentTotalID;\r\n                    this._currentTotalID = this._switch;\r\n                    this.SetActive(this._panelModule[this._currentTotalID], true);\r\n                }\r\n            }\r\n        }\r\n        this._controlStr.setValue(this._currentTotalID);\r\n    }\r\n\r\n    private DealInputRequirements(data: any): boolean {\r\n        data.number = 1;\r\n        data.is_special = false;\r\n        if (data.state_input === \")\" || data.state_input === \"(\") {\r\n            for (let i = 0; i < this._length - 1; i++) {\r\n                data.state_input = \"0\" + data.state_input;\r\n            }\r\n            return true;\r\n        } else if (data.state_input.length > this._length) {\r\n            if (data.state_input.startsWith(\"@\")) {\r\n                data.is_special = true;\r\n                data.state_input = data.state_input.substring(1);\r\n            }\r\n            else if (data.state_input[this._length - 1] === '+' || data.state_input[this._length - 1] === '-') {\r\n                let numberStr = data.state_input.substring(this._length);\r\n                var n = parseInt(numberStr);\r\n                if (isNaN(n)) {\r\n                    return false;\r\n                }\r\n                data.number = n;\r\n                data.state_input = data.state_input.substring(0, this._length);\r\n                return true;\r\n            }\r\n            else\r\n                return false;\r\n        }\r\n        if (data.state_input.length === this._length)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\n    private RecordNavigationInf(current_id: string): void {\r\n        if (this._navigationPoint < this._navigationInf.length - 1) {\r\n            for (let i = this._navigationPoint + 1; i < this._navigationInf.length; i++) {\r\n                this._navigationInf.splice(this._navigationPoint + 1, 1);\r\n            }\r\n        }\r\n        this._navigationInf.push(current_id);\r\n        this._navigationPoint = this._navigationInf.length - 1;\r\n    }\r\n\r\n    private PanelContainsKey(current_id: string): boolean {\r\n        return this._panelModule[current_id] ? true : false;\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (para_array.length < 3) {\r\n            VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应 需要大于等于3个传入参数，当前参数个数为\" + para_array.length.toString() + \"个，请检查！\", '', Severity.Error));\r\n            return false;\r\n        } else {\r\n\r\n            // 第1个参数转化  GUI组控制string变量\r\n            let para1: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n                return false;\r\n            }\r\n            this._controlStr = para1.string;\r\n\r\n            // 第2个参数转化  Canvas组件\r\n            let canvasStr = para_array[1].split(/,|，/);\r\n            for (let i = 0, len = canvasStr.length; i < len; i++) {\r\n                canvasStr[i] = canvasStr[i].trim();\r\n                if (!GUIManager.isCreatedCanvas(canvasStr[i])) {\r\n                    VE_ErrorManager.Add(new VE_Error('', this.ID + \" 响应传入参数 2D画布名： \" + canvasStr[i] + \"，该2D界面元素在场景中无法找到！\", '', Severity.Error));\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // 其他参数转化  UGUI分组\r\n            // 后面参数转化\r\n            for (let i = 2, len = para_array.length; i < len; i++) {\r\n                // 去掉Excel表的回车键\r\n                para_array[i] = para_array[i].replace(/\\n/g, '');\r\n                let panelID = para_array[i].split(/:|：/);\r\n                if (panelID.length !== 2) {\r\n                    VE_ErrorManager.Add(new VE_Error('', this.ID + ' 响应传入参数格式错误，UI元素键值： ' + para_array[i] + '，应为（id：UI元素1，UI元素2，...）的形式！', '', Severity.Error));\r\n                    return false;\r\n                }\r\n\r\n                // 判断字符串是否为数字和字母组合  \r\n                var condition1 = /^[0-9a-zA-Z]*$/;\r\n                if (!condition1.test(panelID[0])) {\r\n                    VE_ErrorManager.Add(new VE_Error('', this.ID + ' 响应传入参数格式错误: ' + para_array[i] + \"的ID：\" + panelID[0] + \"，应只包含数字或者字母！\", '', Severity.Error));\r\n                    return false;\r\n                }\r\n\r\n                // Panel 的id识别（111的识别）\r\n                if (!this._panelModule[panelID[0]]) {\r\n                    this._panelModule[panelID[0]] = [];\r\n\r\n                    // Debug.Log(panelStr[0]);\r\n                    if (this._length == -1) {\r\n                        this._length = panelID[0].length;\r\n                    }\r\n                    else if (this._length != panelID[0].length) {\r\n                        VE_ErrorManager.Add(new VE_Error('', this.ID + ' 响应传入参数格式错误: ' + panelID[0] + \"，字符串长度与之前不一致！\", '', Severity.Error));\r\n                        return false;\r\n                    }\r\n                    // 去掉最后一个数字的标记字符串\r\n                    let tagString = panelID[0].substring(0, this._length - 1);\r\n                    let lastNumber = this.ConversionCharToIndex(panelID[0][this._length - 1]);  // 将最后一个字符转化为ASCII码int值\r\n                    if (!this._panelModule[tagString + \"0\"])\r\n                        this._panelModule[tagString + \"0\"] = [];\r\n\r\n                    // 获取最大数值，用于循环处理\r\n                    if (!this._max[tagString])\r\n                        this._max[tagString] = lastNumber;\r\n                    else if (this._max[tagString] < lastNumber)\r\n                        this._max[tagString] = lastNumber;\r\n                    // 获取最小数值，用于设置默认状态\r\n                    if (!this._min[tagString]) {\r\n                        if (lastNumber != 0) {\r\n                            this._zeroNotesID[tagString] = tagString + this.ConversionIndexToStr(lastNumber);\r\n                            this._min[tagString] = lastNumber;\r\n                        }\r\n                        if (!this._currentLevelID[tagString])\r\n                            this._currentLevelID[tagString] = tagString + this.ConversionIndexToStr(lastNumber);\r\n                    }\r\n\r\n                    else if (this._min[tagString] > lastNumber) {\r\n                        if (lastNumber != 0) {\r\n                            this._min[tagString] = lastNumber;\r\n                            this._zeroNotesID[tagString] = tagString + this.ConversionIndexToStr(lastNumber);\r\n                        }\r\n                        this._currentLevelID[tagString] = tagString + this.ConversionIndexToStr(lastNumber);\r\n                    }\r\n                } else {\r\n                    // 考虑要不要报错，同时写了2个一样的\r\n                    console.warn(this.ID + \" 响应传入参数错误：\" + panelID[0] + \"，该ID已存在,不允许重复命名！\");\r\n                    continue;\r\n                }\r\n                let panelStr = panelID[1].split(/,|，/);\r\n\r\n                // 找到Gameobject进行匹配记录\r\n                for (let j = 0; j < panelStr.length; j++) {\r\n                    if (panelStr[j] == \"\")\r\n                        continue;\r\n                    let panelObj: Nullable<BABYLON.GUI.Control> = null;\r\n                    let isSingleName = (panelStr[j].split(GUIManager.STATE_SEPARATOR).length == 1);\r\n                    for (let k = 0; k < canvasStr.length; k++) {\r\n                        if (isSingleName) {\r\n                            panelObj = GUIManager.GetUGUIGameObejctSingleName(canvasStr[k], panelStr[j]);\r\n                        }\r\n                        else {\r\n                            panelObj = GUIManager.GetUGUIGameObejctFullname(canvasStr[k], panelStr[j]);\r\n                        }\r\n                        if (panelObj !== null) {\r\n                            this._panelModule[panelID[0]].push(panelObj);\r\n                            break;\r\n                        }\r\n                    }\r\n                    if (panelObj === null) {\r\n                        console.error(this.ID + \" 响应传入参数格式错误:\" + panelStr[j] + \"，物体在场景中无法找到，请查看填写是否正确！\");\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // 初始化\r\n            this._currentTotalID = this._controlStr.value;\r\n            this._currentLevelID[this._currentTotalID.substring(0, this._length - 1)] = this._currentTotalID;\r\n            for (let key in this._panelModule) {\r\n                if (this._currentTotalID != key)\r\n                    this.SetActive(this._panelModule[key], false);\r\n            }\r\n            if (this._panelModule[this._currentTotalID]) {\r\n                this.SetActive(this._panelModule[this._currentTotalID], true);\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    private SetActive(panel_objs: BABYLON.GUI.Control[], is_show: boolean): void {\r\n        for (let i = 0; i < panel_objs.length; i++) {\r\n            panel_objs[i].isVisible = is_show;\r\n        }\r\n    }\r\n\r\n    private PlusLoop(current_id: string, plus_number: number = 1): string {\r\n        let lastNumber = this.ConversionCharToIndex(current_id[this._length - 1]);\r\n        let lastNumberStr = \"\";\r\n        if (lastNumber === 0)\r\n            return current_id;\r\n        current_id = current_id.substring(0, this._length - 1);\r\n        while (true) {\r\n            lastNumber += plus_number;\r\n            if (lastNumber > this._max[current_id])\r\n                lastNumber = this._min[current_id] + lastNumber - this._max[current_id] - 1;\r\n            lastNumberStr = this.ConversionIndexToStr(lastNumber);\r\n            if (this.PanelContainsKey(current_id + lastNumberStr))\r\n                break;\r\n        }\r\n        return current_id + lastNumberStr;\r\n    }\r\n\r\n    private MinusLoop(current_id: string, minus_number: number = 1): string {\r\n        let lastNumber = this.ConversionCharToIndex(current_id[this._length - 1]);\r\n        let lastNumberStr = \"\";\r\n        if (lastNumber === 0)\r\n            return current_id;\r\n        current_id = current_id.substring(0, this._length - 1);\r\n        while (true) {\r\n            lastNumber -= minus_number;\r\n            if (lastNumber < this._min[current_id])\r\n                lastNumber = this._max[current_id] - (this._min[current_id] - lastNumber - 1);\r\n            lastNumberStr = this.ConversionIndexToStr(lastNumber);\r\n            if (this.PanelContainsKey(current_id + lastNumberStr))\r\n                break;\r\n        }\r\n        return current_id + lastNumberStr;\r\n    }\r\n\r\n    private ConversionIndexToStr(index: number): string {\r\n        if (index < 10)\r\n            return index.toString();\r\n        else if (index < 36)\r\n            return String.fromCharCode(index + 87);  // 'a' ((char)(index + 87)).ToString();\r\n        else if (index < 62)\r\n            return String.fromCharCode(index + 29);  // ((char)(index + 29)).ToString();\r\n        else {\r\n            console.warn(this.ID + \" 响应，输入下标超出范围，请与程序猿联系！\");\r\n            return \"null\";\r\n        }\r\n    }\r\n\r\n    private ConversionCharToIndex(char_index: string): number {\r\n        let index = char_index.charCodeAt(0);\r\n        if (96 < index && index < 123) {\r\n            return index - 87;\r\n        } else if (index > 64 && index < 91) {\r\n            return index - 29;\r\n        } else {\r\n            return index - 48;\r\n        }\r\n    }\r\n\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nexport class Action_UGUI_Set_Text extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Set_Text|设置GUI文字\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_UGUI_Set_Text\";\r\n    }\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n    private _TextBlock: BABYLON.GUI.TextBlock = new BABYLON.GUI.TextBlock();\r\n    private _InputText: BABYLON.GUI.InputText = new BABYLON.GUI.InputText();\r\n    private _uiType = \"\";\r\n\r\n    private _blueString: VeryString = new VeryString();\r\n    private _blueNumber: VeryNumber = new VeryNumber();\r\n    private _type: string = \"\";\r\n\r\n    public active(): void {\r\n\r\n    }\r\n\r\n    public onUpdate(): void {\r\n        if (this._type == \"float\") {\r\n            if (this._uiType == \"TextBlock\") {\r\n                this._TextBlock.text = String(this._blueNumber.value);\r\n            }\r\n            else if (this._uiType == \"InputText\") {\r\n                this._InputText.text = String(this._blueNumber.value);\r\n            }\r\n\r\n        }\r\n        else {\r\n            if (this._uiType == \"TextBlock\") {\r\n                this._TextBlock.text = this._blueString.value;\r\n            }\r\n            else if (this._uiType == \"InputText\") {\r\n                this._InputText.text = this._blueString.value;\r\n            }\r\n        }\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n            return false;\r\n        } else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错,UI不存在--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n                if (this._control.typeName == \"TextBlock\") {\r\n                    this._TextBlock = <BABYLON.GUI.TextBlock>this._control;\r\n                    this._uiType = \"TextBlock\";\r\n                }\r\n                else if (this._control.typeName == \"InputText\") {\r\n                    this._InputText = <BABYLON.GUI.InputText>this._control;\r\n                    this._uiType = \"InputText\";\r\n                }\r\n                else if (this._control.typeName == \"Button\") {\r\n                    var _Button = <BABYLON.GUI.Button>this._control;\r\n                    if (_Button.textBlock != null) {\r\n                        this._TextBlock = _Button.textBlock;\r\n                        this._uiType = \"TextBlock\";\r\n                    }\r\n                }\r\n                if (this._uiType == \"\") {\r\n                    console.error(this.ID + \"--响应参数出错,UI类型不支持设置文字--\" + para_array[0]);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // 参数2：接收bool变量\r\n            let para2: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n                if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n                    return false;\r\n                }\r\n                else {\r\n                    this._blueNumber = para2.number;\r\n                    this._type = \"number\";\r\n                }\r\n            }\r\n            else {\r\n                this._blueString = para2.string;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_UGUI_Get_Text extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Get_Text|获取GUI文字\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_UGUI_Get_Text\";\r\n    }\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n    private _TextBlock: BABYLON.GUI.TextBlock = new BABYLON.GUI.TextBlock();\r\n    private _InputText: BABYLON.GUI.InputText = new BABYLON.GUI.InputText();\r\n    private _uiType = \"\";\r\n\r\n    private _blueString: VeryString = new VeryString();\r\n\r\n    public active(): void {\r\n\r\n    }\r\n\r\n    public onUpdate(): void {\r\n        if (this._uiType == \"TextBlock\") {\r\n            this._blueString.value = this._TextBlock.text;\r\n        }\r\n        else if (this._uiType == \"InputText\") {\r\n            this._blueString.value = this._InputText.text;\r\n        }\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n            return false;\r\n        } else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错,UI不存在--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n                if (this._control.typeName == \"TextBlock\") {\r\n                    this._TextBlock = <BABYLON.GUI.TextBlock>this._control;\r\n                    this._uiType = \"TextBlock\";\r\n                }\r\n                else if (this._control.typeName == \"InputText\") {\r\n                    this._InputText = <BABYLON.GUI.InputText>this._control;\r\n                    this._uiType = \"InputText\";\r\n                }\r\n                else if (this._control.typeName == \"Button\") {\r\n                    var _Button = <BABYLON.GUI.Button>this._control;\r\n                    if (_Button.textBlock != null) {\r\n                        this._TextBlock = _Button.textBlock;\r\n                        this._uiType = \"TextBlock\";\r\n                    }\r\n                }\r\n                if (this._uiType == \"\") {\r\n                    console.error(this.ID + \"--响应参数出错,UI类型不支持设置文字--\" + para_array[0]);\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // 参数2：接收bool变量\r\n            let para2: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.StringParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n                return false;\r\n            }\r\n            this._blueString = para2.string;\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_UGUI_Set_SizeDelta extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Set_SizeDelta|设置GUI大小\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_UGUI_Set_SizeDelta\";\r\n    }\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n\r\n    private _posValue: VeryNumber = new VeryNumber();\r\n    private _isVec = false;\r\n    private _posVec: VeryVector2 = new VeryVector2();\r\n    private _posVecFloat: VeryNumber[] = [];\r\n\r\n    private _axis = 0;\r\n\r\n    public active(): void {\r\n\r\n    }\r\n\r\n    public onUpdate(): void {\r\n        if (this._axis == 0) {\r\n            this._control.width = this._posValue.value + \"px\";\r\n        }\r\n        else if (this._axis == 1) {\r\n            this._control.height = this._posValue.value + \"px\";\r\n        }\r\n        else {\r\n            if (!this._isVec) {\r\n                this._control.width = this._posVecFloat[0].value + \"px\";\r\n                this._control.height = this._posVecFloat[1].value + \"px\";\r\n\r\n            }\r\n            else {\r\n                this._control.width = this._posVec.value.x + \"px\";\r\n                this._control.height = this._posVec.value.y + \"px\";\r\n            }\r\n        }\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n            return false;\r\n        } else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错,UI不存在--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n            }\r\n\r\n            // 参数2：\r\n            if (para_array[1].toLowerCase() == \"x\") {\r\n                this._axis = 0;\r\n            }\r\n            else if (para_array[1].toLowerCase() == \"y\") {\r\n                this._axis = 1;\r\n            }\r\n            else if (para_array[1].toLowerCase() == \"vector2\") {\r\n                this._axis = 2;\r\n            }\r\n            else {\r\n                console.error(this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector2，当前为：\" + para_array[1] + \"，请检查！\");\r\n                return false;\r\n            }\r\n\r\n            //参数3\r\n            let para2: VeryParas = new VeryParas();\r\n            if (this._axis == 0 || this._axis == 1) {\r\n                if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n                    return false;\r\n                }\r\n                this._posValue = para2.number;\r\n            }\r\n            else {\r\n                if (!ParaParserUtility.Vector2OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n                    return false;\r\n                }\r\n                this._isVec = para2.isVec2;\r\n                this._posVec = para2.vector2;\r\n                this._posVecFloat = para2.vec2Numbers;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_UGUI_Set_AnchoredPosition extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Set_AnchoredPosition|设置GUI位置\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_UGUI_Set_AnchoredPosition\";\r\n    }\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n\r\n    private _posValue: VeryNumber = new VeryNumber();\r\n    private _isVec = false;\r\n    private _posVec: VeryVector2 = new VeryVector2();\r\n    private _posVecFloat: VeryNumber[] = [];\r\n\r\n    private _axis = 0;\r\n\r\n    public active(): void {\r\n\r\n    }\r\n\r\n    public onUpdate(): void {\r\n        if (this._axis == 0) {\r\n            this._control.left = this._posValue.value + \"px\";\r\n        }\r\n        else if (this._axis == 1) {\r\n            this._control.top = this._posValue.value + \"px\";\r\n        }\r\n        else {\r\n            if (!this._isVec) {\r\n                this._control.left = this._posVecFloat[0].value + \"px\";\r\n                this._control.top = this._posVecFloat[1].value + \"px\";\r\n\r\n            }\r\n            else {\r\n                this._control.left = this._posVec.value.x + \"px\";\r\n                this._control.top = this._posVec.value.y + \"px\";\r\n            }\r\n        }\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n            return false;\r\n        } else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错,UI不存在--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n            }\r\n\r\n            // 参数2：\r\n            if (para_array[1].toLowerCase() == \"x\") {\r\n                this._axis = 0;\r\n            }\r\n            else if (para_array[1].toLowerCase() == \"y\") {\r\n                this._axis = 1;\r\n            }\r\n            else if (para_array[1].toLowerCase() == \"vector2\") {\r\n                this._axis = 2;\r\n            }\r\n            else {\r\n                console.error(this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector2，当前为：\" + para_array[1] + \"，请检查！\");\r\n                return false;\r\n            }\r\n\r\n            //参数3\r\n            let para2: VeryParas = new VeryParas();\r\n            if (this._axis == 0 || this._axis == 1) {\r\n                if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n                    return false;\r\n                }\r\n                this._posValue = para2.number;\r\n            }\r\n            else {\r\n                if (!ParaParserUtility.Vector2OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n                    return false;\r\n                }\r\n                this._isVec = para2.isVec2;\r\n                this._posVec = para2.vector2;\r\n                this._posVecFloat = para2.vec2Numbers;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_UGUI_Get_AnchoredPosition extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Get_AnchoredPosition|获取GUI位置\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_UGUI_Get_AnchoredPosition\";\r\n    }\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n\r\n    private _posValue: VeryNumber = new VeryNumber();\r\n    private _posVec: VeryVector2 = new VeryVector2();\r\n\r\n    private _axis = 0;\r\n\r\n    public active(): void {\r\n\r\n    }\r\n\r\n    public onUpdate(): void {\r\n        if (this._axis == 0) {\r\n            this._posValue.value = this._control.leftInPixels;\r\n        }\r\n        else if (this._axis == 1) {\r\n            this._posValue.value = this._control.topInPixels;\r\n        }\r\n        else {\r\n            this._posVec.value = new BABYLON.Vector2(this._control.leftInPixels, this._control.topInPixels);\r\n        }\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3)) {\r\n            return false;\r\n        } else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错,UI不存在--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n            }\r\n\r\n            // 参数2：\r\n            if (para_array[1].toLowerCase() == \"x\") {\r\n                this._axis = 0;\r\n            }\r\n            else if (para_array[1].toLowerCase() == \"y\") {\r\n                this._axis = 1;\r\n            }\r\n            else if (para_array[1].toLowerCase() == \"vector2\") {\r\n                this._axis = 2;\r\n            }\r\n            else {\r\n                console.error(this.ID + \" 响应参数格式错误，轴参数应为x、y、z或者vector2，当前为：\" + para_array[1] + \"，请检查！\");\r\n                return false;\r\n            }\r\n\r\n            //参数3\r\n            let para2: VeryParas = new VeryParas();\r\n            if (this._axis == 0 || this._axis == 1) {\r\n                if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n                    return false;\r\n                }\r\n                this._posValue = para2.number;\r\n            }\r\n            else {\r\n                if (!ParaParserUtility.Vector2Para(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n                    return false;\r\n                }\r\n                this._posVec = para2.vector2;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_UGUI_Set_Color extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"GUI_Set_Color|设置GUI颜色\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_UGUI_Set_Color\";\r\n    }\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n    private _isColor: boolean = false;\r\n    private _blueColor: VeryVector3 = new VeryVector3();\r\n    private _colorFloat: VeryNumber[] = [];\r\n\r\n    public active(): void {\r\n\r\n    }\r\n\r\n    public onUpdate(): void {\r\n        if (!this._isColor) {\r\n            this._control.color = this.RGBToHexColor(this._colorFloat[0].value / 255, this._colorFloat[1].value / 255, this._colorFloat[2].value / 255);\r\n        }\r\n        else {\r\n            this._control.color = this.RGBToHexColor(this._blueColor.value.x / 255, this._blueColor.value.y / 255, this._blueColor.value.z / 255);\r\n        }\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n            return false;\r\n        } else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错,UI不存在--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n            }\r\n\r\n            // 参数2：\r\n            let para3: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n                return false;\r\n            }\r\n            this._isColor = para3.isVec;\r\n            this._blueColor = para3.vector3;\r\n            this._colorFloat = para3.vecNumbers;\r\n\r\n            return true;\r\n        }\r\n    }\r\n\r\n    //RGB转成#FFFFFF格式\r\n    public RGBToHexColor(r: number, g: number, b: number): string {\r\n        var str = \"#\";\r\n        var tmpStr = new Number((r * 255).toFixed()).toString(16);\r\n        if (tmpStr.length == 1) {\r\n            tmpStr = \"0\" + tmpStr;\r\n        }\r\n        str += tmpStr;\r\n        var tmpStr = new Number((g * 255).toFixed()).toString(16);\r\n        if (tmpStr.length == 1) {\r\n            tmpStr = \"0\" + tmpStr;\r\n        }\r\n        str += tmpStr;\r\n        var tmpStr = new Number((b * 255).toFixed()).toString(16);\r\n        if (tmpStr.length == 1) {\r\n            tmpStr = \"0\" + tmpStr;\r\n        }\r\n        str += tmpStr;\r\n        return str;\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\n//GUI\r\nVE_Actions.addAction(Action_UGUI_Set_Text);\r\nVE_Actions.addAction(Action_UGUI_Get_Text);\r\nVE_Actions.addAction(Action_UGUI_Set_SizeDelta);\r\nVE_Actions.addAction(Action_UGUI_Set_AnchoredPosition);\r\nVE_Actions.addAction(Action_UGUI_Get_AnchoredPosition);\r\nVE_Actions.addAction(Action_GUI_Control);\r\n\r\n//TODO:20200805\r\nVE_Actions.addAction(Action_UGUI_Set_Color);            //TODO:Color扩展\r\n","import { VE_TriggerBehaviour } from '../../index';\r\nimport { VE_Triggers } from '../../trigger';\r\nimport { ParaParserUtility, VE_KeyboardMap, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { GameObject } from \"../../babylon/babylonVariables\";\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString } from \"../../variables\";\r\n\r\n\r\n// 鼠标按下一次\r\nexport class Trigger_MouseDown extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Mouse_Down|鼠标按下|按下鼠标';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MouseDown';\r\n  }\r\n\r\n  private _mouseButtonIndex: number = 0;\r\n  private _downFlag: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：鼠标按键\r\n      if (para_array[0] === \"0\" || para_array[0].toLowerCase() === \"left\" || para_array[0] === \"左\") {\r\n        this._mouseButtonIndex = 0;\r\n      }\r\n      else if (para_array[0] === \"1\" || para_array[0].toLowerCase() === \"right\" || para_array[0] === \"右\") {\r\n        this._mouseButtonIndex = 2;\r\n      }\r\n      else if (para_array[0] === \"2\" || para_array[0].toLowerCase() === \"middle\" || para_array[0] === \"中\") {\r\n        this._mouseButtonIndex = 1;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add(pointInfo => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {\r\n          if (!this._downFlag && pointInfo.event.button === this._mouseButtonIndex) {\r\n            this._downFlag = true;\r\n            this.sendEvent();\r\n          }\r\n        } else if (pointInfo.type === BABYLON.PointerEventTypes.POINTERUP) {\r\n          if (this._downFlag && pointInfo.event.button === this._mouseButtonIndex) {\r\n            this._downFlag = false;\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n}\r\n\r\n// 鼠标双击\r\nexport class Trigger_MouseDoubleClick extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Double_Click|鼠标双击|双击鼠标';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MouseDoubleClick';\r\n  }\r\n\r\n  private _mouseButtonIndex: number = 0;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：鼠标按键\r\n      if (para_array[0] === \"0\" || para_array[0].toLowerCase() === \"left\" || para_array[0] === \"左\") {\r\n        this._mouseButtonIndex = 0;\r\n      }\r\n      else if (para_array[0] === \"1\" || para_array[0].toLowerCase() === \"right\" || para_array[0] === \"右\") {\r\n        this._mouseButtonIndex = 2;\r\n      }\r\n      else if (para_array[0] === \"2\" || para_array[0].toLowerCase() === \"middle\" || para_array[0] === \"中\") {\r\n        this._mouseButtonIndex = 1;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this._scene.onPointerObservable.add(pointInfo => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERDOUBLETAP) {\r\n          if (pointInfo.event.button === this._mouseButtonIndex) {\r\n            this.sendEvent();\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n}\r\n\r\n// 鼠标抬起一次\r\nexport class Trigger_MouseUp extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Mouse_Up|鼠标抬起|抬起鼠标';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MouseUp';\r\n  }\r\n\r\n  private _mouseButtonIndex: number = 0;\r\n  private _downFlag: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：鼠标按键\r\n      if (para_array[0] === \"0\" || para_array[0].toLowerCase() === \"left\" || para_array[0] === \"左\") {\r\n        this._mouseButtonIndex = 0;\r\n      }\r\n      else if (para_array[0] === \"1\" || para_array[0].toLowerCase() === \"right\" || para_array[0] === \"右\") {\r\n        this._mouseButtonIndex = 2;\r\n      }\r\n      else if (para_array[0] === \"2\" || para_array[0].toLowerCase() === \"middle\" || para_array[0] === \"中\") {\r\n        this._mouseButtonIndex = 1;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this._scene.onPointerObservable.add(pointInfo => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {\r\n          if (!this._downFlag && pointInfo.event.button === this._mouseButtonIndex) {\r\n            this._downFlag = true;\r\n          }\r\n        } else if (pointInfo.type === BABYLON.PointerEventTypes.POINTERUP) {\r\n          if (this._downFlag && pointInfo.event.button === this._mouseButtonIndex) {\r\n            this._downFlag = false;\r\n            this.sendEvent();\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n}\r\n\r\n// 鼠标持续\r\nexport class Trigger_MouseButton extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Mouse_Button|鼠标持续|按住鼠标';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MouseButton';\r\n  }\r\n\r\n  private _mouseButtonIndex: number = 0;\r\n  private _mouseUpdate: { [key: number]: boolean } = {};\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：鼠标按键\r\n      if (para_array[0] === \"0\" || para_array[0].toLowerCase() === \"left\" || para_array[0] === \"左\") {\r\n        this._mouseButtonIndex = 0;\r\n      }\r\n      else if (para_array[0] === \"1\" || para_array[0].toLowerCase() === \"right\" || para_array[0] === \"右\") {\r\n        this._mouseButtonIndex = 2;\r\n      }\r\n      else if (para_array[0] === \"2\" || para_array[0].toLowerCase() === \"middle\" || para_array[0] === \"中\") {\r\n        this._mouseButtonIndex = 1;\r\n      }\r\n      else {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this._scene.onPointerObservable.add(pointInfo => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {\r\n          this._mouseUpdate[pointInfo.event.button] = true;\r\n        } else if (pointInfo.type === BABYLON.PointerEventTypes.POINTERUP) {\r\n          this._mouseUpdate[pointInfo.event.button] = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._mouseUpdate[this._mouseButtonIndex]) {\r\n      this.sendEvent();\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n}\r\n\r\n// 按下持续触发\r\nexport class Trigger_Keyboard extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '键盘持续|Key_Button|按住键盘';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Keyboard';\r\n  }\r\n\r\n  private _keyboard: string = '';\r\n  private _keyUpdate: { [key: string]: boolean } = {};\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.KeyboardInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：键盘按键\r\n      this._keyboard = VE_KeyboardMap.GetKey(para_array[0]).toLowerCase();\r\n      if (this._keyboard === 'null') {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，无法查找到该按钮，请查阅键盘字符串对应表！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onKeyboardObservable.add(kbInfo => {\r\n        if (kbInfo.type === BABYLON.KeyboardEventTypes.KEYDOWN) {\r\n          this._keyUpdate[kbInfo.event.key.toLowerCase()] = true;\r\n        } else {\r\n          this._keyUpdate[kbInfo.event.key.toLowerCase()] = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._keyUpdate[this._keyboard]) {\r\n      // console.log(this.triggerID);\r\n      this.sendEvent();\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onKeyboardObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n\r\n}\r\n\r\n// 按下只触发一次\r\nexport class Trigger_KeyDown extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '键盘按下|Key_Down|按下键盘';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_KeyDown';\r\n  }\r\n\r\n  private _keyboard: string = '';\r\n  private _downFlag: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.KeyboardInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：键盘按键\r\n      this._keyboard = VE_KeyboardMap.GetKey(para_array[0]).toLowerCase();\r\n      if (this._keyboard === 'null') {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，无法查找到该按钮，请查阅键盘字符串对应表！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onKeyboardObservable.add(kbInfo => {\r\n        if (kbInfo.type === BABYLON.KeyboardEventTypes.KEYDOWN) {\r\n          if (!this._downFlag && kbInfo.event.key.toLowerCase() === this._keyboard) {\r\n            this._downFlag = true;\r\n            this.sendEvent();\r\n          }\r\n        } else {\r\n          if (this._downFlag && kbInfo.event.key.toLowerCase() === this._keyboard) {\r\n            this._downFlag = false;\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onKeyboardObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n\r\n}\r\n\r\n// 抬起只触发一次\r\nexport class Trigger_KeyUp extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return '键盘抬起|Key_Up|抬起键盘';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_KeyUp';\r\n  }\r\n\r\n  private _keyboard: string = '';\r\n  private _downFlag: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.KeyboardInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：键盘按键\r\n      this._keyboard = VE_KeyboardMap.GetKey(para_array[0]).toLowerCase();\r\n      if (this._keyboard === 'null') {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，无法查找到该按钮，请查阅键盘字符串对应表！\", '', Severity.Error));\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onKeyboardObservable.add(kbInfo => {\r\n        if (kbInfo.type === BABYLON.KeyboardEventTypes.KEYDOWN) {\r\n          if (!this._downFlag && kbInfo.event.key.toLowerCase() === this._keyboard) {\r\n            this._downFlag = true;\r\n          }\r\n        } else {\r\n          if (this._downFlag && kbInfo.event.key.toLowerCase() === this._keyboard) {\r\n            this._downFlag = false;\r\n            this.sendEvent();\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onKeyboardObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n\r\n}\r\n\r\n// 组合按下触发一次\r\nexport class Trigger_KeyboardCombine extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Key_Combination|键盘组合|组合键盘';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_KeyboardCombine';\r\n  }\r\n\r\n  private _keyboards: string[] = [];\r\n  private _lastKey: string = '';\r\n  private _downFlag: boolean = false;\r\n  private _trigger: boolean = false;\r\n\r\n  private _keyUpdate: { [key: string]: boolean } = {};\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.KeyboardInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (para_array.length < 2) {\r\n      VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数至少为2个，请检查传入参数！\", '', Severity.Error));\r\n      return false;\r\n    } else {\r\n      // n个参数：键盘按键\r\n      for (let i: number = 0; i < para_array.length; i++) {\r\n        let key: string = VE_KeyboardMap.GetKey(para_array[i]).toLowerCase();\r\n        if (key === 'null') {\r\n          VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[i] + \"，无法查找到该按钮，请查阅键盘字符串对应表！\", '', Severity.Error));\r\n          return false;\r\n        }\r\n        this._keyboards.push(key);\r\n      }\r\n      this._lastKey = this._keyboards[this._keyboards.length - 1];\r\n\r\n      this._observer = this.scene.onKeyboardObservable.add(kbInfo => {\r\n        if (kbInfo.type === BABYLON.KeyboardEventTypes.KEYDOWN) {\r\n          if (!this._downFlag && this._lastKey === kbInfo.event.key.toLowerCase()) {\r\n            this._downFlag = true;\r\n            this._trigger = true;\r\n          }\r\n          this._keyUpdate[kbInfo.event.key.toLowerCase()] = true;\r\n        } else {\r\n          if (this._downFlag && this._lastKey === kbInfo.event.key.toLowerCase()) {\r\n            this._downFlag = false;\r\n            this._trigger = false;\r\n          }\r\n          this._keyUpdate[kbInfo.event.key.toLowerCase()] = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._keyboards && this._keyboards.length > 0) {\r\n      let all: boolean = true;\r\n      for (let i: number = 0; i < this._keyboards.length; i++) {\r\n        if (i === this._keyboards.length - 1) {\r\n          if (all && this._downFlag && this._trigger) {\r\n            this._trigger = false;\r\n            this.sendEvent();\r\n          }\r\n        } else {\r\n          if (!this._keyUpdate[this._keyboards[i]]) {\r\n            all = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // if (this._keyUpdate[this._keyboard]) {\r\n    //   // console.log(this.triggerID);\r\n    //   this.sendEvent();\r\n    // }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onKeyboardObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_MousePickAny extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Mouse_Pick_Any|鼠标任意点选 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MousePickAny';\r\n  };\r\n\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n  private _mouse: number = -1;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数:Mesh的isPickable为true才能点选被检测到\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      if (para_array[1] == \"0\" || para_array[1] == \"左\" || para_array[1].toLowerCase() == \"left\") {\r\n        this._mouse = 0;\r\n      }\r\n      else if (para_array[1] == \"1\" || para_array[1] == \"右\" || para_array[1].toLowerCase() == \"right\") {\r\n        this._mouse = 2;\r\n      }\r\n      else if (para_array[1] == \"2\" || para_array[1] == \"中\" || para_array[1].toLowerCase() == \"middle\") {\r\n        this._mouse = 1;\r\n      }\r\n      else {\r\n        console.log(this.ID + \" 触发传入参数格式错误： + \" + para_array[1] + \"，鼠标参数应为0或左、1或右、2或中，此处填写错误！\");\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add((pointerInfo) => {\r\n        switch (pointerInfo.type) {\r\n          case BABYLON.PointerEventTypes.POINTERDOWN:\r\n            if (pointerInfo.pickInfo != null && pointerInfo.event.button == this._mouse) {\r\n              if (pointerInfo.pickInfo.pickedMesh != null) {\r\n                this._inGameobject.setValue(pointerInfo.pickInfo.pickedMesh);\r\n                this.sendEvent();\r\n              }\r\n            }\r\n            break;\r\n        };\r\n      });\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_MousePick extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'MousePick|鼠标点选 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MousePick';\r\n  };\r\n\r\n  private NameList: string[] = [];\r\n  private _mouse: number = -1;\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数:Mesh的isPickable为true才能点选被检测到\r\n      var tmpArray: string[] = para_array[0].split(/,|，/);\r\n      for (var i = 0; i < tmpArray.length; i++) {\r\n        tmpArray[i] = tmpArray[i].trim();\r\n        var newObj = new VeryGameObject();\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, tmpArray[i])) {\r\n          return false;\r\n        }\r\n        newObj = para1.gameObject;\r\n        if (newObj.value == null) {\r\n          console.error(this.ID + \" 触发中，物体\" + tmpArray[i] + \"在场景中不存在！\");\r\n          continue;\r\n        }\r\n        else {\r\n          this.NameList[this.NameList.length] = (newObj.value.name);\r\n        }\r\n      }\r\n\r\n      //第2个参数\r\n      if (para_array[1] == \"0\" || para_array[1] == \"左\" || para_array[1].toLowerCase() == \"left\") {\r\n        this._mouse = 0;\r\n      }\r\n      else if (para_array[1] == \"1\" || para_array[1] == \"右\" || para_array[1].toLowerCase() == \"right\") {\r\n        this._mouse = 2;\r\n      }\r\n      else if (para_array[1] == \"2\" || para_array[1] == \"中\" || para_array[1].toLowerCase() == \"middle\") {\r\n        this._mouse = 1;\r\n      }\r\n      else {\r\n        console.log(this.ID + \" 触发传入参数格式错误： + \" + para_array[1] + \"，鼠标参数应为0或左、1或右、2或中，此处填写错误！\");\r\n        return false;\r\n      }\r\n\r\n      //第3个参数:\r\n      if (para_array[2].toLowerCase() == \"null\" || para_array[2].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        let para3: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._inGameobject = para3.gameObject;\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add((pointerInfo) => {\r\n        switch (pointerInfo.type) {\r\n          case BABYLON.PointerEventTypes.POINTERDOWN:\r\n            if (pointerInfo.pickInfo != null && pointerInfo.event.button == this._mouse) {\r\n              if (pointerInfo.pickInfo.pickedMesh != null && (this.NameList.indexOf(pointerInfo.pickInfo.pickedMesh.name) != -1)) {\r\n                this._inGameobject.setValue(pointerInfo.pickInfo.pickedMesh);\r\n                this.sendEvent();\r\n              }\r\n            }\r\n            break;\r\n        };\r\n      });\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\n// 组合按下触发一次\r\nexport class Trigger_MouseCombine extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'MouseCombine|鼠标组合|组合鼠标';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Trigger_MouseCombine';\r\n  }\r\n\r\n  private _mouses: string[] = [];\r\n  private _lastKey: string = '';\r\n  private _downFlag: boolean = false;\r\n  private _trigger: boolean = false;\r\n\r\n  private _keyUpdate: { [key: string]: boolean } = {};\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (para_array.length != 2) {\r\n      VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数为2个，请检查传入参数！\", '', Severity.Error));\r\n      return false;\r\n    } else {\r\n      // n个参数：键盘按键\r\n      for (let i: number = 0; i < para_array.length; i++) {\r\n        let key: string = \"\";\r\n        if (para_array[i] == \"0\" || para_array[i] == \"左\" || para_array[i].toLowerCase() == \"left\") {\r\n          key = \"0\";\r\n        }\r\n        else if (para_array[i] == \"1\" || para_array[i] == \"右\" || para_array[i].toLowerCase() == \"right\") {\r\n          key = \"2\";\r\n        }\r\n        else if (para_array[i] == \"2\" || para_array[i] == \"中\" || para_array[i].toLowerCase() == \"middle\") {\r\n          key = \"1\";\r\n        }\r\n        else {\r\n          console.log(this.ID + \" 触发传入参数格式错误： + \" + para_array[i] + \"，鼠标参数应为0或左、1或右、2或中，此处填写错误！\");\r\n          return false;\r\n        }\r\n        this._mouses.push(key);\r\n      }\r\n      this._lastKey = this._mouses[this._mouses.length - 1];\r\n\r\n      /*\r\n      document.body.onmousedown = (event) => {\r\n        if (!this._downFlag && this._lastKey === (String)(event.button)) {\r\n          this._downFlag = true;\r\n          this._trigger = true;\r\n        }\r\n        this._keyUpdate[(String)(event.button)] = true;\r\n        console.log(\"POINTERDOWN--\" + (String)(event.button));\r\n      };\r\n      document.body.onmouseup = (event) => {\r\n        if (this._downFlag && this._lastKey === (String)(event.button)) {\r\n          this._downFlag = false;\r\n          this._trigger = false;\r\n        }\r\n        this._keyUpdate[(String)(event.button)] = false;\r\n        console.log(\"POINTERUP--\" + (String)(event.button));\r\n      };\r\n      */\r\n      this._observer = this.scene.onPointerObservable.add(pointerInfo => {\r\n        if (pointerInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {\r\n          if (!this._downFlag && this._lastKey === (String)(pointerInfo.event.button)) {\r\n            this._downFlag = true;\r\n            this._trigger = true;\r\n          }\r\n          this._keyUpdate[(String)(pointerInfo.event.button)] = true;\r\n          //console.log(\"POINTERDOWN--\" + (String)(pointerInfo.event.button));\r\n        }\r\n        if (pointerInfo.type === BABYLON.PointerEventTypes.POINTERUP) {\r\n          if (this._downFlag && this._lastKey === (String)(pointerInfo.event.button)) {\r\n            this._downFlag = false;\r\n            this._trigger = false;\r\n          }\r\n          this._keyUpdate[(String)(pointerInfo.event.button)] = false;\r\n          //console.log(\"POINTERUP--\" + (String)(pointerInfo.event.button));\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._mouses && this._mouses.length > 0) {\r\n      let all: boolean = true;\r\n      for (let i: number = 0; i < this._mouses.length; i++) {\r\n        if (i === this._mouses.length - 1) {\r\n          if (all && this._downFlag && this._trigger) {\r\n            this._trigger = false;\r\n            this.sendEvent();\r\n          }\r\n        } else {\r\n          if (!this._keyUpdate[this._mouses[i]]) {\r\n            all = false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\n// Mouse Input\r\nVE_Triggers.addTrigger(Trigger_MouseDown);\r\nVE_Triggers.addTrigger(Trigger_MouseDoubleClick);\r\nVE_Triggers.addTrigger(Trigger_MouseUp);\r\nVE_Triggers.addTrigger(Trigger_MouseButton);\r\n\r\n// Keyboard Input\r\nVE_Triggers.addTrigger(Trigger_Keyboard);\r\nVE_Triggers.addTrigger(Trigger_KeyDown);\r\nVE_Triggers.addTrigger(Trigger_KeyUp);\r\nVE_Triggers.addTrigger(Trigger_KeyboardCombine);\r\n\r\n//Mouse Click\r\nVE_Triggers.addTrigger(Trigger_MousePickAny);\r\n\r\n//TODO:20200805\r\nVE_Triggers.addTrigger(Trigger_MousePick);\r\nVE_Triggers.addTrigger(Trigger_MouseCombine);//TODO:未实现","import { VE_TriggerBehaviour, VE_Triggers } from \"../../trigger\";\r\n\r\nexport class Trigger_Start extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Start|开始';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Start';\r\n  };\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n      this.sendEvent();\r\n      this.destroy();\r\n    });\r\n    return true;\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this.scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport class Trigger_Continuous extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Continuous|连续';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Continuous';\r\n  };\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n      this.sendEvent();\r\n    });\r\n    return true;\r\n  }\r\n\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this.scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n\r\n}\r\n\r\nexport class Trigger_Custom extends VE_TriggerBehaviour {\r\n  public get ID(): string {\r\n    return '自定义|Custom';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Custom';\r\n  };\r\n\r\n  public customEvent(): void {\r\n    this.sendEvent();\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    return true;\r\n  }\r\n\r\n  public destroy(): void {\r\n  }\r\n}\r\n\r\n\r\nVE_Triggers.addTrigger(Trigger_Start);\r\nVE_Triggers.addTrigger(Trigger_Continuous);\r\nVE_Triggers.addTrigger(Trigger_Custom);","import { VE_TriggerBehaviour, VE_Triggers } from \"../../trigger\";\r\nimport { VeryGameObject, VeryString } from \"../../variables\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType, Severity } from \"../../enum\";\r\nimport { VE_ErrorManager, VE_Error } from \"../../global\";\r\nimport { BabylonEngine, GameObject } from \"../../babylon\";\r\n\r\nexport class Trigger_Mouse_Over extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'On_Mouse_Over|碰撞体鼠标经过';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Mouse_Over';\r\n  };\r\n\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 0, 1)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      if (para_array.length > 0) {\r\n        // 参数1： 指定碰撞物体\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      if (this._target.value === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      } else {\r\n        if (this._target.value.transform.mesh === null) {\r\n\r\n        } else {\r\n          // 允许鼠标移动时获取碰撞信息\r\n          this._target.value.transform.mesh.enablePointerMoveEvents = true;\r\n        }\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add((pointInfo: BABYLON.PointerInfo) => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERMOVE) {\r\n          if (pointInfo.pickInfo !== null && pointInfo.pickInfo.pickedMesh !== null && this._target.value) {\r\n            if (pointInfo.pickInfo.pickedMesh === this._target.value.transform.mesh) {\r\n              this.sendEvent();\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Mouse_Down extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'On_Mouse_Down|碰撞体鼠标按下';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Mouse_Down';\r\n  };\r\n\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 0, 1)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      if (para_array.length > 0) {\r\n        // 参数1： 指定碰撞物体\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      if (this._target.value === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      } else {\r\n        if (this._target.value.transform.mesh === null) {\r\n\r\n        } else {\r\n          // 允许鼠标移动时获取碰撞信息\r\n          this._target.value.transform.mesh.enablePointerMoveEvents = true;\r\n        }\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add((pointInfo: BABYLON.PointerInfo) => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {\r\n          if (pointInfo.pickInfo !== null && pointInfo.pickInfo.pickedMesh !== null && this._target.value) {\r\n            if (pointInfo.pickInfo.pickedMesh === this._target.value.transform.mesh) {\r\n              this.sendEvent();\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Mouse_Up extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'On_Mouse_Up|碰撞体鼠标抬起';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Mouse_Up';\r\n  };\r\n\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 0, 1)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      if (para_array.length > 0) {\r\n        // 参数1： 指定碰撞物体\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      if (this._target.value === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      } else {\r\n        if (this._target.value.transform.mesh === null) {\r\n\r\n        } else {\r\n          // 允许鼠标移动时获取碰撞信息\r\n          this._target.value.transform.mesh.enablePointerMoveEvents = true;\r\n        }\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add((pointInfo: BABYLON.PointerInfo) => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERUP) {\r\n          if (pointInfo.pickInfo !== null && pointInfo.pickInfo.pickedMesh !== null && this._target.value) {\r\n            if (pointInfo.pickInfo.pickedMesh === this._target.value.transform.mesh) {\r\n              this.sendEvent();\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Mouse_Pick extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'On_Mouse_Pick|碰撞体鼠标点击';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Mouse_Pick';\r\n  };\r\n\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 0, 1)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      if (para_array.length > 0) {\r\n        // 参数1： 指定碰撞物体\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      if (this._target.value === null) {\r\n        VE_ErrorManager.Add(new VE_Error('', this.ID + \" 触发 传入参数格式错误：\" + para_array[0] + \"，填写0、1、2或者left、right、middle或者左、右、中，请检查！\", '', Severity.Error));\r\n        return false;\r\n      } else {\r\n        if (this._target.value.transform.mesh === null) {\r\n\r\n        } else {\r\n          // 允许鼠标移动时获取碰撞信息\r\n          this._target.value.transform.mesh.enablePointerMoveEvents = true;\r\n        }\r\n      }\r\n\r\n      this._observer = this.scene.onPointerObservable.add((pointInfo: BABYLON.PointerInfo) => {\r\n        if (pointInfo.type === BABYLON.PointerEventTypes.POINTERPICK) {\r\n          if (pointInfo.pickInfo !== null && pointInfo.pickInfo.pickedMesh !== null && this._target.value) {\r\n            if (pointInfo.pickInfo.pickedMesh === this._target.value.transform.mesh) {\r\n              this.sendEvent();\r\n            }\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Collision_Enter extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Collision_Enter|碰撞进入';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Collision_Enter';\r\n  };\r\n\r\n  private _storeGameObject: VeryGameObject = new VeryGameObject();\r\n  private _colliderGameObjectList: VeryString[] = [];\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _colliderMeshList: BABYLON.AbstractMesh[] = [];\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1, 2, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //参数1：存储碰撞物体\r\n      if (para_array[0].toLowerCase() == \"null\" || para_array[0].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._storeGameObject = para1.gameObject;\r\n      }\r\n\r\n      //参数2：待碰撞物体\r\n      if (para_array.length > 1) {\r\n        if (para_array[1].toLowerCase() == \"null\" || para_array[1].toLowerCase() == \"none\") {\r\n\r\n        }\r\n        else {\r\n          var strs = para_array[1].split(/,|，/);\r\n          var isRight = true;\r\n          for (var i = 0; i < strs.length; i++) {\r\n            strs[i] = strs[i].trim();\r\n            let para1: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, strs[i])) {\r\n              console.error(this.ID + \" 响应参数传入错误，待碰撞物体名中：\" + strs[i] + \"，string参数格式错误，请检查！\");\r\n              isRight = false;\r\n              continue;\r\n            }\r\n            this._colliderGameObjectList[this._colliderGameObjectList.length] = para1.string;\r\n          }\r\n          if (!isRight) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 参数3： 指定碰撞物体\r\n      if (para_array.length > 2) {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpTarget = this._target.value?.mesh;\r\n    if (this.enabled && (tmpTarget != null && tmpTarget != undefined)) {\r\n      if (this._colliderGameObjectList.length == 0) {\r\n        for (var i = 0; i < BabylonEngine.Scene.meshes.length; i++) {\r\n          var tmpMesh = BabylonEngine.Scene.meshes[i];\r\n          if (tmpTarget != tmpMesh) {\r\n            if (tmpTarget.intersectsMesh(tmpMesh, true)) {\r\n              if (this._colliderMeshList.indexOf(tmpMesh) == -1) {\r\n                this._storeGameObject.value = GameObject.Find(tmpMesh.name, BabylonEngine.Scene);\r\n                this.sendEvent();\r\n                this._colliderMeshList[this._colliderMeshList.length] = tmpMesh;\r\n                break;\r\n              }\r\n            }\r\n            else {\r\n              if (this._colliderMeshList.indexOf(tmpMesh) != -1) {\r\n                this._colliderMeshList.splice(this._colliderMeshList.indexOf(tmpMesh), 1);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        for (var i = 0; i < this._colliderGameObjectList.length; i++) {\r\n          var tmpMesh2 = BabylonEngine.Scene.getMeshByName(this._colliderGameObjectList[i].value);\r\n          if (tmpMesh2 != null) {\r\n            if (tmpTarget.intersectsMesh(tmpMesh2, true)) {\r\n              if (this._colliderMeshList.indexOf(tmpMesh2) == -1) {\r\n                this._storeGameObject.value = GameObject.Find(tmpMesh2.name, BabylonEngine.Scene);\r\n                this.sendEvent();\r\n                this._colliderMeshList[this._colliderMeshList.length] = tmpMesh2;\r\n                break;\r\n              }\r\n            }\r\n            else {\r\n              if (this._colliderMeshList.indexOf(tmpMesh2) != -1) {\r\n                this._colliderMeshList.splice(this._colliderMeshList.indexOf(tmpMesh2), 1);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Trigger_Collision_Exit extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Collision_Exit|碰撞移出';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Collision_Exit';\r\n  };\r\n\r\n  private _storeGameObject: VeryGameObject = new VeryGameObject();\r\n  private _colliderGameObjectList: VeryString[] = [];\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _colliderMeshList: BABYLON.AbstractMesh[] = [];\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1, 2, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //参数1：存储碰撞物体\r\n      if (para_array[0].toLowerCase() == \"null\" || para_array[0].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._storeGameObject = para1.gameObject;\r\n      }\r\n\r\n      //参数2：待碰撞物体\r\n      if (para_array.length > 1) {\r\n        if (para_array[1].toLowerCase() == \"null\" || para_array[1].toLowerCase() == \"none\") {\r\n\r\n        }\r\n        else {\r\n          var strs = para_array[1].split(/,|，/);\r\n          var isRight = true;\r\n          for (var i = 0; i < strs.length; i++) {\r\n            strs[i] = strs[i].trim();\r\n            let para1: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, strs[i])) {\r\n              console.error(this.ID + \" 响应参数传入错误，待碰撞物体名中：\" + strs[i] + \"，string参数格式错误，请检查！\");\r\n              isRight = false;\r\n              continue;\r\n            }\r\n            this._colliderGameObjectList[this._colliderGameObjectList.length] = para1.string;\r\n          }\r\n          if (!isRight) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 参数3： 指定碰撞物体\r\n      if (para_array.length > 2) {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpTarget = this._target.value?.mesh;\r\n    if (this.enabled && (tmpTarget != null && tmpTarget != undefined)) {\r\n      if (this._colliderGameObjectList.length == 0) {\r\n        for (var i = 0; i < BabylonEngine.Scene.meshes.length; i++) {\r\n          var tmpMesh = BabylonEngine.Scene.meshes[i];\r\n          if (tmpTarget != tmpMesh) {\r\n            if (tmpTarget.intersectsMesh(tmpMesh, true)) {\r\n              if (this._colliderMeshList.indexOf(tmpMesh) == -1) {\r\n                this._storeGameObject.value = GameObject.Find(tmpMesh.name, BabylonEngine.Scene);\r\n                this._colliderMeshList[this._colliderMeshList.length] = tmpMesh;\r\n              }\r\n            }\r\n            else {\r\n              if (this._colliderMeshList.indexOf(tmpMesh) != -1) {\r\n                this._colliderMeshList.splice(this._colliderMeshList.indexOf(tmpMesh), 1);\r\n                this.sendEvent();\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        for (var i = 0; i < this._colliderGameObjectList.length; i++) {\r\n          var tmpMesh2 = BabylonEngine.Scene.getMeshByName(this._colliderGameObjectList[i].value);\r\n          if (tmpMesh2 != null) {\r\n            if (tmpTarget.intersectsMesh(tmpMesh2, true)) {\r\n              if (this._colliderMeshList.indexOf(tmpMesh2) == -1) {\r\n                this._storeGameObject.value = GameObject.Find(tmpMesh2.name, BabylonEngine.Scene);\r\n                this._colliderMeshList[this._colliderMeshList.length] = tmpMesh2;\r\n              }\r\n            }\r\n            else {\r\n              if (this._colliderMeshList.indexOf(tmpMesh2) != -1) {\r\n                this._colliderMeshList.splice(this._colliderMeshList.indexOf(tmpMesh2), 1);\r\n                this.sendEvent();\r\n                break;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\nexport class Trigger_Collision_Stay extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Collision_Stay|碰撞持续';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Collision_Stay';\r\n  };\r\n\r\n  private _storeGameObject: VeryGameObject = new VeryGameObject();\r\n  private _colliderGameObjectList: VeryString[] = [];\r\n  private _target: VeryGameObject = new VeryGameObject();\r\n\r\n  private _colliderMeshList: BABYLON.AbstractMesh[] = [];\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1, 2, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //参数1：存储碰撞物体\r\n      if (para_array[0].toLowerCase() == \"null\" || para_array[0].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._storeGameObject = para1.gameObject;\r\n      }\r\n\r\n      //参数2：待碰撞物体\r\n      if (para_array.length > 1) {\r\n        if (para_array[1].toLowerCase() == \"null\" || para_array[1].toLowerCase() == \"none\") {\r\n\r\n        }\r\n        else {\r\n          var strs = para_array[1].split(/,|，/);\r\n          var isRight = true;\r\n          for (var i = 0; i < strs.length; i++) {\r\n            strs[i] = strs[i].trim();\r\n            let para1: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, strs[i])) {\r\n              console.error(this.ID + \" 响应参数传入错误，待碰撞物体名中：\" + strs[i] + \"，string参数格式错误，请检查！\");\r\n              isRight = false;\r\n              continue;\r\n            }\r\n            this._colliderGameObjectList[this._colliderGameObjectList.length] = para1.string;\r\n          }\r\n          if (!isRight) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n\r\n      // 参数3： 指定碰撞物体\r\n      if (para_array.length > 2) {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._target = para1.gameObject;\r\n      } else {\r\n        // 默认为当前对象所在物体\r\n        this._target.value = this.gameObject;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpTarget = this._target.value?.mesh;\r\n    if (this.enabled && (tmpTarget != null && tmpTarget != undefined)) {\r\n      if (this._colliderGameObjectList.length == 0) {\r\n        for (var i = 0; i < BabylonEngine.Scene.meshes.length; i++) {\r\n          var tmpMesh = BabylonEngine.Scene.meshes[i];\r\n          if (tmpTarget != tmpMesh) {\r\n            if (tmpTarget.intersectsMesh(tmpMesh, true)) {\r\n              if (this._colliderMeshList.indexOf(tmpMesh) == -1) {\r\n                this._storeGameObject.value = GameObject.Find(tmpMesh.name, BabylonEngine.Scene);\r\n                this._colliderMeshList[this._colliderMeshList.length] = tmpMesh;\r\n              }\r\n              else {\r\n                this.sendEvent();\r\n                break;\r\n              }\r\n            }\r\n            else {\r\n              if (this._colliderMeshList.indexOf(tmpMesh) != -1) {\r\n                this._colliderMeshList.splice(this._colliderMeshList.indexOf(tmpMesh), 1);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      else {\r\n        for (var i = 0; i < this._colliderGameObjectList.length; i++) {\r\n          var tmpMesh2 = BabylonEngine.Scene.getMeshByName(this._colliderGameObjectList[i].value);\r\n          if (tmpMesh2 != null) {\r\n            if (tmpTarget.intersectsMesh(tmpMesh2, true)) {\r\n              if (this._colliderMeshList.indexOf(tmpMesh2) == -1) {\r\n                this._storeGameObject.value = GameObject.Find(tmpMesh2.name, BabylonEngine.Scene);\r\n                this._colliderMeshList[this._colliderMeshList.length] = tmpMesh2;\r\n              }\r\n              else {\r\n                this.sendEvent();\r\n                break;\r\n              }\r\n            }\r\n            else {\r\n              if (this._colliderMeshList.indexOf(tmpMesh2) != -1) {\r\n                this._colliderMeshList.splice(this._colliderMeshList.indexOf(tmpMesh2), 1);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//Mouse Operation\r\nVE_Triggers.addTrigger(Trigger_Mouse_Over);\r\nVE_Triggers.addTrigger(Trigger_Mouse_Down);\r\nVE_Triggers.addTrigger(Trigger_Mouse_Up);\r\nVE_Triggers.addTrigger(Trigger_Mouse_Pick);\r\n\r\n//Collision\r\nVE_Triggers.addTrigger(Trigger_Collision_Enter);\r\nVE_Triggers.addTrigger(Trigger_Collision_Exit);\r\nVE_Triggers.addTrigger(Trigger_Collision_Stay);","import { VE_TriggerBehaviour, VE_Triggers } from \"../../trigger\";\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString } from \"../../variables\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType, Severity } from \"../../enum\";\r\nimport { GameObject } from \"../../babylon/babylonVariables\";\r\n\r\nexport class Trigger_Bool_All_True extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Bool_All_True|布尔值全为真 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Bool_All_True';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _boolList: VeryBool[] = [];\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      this._boolList = [];\r\n      var strs: string[] = para_array[0].split(/,|，/);\r\n      for (var i = 0; i < strs.length; i++) {\r\n        strs[i] = strs[i].trim();\r\n        var tempBool: VeryBool = new VeryBool();\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, strs[i])) {\r\n          return false;\r\n        }\r\n        tempBool = para0.bool;\r\n        this._boolList[this._boolList.length] = tempBool;\r\n      }\r\n\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        this._resultBool.value = true;\r\n        for (var i = 0; i < this._boolList.length; i++) {\r\n          if (this._boolList[i].value == false) {\r\n            this._resultBool.value = false;\r\n            break;\r\n          }\r\n        }\r\n        if (this._resultBool.value == true) {\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Bool_All_False extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Bool_All_False|布尔值全为假 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Bool_All_False';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _boolList: VeryBool[] = [];\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      this._boolList = [];\r\n      var strs: string[] = para_array[0].split(/,|，/);\r\n      for (var i = 0; i < strs.length; i++) {\r\n        strs[i] = strs[i].trim();\r\n        var tempBool: VeryBool = new VeryBool();\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, strs[i])) {\r\n          return false;\r\n        }\r\n        tempBool = para0.bool;\r\n        this._boolList[this._boolList.length] = tempBool;\r\n      }\r\n\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        this._resultBool.value = true;\r\n        for (var i = 0; i < this._boolList.length; i++) {\r\n          if (this._boolList[i].value == true) {\r\n            this._resultBool.value = false;\r\n            break;\r\n          }\r\n        }\r\n        if (this._resultBool.value == true) {\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n\r\n}\r\n\r\nexport class Trigger_Bool_Any_True extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Bool_Any_True|布尔值任意为真 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Bool_Any_True';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _boolList: VeryBool[] = [];\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      this._boolList = [];\r\n      var strs: string[] = para_array[0].split(/,|，/);\r\n      for (var i = 0; i < strs.length; i++) {\r\n        strs[i] = strs[i].trim();\r\n        var tempBool: VeryBool = new VeryBool();\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, strs[i])) {\r\n          return false;\r\n        }\r\n        tempBool = para0.bool;\r\n        this._boolList[this._boolList.length] = tempBool;\r\n      }\r\n\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        this._resultBool.value = false;\r\n        for (var i = 0; i < this._boolList.length; i++) {\r\n          if (this._boolList[i].value == true) {\r\n            this._resultBool.value = true;\r\n            break;\r\n          }\r\n        }\r\n        if (this._resultBool.value == true) {\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Bool_Changed extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Bool_Changed|布尔值改变 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Bool_Changed';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inBool: VeryBool = new VeryBool();\r\n  private _lastBool: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inBool = para0.bool;\r\n      this._lastBool = this._inBool.value;\r\n\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._lastBool == this._inBool.value) {\r\n          this._resultBool.value = false;\r\n        }\r\n        else {\r\n          this._lastBool = this._inBool.value;\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Number_Compare extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Number_Compare|数值比较 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Number_Compare';\r\n  };\r\n\r\n  private _veryNumber1: VeryNumber = new VeryNumber();\r\n  private _veryNumber2: VeryNumber = new VeryNumber();\r\n  private _accuracy: VeryNumber = new VeryNumber();\r\n  private _operatorType: string = \"\";\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 4)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._veryNumber1 = para0.number;\r\n\r\n      //第2个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._veryNumber2 = para1.number;\r\n\r\n      //第3个参数\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para2, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._accuracy = para2.number;\r\n\r\n      //第4个参数\r\n      this._operatorType = para_array[3];\r\n      if (this._operatorType != \"==\" && this._operatorType != \"=\" && this._operatorType != \">\" && this._operatorType != \"<\" && this._operatorType != \">=\" && this._operatorType != \"<=\") {\r\n        console.error(this.ID + \" 触发传入参数格式错误： + \" + para_array[3] + \"，应为 “=”、“>”、“>=”、“<”或者“<=”运算符，请检查！\");\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        switch (this._operatorType) {\r\n          case \"==\":\r\n            if (Math.abs(this._veryNumber1.value - this._veryNumber2.value) < this._accuracy.value) {\r\n              this.sendEvent();\r\n            }\r\n            break;\r\n          case \"=\":\r\n            if (Math.abs(this._veryNumber1.value - this._veryNumber2.value) < this._accuracy.value) {\r\n              this.sendEvent();\r\n            }\r\n            break;\r\n          case \">\":\r\n            if (this._veryNumber1.value > this._veryNumber2.value) {\r\n              this.sendEvent();\r\n            }\r\n            break;\r\n          case \">=\":\r\n            if (this._veryNumber1.value >= this._veryNumber2.value) {\r\n              this.sendEvent();\r\n            }\r\n            break;\r\n          case \"<\":\r\n            if (this._veryNumber1.value < this._veryNumber2.value) {\r\n              this.sendEvent();\r\n            }\r\n            break;\r\n          case \"<=\":\r\n            if (this._veryNumber1.value <= this._veryNumber2.value) {\r\n              this.sendEvent();\r\n            }\r\n            break;\r\n          default: break;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Number_Changed extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Number_Changed|数值改变 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Number_Changed';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inNumber: VeryNumber = new VeryNumber();\r\n  private _lastNumber: number = 0;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inNumber = para0.number;\r\n      this._lastNumber = this._inNumber.value;\r\n\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._lastNumber == this._inNumber.value) {\r\n          this._resultBool.value = false;\r\n        }\r\n        else {\r\n          this._lastNumber = this._inNumber.value;\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\nexport class Trigger_Number_Multi_Compare extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Number_Multi_Compare|数值多重比较 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Number_Multi_Compare';\r\n  };\r\n\r\n\r\n  private _boolOperator: string = \"\";  //布尔运算符号\r\n  private _floatList: VeryNumber[] = [];\r\n  private _operatorList: string[] = [];\r\n  private _resultList: boolean[] = [];\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (para_array.length < 2) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第1个参数\r\n      if (para_array[0] == \"&&\" || para_array[0].toLowerCase() == \"and\" || para_array[0] == \"与\") {\r\n        this._boolOperator = \"&&\";\r\n      }\r\n      else if (para_array[0] == \"||\" || para_array[0].toLowerCase() == \"or\" || para_array[0] == \"或\") {\r\n        this._boolOperator = \"||\";\r\n      }\r\n      else {\r\n        console.error(this.ID + \" 触发参数格式错误，当前应传入“&&”、“and”或“与”表示“与计算”， “||”、“or”或“或”表示“或运算”，当前传入值为：\" + para_array[0] + \"！\");\r\n        return false;\r\n      }\r\n\r\n      //第2个及2个以上的参数解析\r\n      for (var i = 1; i < para_array.length; i++) {\r\n        var floatArray: string[] = para_array[i].split(/,|，/);\r\n        if (floatArray.length != 4) {\r\n          console.error(this.ID + \" 触发参数格式错误，一组浮点数运算应包含4个参数，当前传入值为：\" + para_array[i] + \"，不符合，请检查！\");\r\n          return false;\r\n        }\r\n        //操作数\r\n        for (var k = 0; k < 3; k++) {\r\n          floatArray[k] = floatArray[k].trim();\r\n          let para1: VeryParas = new VeryParas();\r\n          if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, floatArray[k])) {\r\n            return false;\r\n          }\r\n          this._floatList[this._floatList.length] = para1.number;\r\n        }\r\n        //操作符\r\n        floatArray[3] = floatArray[3].trim();\r\n        if (floatArray[3] != \"==\" && floatArray[3] != \"=\" && floatArray[3] != \">\" && floatArray[3] != \"<\" && floatArray[3] != \">=\" && floatArray[3] != \"<=\") {\r\n          console.error(this.ID + \" 触发传入参数格式错误： + \" + para_array[3] + \"，应为 “=”、“>”、“>=”、“<”或者“<=”运算符，请检查！\");\r\n          return false;\r\n        }\r\n        this._operatorList[this._operatorList.length] = (floatArray[3]);\r\n        this._resultList[this._resultList.length] = (true);\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        for (var i = 0; i < this._operatorList.length; i++) {\r\n          if (this._operatorList[i] == \"=\" || this._operatorList[i] == \"==\") {\r\n            if (Math.abs(this._floatList[i * 3].value - this._floatList[i * 3 + 1].value) < this._floatList[i * 3 + 2].value) {\r\n              this._resultList[i] = true;\r\n            }\r\n            else {\r\n              this._resultList[i] = false;\r\n            }\r\n          }\r\n          else if (this._operatorList[i] == \">\") {\r\n            if (this._floatList[i * 3].value > this._floatList[i * 3 + 1].value) {\r\n              this._resultList[i] = true;\r\n            }\r\n            else {\r\n              this._resultList[i] = false;\r\n            }\r\n          }\r\n          else if (this._operatorList[i] == \">=\") {\r\n            if (this._floatList[i * 3].value >= this._floatList[i * 3 + 1].value) {\r\n              this._resultList[i] = true;\r\n            }\r\n            else {\r\n              this._resultList[i] = false;\r\n            }\r\n          }\r\n          else if (this._operatorList[i] == \"<\") {\r\n            if (this._floatList[i * 3].value < this._floatList[i * 3 + 1].value) {\r\n              this._resultList[i] = true;\r\n            }\r\n            else {\r\n              this._resultList[i] = false;\r\n            }\r\n          }\r\n          else if (this._operatorList[i] == \"<=\") {\r\n            if (this._floatList[i * 3].value <= this._floatList[i * 3 + 1].value) {\r\n              this._resultList[i] = true;\r\n            }\r\n            else {\r\n              this._resultList[i] = false;\r\n            }\r\n          }\r\n        }\r\n        var result: boolean = false;\r\n        if (this._resultList.length == 1) {\r\n          result = this._resultList[0];\r\n        }\r\n        else {\r\n          result = this._resultList[0];\r\n          for (var i = 1; i < this._resultList.length; i++) {\r\n            if (this._boolOperator == \"&&\") {\r\n              result = result && this._resultList[i];\r\n            }\r\n            else {\r\n              result = result || this._resultList[i];\r\n            }\r\n          }\r\n        }\r\n        if (result) {\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_String_Compare extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'String_Compare|字符串比较 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_String_Compare';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inString: VeryString = new VeryString();\r\n  private _compareString: VeryString = new VeryString();\r\n\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inString = para0.string;\r\n\r\n      //第2个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._compareString = para1.string;\r\n\r\n      //第3个参数\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._inString.value == (this._compareString.value)) {\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n        else {\r\n          this._resultBool.value = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_String_Changed extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'String_Changed|字符串改变 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_String_Changed';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inString: VeryString = new VeryString();\r\n  private _lastString: string = \"\";\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inString = para0.string;\r\n      this._lastString = this._inString.value;\r\n\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._lastString == this._inString.value) {\r\n          this._resultBool.value = false;\r\n        }\r\n        else {\r\n          this._lastString = this._inString.value;\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\nexport class Trigger_String_Contains extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'String_Contains|字符串包含 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_String_Contains';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inString: VeryString = new VeryString();\r\n  private _compareString: VeryString = new VeryString();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inString = para0.string;\r\n\r\n      //第2个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._compareString = para1.string;\r\n\r\n      //第3个参数\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._inString.value.indexOf(this._compareString.value) != -1) {\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n        else {\r\n          this._resultBool.value = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Gameobject_Compare extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Gameobject_Compare|物体比较 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Gameobject_Compare';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n  private _compareGameobject: VeryGameObject = new VeryGameObject();\r\n  private _activeMode: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 4)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._compareGameobject = para1.gameObject;\r\n\r\n      //第3个参数\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      //第4个参数\r\n      try {\r\n        this._activeMode = Boolean(para_array[3]);\r\n      }\r\n      catch\r\n      {\r\n        console.error(this.ID + \" 触发传入参数格式错误： + \" + para_array[3] + \"，应填写“true”或者“false”，true代表一致则触发，false代表不一致则触发；，请检查！\");\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._activeMode) {\r\n          if (this._inGameobject.value == (this._compareGameobject.value)) {\r\n            this._resultBool.value = true;\r\n            this.sendEvent();\r\n          }\r\n          else {\r\n            this._resultBool.value = false;\r\n          }\r\n        }\r\n        else {\r\n          if (this._inGameobject.value != (this._compareGameobject.value)) {\r\n            this._resultBool.value = true;\r\n            this.sendEvent();\r\n          }\r\n          else {\r\n            this._resultBool.value = false;\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Gameobject_CompareName extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Gameobject_CompareName|物体名比较 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Gameobject_CompareName';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n  private _gameobjectName: VeryString = new VeryString();\r\n  private _activeMode: boolean = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 4)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._gameobjectName = para1.string;\r\n\r\n      //第3个参数\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      //第4个参数\r\n      try {\r\n        this._activeMode = Boolean(para_array[3]);\r\n      }\r\n      catch\r\n      {\r\n        console.error(this.ID + \" 触发传入参数格式错误： + \" + para_array[3] + \"，应填写“true”或者“false”，true代表一致则触发，false代表不一致则触发；，请检查！\");\r\n        return false;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._activeMode) {\r\n          if (this._inGameobject.value?.name == (this._gameobjectName.value)) {\r\n            this._resultBool.value = true;\r\n            this.sendEvent();\r\n          }\r\n          else {\r\n            this._resultBool.value = false;\r\n          }\r\n        }\r\n        else {\r\n          if (this._inGameobject.value?.name != (this._gameobjectName.value)) {\r\n            this._resultBool.value = true;\r\n            this.sendEvent();\r\n          }\r\n          else {\r\n            this._resultBool.value = false;\r\n          }\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Gameobject_Changed extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Gameobject_Changed|物体改变 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Gameobject_Changed';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n  private _lastGameobject: Nullable<GameObject> = null;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n      this._lastGameobject = this._inGameobject.value;\r\n\r\n      //第2个参数\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._lastGameobject == this._inGameobject.value) {\r\n          this._resultBool.value = false;\r\n        }\r\n        else {\r\n          this._lastGameobject = this._inGameobject.value;\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Gameobject_Is_Null extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Gameobject_Is_Null|物体是否为空 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Gameobject_Is_Null';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._inGameobject.value == null) {\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n        else {\r\n          this._resultBool.value = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_Gameobject_Has_Children extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Gameobject_Has_Children|物体是否含有子物体 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_Gameobject_Has_Children';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._inGameobject.value != null) {\r\n          if (this._inGameobject.value.gameObject.transform.childCount > 0) {\r\n            this._resultBool.value = true;\r\n            this.sendEvent();\r\n          }\r\n          else {\r\n            this._resultBool.value = false;\r\n          }\r\n        }\r\n        else {\r\n          this._resultBool.value = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_GameObject_Is_Active extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Gameobject_Is_Active|物体是否激活 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_GameObject_Is_Active';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._inGameobject.value != null) {\r\n          if (this._inGameobject.value.transform.transformNode?.isEnabled()) {\r\n            this._resultBool.value = true;\r\n            this.sendEvent();\r\n          }\r\n          else {\r\n            this._resultBool.value = false;\r\n          }\r\n        }\r\n        else {\r\n          this._resultBool.value = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Trigger_GameObject_Is_Child_Of extends VE_TriggerBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'GameObject_Is_Child_Of|物体是否为其他物体子物体 ';\r\n  };\r\n\r\n  public get className(): string {\r\n    return 'Trigger_GameObject_Is_Child_Of';\r\n  };\r\n\r\n  private _resultBool: VeryBool = new VeryBool();\r\n  private _inGameobject: VeryGameObject = new VeryGameObject();\r\n  private _fatherGameobject: VeryGameObject = new VeryGameObject();\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.Scene>> = null;\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 3)) {\r\n      return false;\r\n    }\r\n    else {\r\n      //第一个参数\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._inGameobject = para0.gameObject;\r\n\r\n      //第2个参数\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._fatherGameobject = para1.gameObject;\r\n\r\n      //第3个参数\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n\r\n      }\r\n      else {\r\n        let para1: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para1, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._resultBool = para1.bool;\r\n      }\r\n\r\n      this._observer = this.scene.onBeforeRenderObservable.add(() => {\r\n        if (this._inGameobject.value?.transform.transformNode?.parent == (this._fatherGameobject.value?.transform.transformNode)) {\r\n          this._resultBool.value = true;\r\n          this.sendEvent();\r\n        }\r\n        else {\r\n          this._resultBool.value = false;\r\n        }\r\n      });\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this._scene.onBeforeRenderObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\n//bool\r\nVE_Triggers.addTrigger(Trigger_Bool_All_True);\r\nVE_Triggers.addTrigger(Trigger_Bool_All_False);\r\nVE_Triggers.addTrigger(Trigger_Bool_Any_True);\r\nVE_Triggers.addTrigger(Trigger_Bool_Changed);\r\n\r\n//number\r\nVE_Triggers.addTrigger(Trigger_Number_Compare);\r\nVE_Triggers.addTrigger(Trigger_Number_Changed);\r\nVE_Triggers.addTrigger(Trigger_Number_Multi_Compare);\r\n\r\n//string\r\nVE_Triggers.addTrigger(Trigger_String_Compare);\r\nVE_Triggers.addTrigger(Trigger_String_Changed);\r\nVE_Triggers.addTrigger(Trigger_String_Contains);\r\n\r\n//gameobject\r\nVE_Triggers.addTrigger(Trigger_Gameobject_Compare);\r\nVE_Triggers.addTrigger(Trigger_Gameobject_CompareName);\r\nVE_Triggers.addTrigger(Trigger_Gameobject_Changed);\r\nVE_Triggers.addTrigger(Trigger_Gameobject_Is_Null);\r\nVE_Triggers.addTrigger(Trigger_Gameobject_Has_Children);\r\nVE_Triggers.addTrigger(Trigger_GameObject_Is_Active);\r\nVE_Triggers.addTrigger(Trigger_GameObject_Is_Child_Of);\r\n\r\n//TODO:list: Trigger_List_Contain","import { VE_TriggerBehaviour, VE_Triggers } from \"../../trigger\";\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString } from \"../../variables\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType, Severity } from \"../../enum\";\r\nimport { VE_ErrorManager, VE_Error } from \"../../global\";\r\nimport { Action_Debug } from \"../action\";\r\n\r\nexport class Trigger_UGUI_Button extends VE_TriggerBehaviour {\r\n\r\n    public get ID(): string {\r\n        return 'GUI_Button|按钮 ';\r\n    };\r\n\r\n    public get className(): string {\r\n        return 'Trigger_UGUI_Button';\r\n    };\r\n\r\n    private _button: BABYLON.GUI.Button = new BABYLON.GUI.Button();\r\n\r\n    private _observer: Nullable<BABYLON.Observer<BABYLON.GUI.Vector2WithInfo>> = null;\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n            return false;\r\n        }\r\n        else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._button = <BABYLON.GUI.Button>tmpControl;\r\n            }\r\n\r\n            this._observer = this._button.onPointerDownObservable.add(() => {\r\n                this.sendEvent();\r\n            });\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n        if (this._observer) {\r\n            this._button.onPointerDownObservable.remove(this._observer);\r\n        }\r\n        this._observer = null;\r\n    }\r\n}\r\n\r\nexport class Trigger_UGUI_Event_Trigger extends VE_TriggerBehaviour {\r\n\r\n    public get ID(): string {\r\n        return 'GUI_Event_Trigger|GUI事件 ';\r\n    };\r\n\r\n    public get className(): string {\r\n        return 'Trigger_UGUI_Event_Trigger';\r\n    };\r\n\r\n    private _control: BABYLON.GUI.Control = new BABYLON.GUI.Control();\r\n    private _eventType: string = \"\";\r\n\r\n    private _moveObserver: Nullable<BABYLON.Observer<BABYLON.Vector2>> = null;\r\n    private _outObserver: Nullable<BABYLON.Observer<BABYLON.GUI.Control>> = null;\r\n    private _downObserver: Nullable<BABYLON.Observer<BABYLON.GUI.Vector2WithInfo>> = null;\r\n    private _upObserver: Nullable<BABYLON.Observer<BABYLON.GUI.Vector2WithInfo>> = null;\r\n    private _clickObserver: Nullable<BABYLON.Observer<BABYLON.GUI.Vector2WithInfo>> = null;\r\n    private _enterObserver: Nullable<BABYLON.Observer<BABYLON.GUI.Control>> = null;\r\n\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n            return false;\r\n        }\r\n        else {\r\n            //第一个参数\r\n            var tmpControl = UGUI_Tools.GetUI(this.scene, para_array[0], this.ID);\r\n            if (tmpControl == null) {\r\n                console.error(this.ID + \"--响应参数出错--\" + para_array[0]);\r\n                return false;\r\n            }\r\n            else {\r\n                this._control = tmpControl;\r\n            }\r\n\r\n            //第2个参数\r\n            this._eventType = para_array[1];\r\n            if (this._eventType == \"移动\") {\r\n                this._moveObserver = this._control.onPointerMoveObservable.add(() => {\r\n                    this.sendEvent();\r\n                });\r\n            }\r\n            else if (this._eventType == \"移出\") {\r\n                this._outObserver = this._control.onPointerOutObservable.add(() => {\r\n                    this.sendEvent();\r\n                });\r\n            }\r\n            else if (this._eventType == \"按下\") {\r\n                this._downObserver = this._control.onPointerDownObservable.add(() => {\r\n                    this.sendEvent();\r\n                });\r\n            }\r\n            else if (this._eventType == \"抬起\") {\r\n                this._upObserver = this._control.onPointerUpObservable.add(() => {\r\n                    this.sendEvent();\r\n                });\r\n            }\r\n            else if (this._eventType == \"点击\") {\r\n                this._clickObserver = this._control.onPointerClickObservable.add(() => {\r\n                    this.sendEvent();\r\n                });\r\n            }\r\n            else if (this._eventType == \"移入\") {\r\n                this._enterObserver = this._control.onPointerEnterObservable.add(() => {\r\n                    this.sendEvent();\r\n                });\r\n            }\r\n            else {\r\n                console.error(this.ID + \"--响应参数出错--\" + this._eventType);\r\n                return false;\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n        if (this._moveObserver) {\r\n            this._control.onPointerMoveObservable.remove(this._moveObserver);\r\n        }\r\n        if (this._outObserver) {\r\n            this._control.onPointerOutObservable.remove(this._outObserver);\r\n        }\r\n        if (this._downObserver) {\r\n            this._control.onPointerDownObservable.remove(this._downObserver);\r\n        }\r\n        if (this._upObserver) {\r\n            this._control.onPointerUpObservable.remove(this._upObserver);\r\n        }\r\n        if (this._clickObserver) {\r\n            this._control.onPointerClickObservable.remove(this._clickObserver);\r\n        }\r\n        if (this._enterObserver) {\r\n            this._control.onPointerEnterObservable.remove(this._enterObserver);\r\n        }\r\n        this._moveObserver = null;\r\n        this._outObserver = null;\r\n        this._downObserver = null;\r\n        this._upObserver = null;\r\n        this._clickObserver = null;\r\n        this._enterObserver = null;\r\n    }\r\n}\r\n\r\nexport class UGUI_Tools {\r\n    /*\r\n      获取UI\r\n    */\r\n    public static GetUI(scene: BABYLON.Scene, buttonName: string, id: string): BABYLON.Nullable<BABYLON.GUI.Control> {\r\n        var control: BABYLON.Nullable<BABYLON.GUI.Control> = null;\r\n        var array: string[] = buttonName.split(\".\");\r\n        var tmpTexture: BABYLON.GUI.AdvancedDynamicTexture;\r\n        var hasAdvancedDynamicTexture = false;\r\n        var hasUI = false;\r\n        for (var i = 0; i < scene.textures.length; i++) {\r\n            if (array[0] == scene.textures[i].name) {\r\n                tmpTexture = <BABYLON.GUI.AdvancedDynamicTexture>scene.textures[i];\r\n                var tmpContainer = tmpTexture.rootContainer;\r\n                for (var i = 1; i < array.length; i++) {\r\n                    var tmpControl = tmpContainer.getChildByName(array[i]);\r\n                    if (tmpControl == null) {\r\n                        hasUI = false;\r\n                        break;\r\n                    }\r\n                    else {\r\n                        if (i != (array.length - 1)) {\r\n                            tmpContainer = <BABYLON.GUI.Container>tmpControl;\r\n                        }\r\n                        else {\r\n                            return tmpControl;\r\n                        }\r\n                    }\r\n                }\r\n                hasAdvancedDynamicTexture = true;\r\n                break;\r\n            }\r\n        }\r\n        if (!hasAdvancedDynamicTexture || !hasUI) {\r\n            console.error(id + \"--响应参数出错--\" + buttonName);\r\n        }\r\n\r\n        return control;\r\n    }\r\n}\r\n\r\n//GUI\r\nVE_Triggers.addTrigger(Trigger_UGUI_Button);\r\nVE_Triggers.addTrigger(Trigger_UGUI_Event_Trigger);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas, ErrorInfo } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, IVeryVar, VeryBool, VarTools } from \"../../variables\";\r\n\r\n\r\nexport class Action_Active_Camera extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"Active_Camera|激活相机\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_Active_Camera\";\r\n    }\r\n\r\n    private _carema1: BABYLON.Nullable<BABYLON.Camera> = null;\r\n    private _cameraList: BABYLON.Camera[] = [];\r\n\r\n    public active(): void {\r\n        if (this._carema1) {\r\n            this._carema1.setEnabled(true);\r\n            for (var i = 0; i < this._cameraList.length; i++) {\r\n                this._cameraList[i].setEnabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\n    public onUpdate(): void {\r\n\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1, 2)) {\r\n            return false;\r\n        } else {\r\n            // 参数1：\r\n            this._carema1 = Camera_Tools.GetCamera(this.scene, para_array[0], this.ID);\r\n\r\n            // 参数2：\r\n            if (para_array.length > 1) {\r\n                if (para_array[1].toLowerCase() == \"null\" || para_array[1].toLowerCase() == \"none\") {\r\n\r\n                }\r\n                else {\r\n                    var strings = para_array[1].split(/,|，/);\r\n                    for (var i = 0; i < strings.length; i++) {\r\n                        strings[i] = strings[i].trim();\r\n                        var tmpCamera = Camera_Tools.GetCamera(this.scene, strings[i], this.ID);\r\n                        if (tmpCamera != null)\r\n                            this._cameraList[this._cameraList.length] = (tmpCamera);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_Set_Main_Camera extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"Set_Main_Camera|设置主相机\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_Set_Main_Camera\";\r\n    }\r\n\r\n    private _carema1: BABYLON.Nullable<BABYLON.Camera> = null;\r\n\r\n    public active(): void {\r\n        if (this._carema1) {\r\n            this.scene.activeCamera = this._carema1;\r\n        }\r\n    }\r\n\r\n    public onUpdate(): void {\r\n\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n            return false;\r\n        } else {\r\n            // 参数1：\r\n            this._carema1 = Camera_Tools.GetCamera(this.scene, para_array[0], this.ID);\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_Get_CameraSize extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"Get_CameraSize|获取相机视窗大小\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_Get_CameraSize\";\r\n    }\r\n\r\n    private _carema1: BABYLON.Nullable<BABYLON.Camera> = null;\r\n    private _size: VeryNumber = new VeryNumber();\r\n\r\n    public active(): void {\r\n        if (this._carema1) {\r\n            this._size.value = this._carema1.fov;\r\n        }\r\n    }\r\n\r\n    public onUpdate(): void {\r\n\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n            return false;\r\n        } else {\r\n            // 参数1：\r\n            this._carema1 = Camera_Tools.GetCamera(this.scene, para_array[0], this.ID);\r\n\r\n            //参数2\r\n            let para3: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n                return false;\r\n            }\r\n            this._size = para3.number;\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_Set_CameraSize extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"Set_CameraSize|设置相机视窗大小\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_Set_CameraSize\";\r\n    }\r\n\r\n    private _carema1: BABYLON.Nullable<BABYLON.Camera> = null;\r\n    private _size: VeryNumber = new VeryNumber();\r\n\r\n    public active(): void {\r\n        if (this._carema1) {\r\n            this._carema1.fov = this._size.value;\r\n        }\r\n    }\r\n\r\n    public onUpdate(): void {\r\n\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n            return false;\r\n        } else {\r\n            // 参数1：\r\n            this._carema1 = Camera_Tools.GetCamera(this.scene, para_array[0], this.ID);\r\n\r\n            //参数2\r\n            let para3: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n                return false;\r\n            }\r\n            this._size = para3.number;\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\nexport class Action_Set_Camera_Culling_Mask extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"Set_Camera_Culling_Mask|设置相机渲染层\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_Set_Camera_Culling_Mask\";\r\n    }\r\n\r\n    private _carema1: BABYLON.Nullable<BABYLON.Camera> = null;\r\n    private _layer: VeryNumber = new VeryNumber();\r\n\r\n    public active(): void {\r\n        if (this._carema1) {\r\n            this._carema1.layerMask = this._layer.value;\r\n        }\r\n    }\r\n\r\n    public onUpdate(): void {\r\n\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n            return false;\r\n        } else {\r\n            // 参数1：\r\n            this._carema1 = Camera_Tools.GetCamera(this.scene, para_array[0], this.ID);\r\n\r\n            //参数2\r\n            let para3: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n                return false;\r\n            }\r\n            this._layer = para3.number;\r\n\r\n            return true;\r\n        }\r\n    }\r\n    public destroy(): void {\r\n\r\n    }\r\n}\r\n\r\n//TODO:20200805\r\nVE_Actions.addAction(Action_Active_Camera);\r\nVE_Actions.addAction(Action_Set_Main_Camera);\r\nVE_Actions.addAction(Action_Get_CameraSize);\r\nVE_Actions.addAction(Action_Set_CameraSize);\r\nVE_Actions.addAction(Action_Set_Camera_Culling_Mask);\r\n\r\nexport class Camera_Tools {\r\n    /*\r\n      获取UI\r\n    */\r\n    public static GetCamera(scene: BABYLON.Scene, name: string, id: string): BABYLON.Nullable<BABYLON.Camera> {\r\n        for (var i = 0; i < scene.cameras.length; i++) {\r\n            if (name == scene.cameras[i].name) {\r\n                return scene.cameras[i];\r\n            }\r\n        }\r\n        console.error(id + \"--响应参数出错--\" + name);\r\n        return null;\r\n    }\r\n}","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas, ErrorInfo } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, IVeryVar, VeryBool, VarTools, VeryVector3 } from \"../../variables\";\r\n\r\nexport class Action_Set_Light_Color extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Light_Color|设置灯光颜色\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Light_Color\";\r\n  }\r\n\r\n  private _light: BABYLON.Nullable<BABYLON.Light> = null;\r\n\r\n  private _isColor: boolean = false;\r\n  private _blueColor: VeryVector3 = new VeryVector3();\r\n  private _colorFloat: VeryNumber[] = [];\r\n\r\n  public active(): void {\r\n    if (this._light) {\r\n      if (!this._isColor) {\r\n        this._light.diffuse = new BABYLON.Color3(this._colorFloat[0].value / 255, this._colorFloat[1].value / 255, this._colorFloat[2].value / 255);\r\n      }\r\n      else {\r\n        this._light.diffuse = new BABYLON.Color3(this._blueColor.value.x / 255, this._blueColor.value.y / 255, this._blueColor.value.z / 255);\r\n      }\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n\r\n      // 参数1：\r\n      this._light = Light_Tools.GetLight(this.scene, para_array[0], this.ID);\r\n\r\n      //参数2\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._isColor = para3.isVec;\r\n      this._blueColor = para3.vector3;\r\n      this._colorFloat = para3.vecNumbers;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Set_Light_Intensity extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Light_Intensity|设置灯光强度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Light_Intensity\";\r\n  }\r\n\r\n  private _light: BABYLON.Nullable<BABYLON.Light> = null;\r\n  private _intensity: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    if (this._light) {\r\n      this._light.intensity = this._intensity.value;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n\r\n      // 参数1：\r\n      this._light = Light_Tools.GetLight(this.scene, para_array[0], this.ID);\r\n\r\n      //参数2\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._intensity = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Set_Light_Range extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Light_Range|设置灯光范围\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Light_Range\";\r\n  }\r\n\r\n  private _light: BABYLON.Nullable<BABYLON.Light> = null;\r\n  private _size: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    if (this._light) {\r\n      this._light.range = this._size.value;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n\r\n      // 参数1：\r\n      this._light = Light_Tools.GetLight(this.scene, para_array[0], this.ID);\r\n\r\n      //参数2\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._size = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Set_Light_Spot_Angle extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Set_Light_Spot_Angle|设置灯光聚光角度\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Set_Light_Spot_Angle\";\r\n  }\r\n\r\n  private _light: BABYLON.Nullable<BABYLON.SpotLight> = null;\r\n  private _angle: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n    if (this._light) {\r\n      this._light.angle = this._angle.value;\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n\r\n      // 参数1：\r\n      var tmpLight = Light_Tools.GetLight(this.scene, para_array[0], this.ID);\r\n      if (tmpLight?.getClassName() != \"SpotLight\") {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[0] + \"，该物体不是SpotLight类型！\");\r\n        return false;\r\n      }\r\n\r\n      //参数2\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Trigger, para3, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._angle = para3.number;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//TODO:20200805\r\nVE_Actions.addAction(Action_Set_Light_Color);\r\nVE_Actions.addAction(Action_Set_Light_Intensity);\r\nVE_Actions.addAction(Action_Set_Light_Range);\r\nVE_Actions.addAction(Action_Set_Light_Spot_Angle);\r\n\r\n\r\nexport class Light_Tools {\r\n  /*\r\n    获取UI\r\n  */\r\n  public static GetLight(scene: BABYLON.Scene, name: string, id: string): BABYLON.Nullable<BABYLON.Light> {\r\n    for (var i = 0; i < scene.lights.length; i++) {\r\n      if (name == scene.lights[i].name) {\r\n        return scene.lights[i];\r\n      }\r\n    }\r\n    console.error(id + \"--响应参数出错--\" + name);\r\n    return null;\r\n  }\r\n}","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas, ErrorInfo } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, IVeryVar, VeryBool, VarTools, VeryVector3, VeryGameObject, VeryVector2 } from \"../../variables\";\r\nimport { BabylonEngine } from \"../../babylon\";\r\nimport { Transform } from \"src/veryengine/babylon\";\r\n\r\nexport class Action_GetMousePosition_Screen extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"GetMousePosition_Screen|获取鼠标屏幕位置\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_GetMousePosition_Screen\";\r\n  }\r\n\r\n  private _mousePosVe: VeryVector2 = new VeryVector2();\r\n  private _mousePosX: VeryNumber = new VeryNumber();\r\n  private _mousePosY: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    this._mousePosVe.value = new BABYLON.Vector2(this.scene.pointerX, this.scene.pointerY);\r\n    this._mousePosX.value = this._mousePosVe.value.x;\r\n    this._mousePosY.value = this._mousePosVe.value.y;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1, 2)) {\r\n      return false;\r\n    } else {\r\n      if (para_array.length == 1) {\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.Vector2Para(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._mousePosVe = para0.vector2;\r\n      }\r\n      else {\r\n        if (para_array[0].toLowerCase() == \"null\" || para_array[0].toLowerCase() == \"none\") {\r\n\r\n        }\r\n        else {\r\n          let para0: VeryParas = new VeryParas();\r\n          if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n            return false;\r\n          }\r\n          this._mousePosX = para0.number;\r\n        }\r\n        if (para_array[1].toLowerCase() == \"null\" || para_array[1].toLowerCase() == \"none\") {\r\n\r\n        }\r\n        else {\r\n          let para0: VeryParas = new VeryParas();\r\n          if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[1])) {\r\n            return false;\r\n          }\r\n          this._mousePosY = para0.number;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Mouse_Pick extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Mouse_Pick|鼠标点选\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Mouse_Pick\";\r\n  }\r\n\r\n  private _blueBool: VeryBool = new VeryBool();\r\n  private _isBool = false;\r\n\r\n  private _blueGameObject: VeryGameObject = new VeryGameObject();\r\n  private _isGameObject = false;\r\n\r\n  private _blueVector3: VeryVector3 = new VeryVector3();\r\n  private _isVector3 = false;\r\n\r\n  private _blueFloat: VeryNumber = new VeryNumber();\r\n  private _isFloat = false;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public active(): void {\r\n    this._observer = this.scene.onPointerObservable.add((pointerInfo) => {\r\n      switch (pointerInfo.type) {\r\n        case BABYLON.PointerEventTypes.POINTERDOWN:\r\n          if (pointerInfo.pickInfo != null) {\r\n            if (this._isBool) {\r\n              this._blueBool.value = (pointerInfo.pickInfo.pickedMesh != null);\r\n            }\r\n            if (this._isGameObject) {\r\n              if (pointerInfo.pickInfo.pickedMesh != null) {\r\n                this._blueGameObject.setValue(pointerInfo.pickInfo.pickedMesh);\r\n              }\r\n              else {\r\n                this._blueGameObject.value = null;\r\n              }\r\n            }\r\n            if (this._isVector3) {\r\n              if (pointerInfo.pickInfo.pickedPoint != null) {\r\n                this._blueVector3.value = pointerInfo.pickInfo.pickedPoint;\r\n              }\r\n              else {\r\n                this._blueVector3.value = BABYLON.Vector3.Zero();\r\n              }\r\n            }\r\n            if (this._isFloat) {\r\n              this._blueFloat.value = pointerInfo.pickInfo.distance;\r\n            }\r\n          }\r\n          break;\r\n      };\r\n    });\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      //参数1\r\n      if (para_array[0].toLowerCase() == \"null\" || para_array[0].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        this._isBool = true;\r\n        var para0 = new VeryParas();\r\n        if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n          return false;\r\n        }\r\n        this._blueBool = para0.bool;\r\n      }\r\n\r\n      //参数2\r\n      if (para_array[1].toLowerCase() == \"null\" || para_array[1].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        this._isGameObject = true;\r\n        var para0 = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._blueGameObject = para0.gameObject;\r\n      }\r\n\r\n      //参数3\r\n      if (para_array[2].toLowerCase() == \"null\" || para_array[2].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        this._isVector3 = true;\r\n        var para0 = new VeryParas();\r\n        if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._blueVector3 = para0.vector3;\r\n      }\r\n\r\n      //参数4\r\n      if (para_array[3].toLowerCase() == \"null\" || para_array[3].toLowerCase() == \"none\") {\r\n\r\n      }\r\n      else {\r\n        this._isFloat = true;\r\n        var para0 = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._blueFloat = para0.number;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this.scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Action_MouseDrag extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"MouseDrag|鼠标拖拽\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_MouseDrag\";\r\n  }\r\n\r\n  //拖拽方式\r\n  private _choose = \"\";\r\n  private _moveRef: BABYLON.Nullable<Transform> = null;\r\n  //拖拽鼠标按钮\r\n  private _mouseBtn = 0;\r\n  //拖拽轴\r\n  private _move = \"\";\r\n  //过滤条件\r\n  private _filter = false;\r\n  private _include = true;\r\n  private _filterName: string[] = [];\r\n\r\n  //拖拽\r\n  private startingPoint: BABYLON.Nullable<BABYLON.Vector2> = null;\r\n  private currentMesh: BABYLON.Nullable<BABYLON.AbstractMesh> = null;\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public active(): void {\r\n    this._observer = this.scene.onPointerObservable.add((pointerInfo) => {\r\n      switch (pointerInfo.type) {\r\n        case BABYLON.PointerEventTypes.POINTERDOWN:\r\n          if (pointerInfo.pickInfo && pointerInfo.pickInfo.pickedMesh) {\r\n            if (!this._filter) {\r\n              this.pointerDown(pointerInfo.pickInfo.pickedMesh)\r\n            }\r\n            else {\r\n              if (this._include) {\r\n                if (this._filterName.indexOf(pointerInfo.pickInfo.pickedMesh.name) != -1) {\r\n                  this.pointerDown(pointerInfo.pickInfo.pickedMesh)\r\n                }\r\n              }\r\n              else {\r\n                if (this._filterName.indexOf(pointerInfo.pickInfo.pickedMesh.name) == -1) {\r\n                  this.pointerDown(pointerInfo.pickInfo.pickedMesh)\r\n                }\r\n              }\r\n            }\r\n          }\r\n          break;\r\n        case BABYLON.PointerEventTypes.POINTERUP:\r\n          this.pointerUp();\r\n          break;\r\n        case BABYLON.PointerEventTypes.POINTERMOVE:\r\n          this.pointerMove();\r\n          break;\r\n      }\r\n    });\r\n  }\r\n  private getPosition(): BABYLON.Nullable<BABYLON.Vector2> {\r\n    return new BABYLON.Vector2(this.scene.pointerX, this.scene.pointerY);\r\n  }\r\n  private pointerDown(mesh: BABYLON.AbstractMesh) {\r\n    this.currentMesh = mesh;\r\n    let tmpCamera = this.scene.activeCamera;\r\n    this.startingPoint = this.getPosition();\r\n    if (this.startingPoint) { // we need to disconnect camera from canvas\r\n      setTimeout(function () {\r\n        if (tmpCamera)\r\n          tmpCamera.detachControl(BabylonEngine.Canvas);\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  private pointerUp() {\r\n    if (this.startingPoint) {\r\n      let tmpCamera = this.scene.activeCamera;\r\n      if (tmpCamera)\r\n        tmpCamera.attachControl(BabylonEngine.Canvas, true);\r\n      this.startingPoint = null;\r\n      return;\r\n    }\r\n  }\r\n\r\n  private pointerMove() {\r\n    if (!this.startingPoint) {\r\n      return;\r\n    }\r\n    var current = this.getPosition();\r\n    if (!current) {\r\n      return;\r\n    }\r\n\r\n    var diff = current.subtract(this.startingPoint);\r\n    var tmpCamera = this.scene.activeCamera;\r\n    //物体拖拽移动\r\n    if (this.currentMesh && tmpCamera) {\r\n      //free模式\r\n      if (this._choose == \"free\") {\r\n        this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(tmpCamera.getDirection(new BABYLON.Vector3(1, 0, 0)).normalize().scale(diff.x)));\r\n        this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(tmpCamera.getDirection(new BABYLON.Vector3(0, -1, 0)).normalize().scale(diff.y)));\r\n      }\r\n      //TODO:World, Self和物体模式未实现;x,y,z,xy,xz,yz轴6种模式未实现\r\n      if (this._choose == \"world\") {\r\n        this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(tmpCamera.getDirection(new BABYLON.Vector3(1, 0, 0)).normalize().scale(diff.x)));\r\n        this.currentMesh.setAbsolutePosition(this.currentMesh.getAbsolutePosition().add(tmpCamera.getDirection(new BABYLON.Vector3(0, -1, 0)).normalize().scale(diff.y)));\r\n      }\r\n    }\r\n    this.startingPoint = current;\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3, 5)) {\r\n      return false;\r\n    } else {\r\n      //参数1\r\n      var firstStr = para_array[0].toLowerCase();\r\n      if (firstStr == \"world\" || firstStr == \"世界\") {\r\n        this._choose = \"world\";\r\n      }\r\n      else if (firstStr == \"self\" || firstStr == \"相对\" || firstStr == \"自身\") {\r\n        this._choose = \"self\";\r\n      }\r\n      else if (firstStr == \"free\" || firstStr == \"自由\") {\r\n        this._choose = \"free\";\r\n      }\r\n      else {\r\n        var tempObj = new VeryGameObject();\r\n        let para1 = new VeryParas();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n          return false;\r\n        }\r\n        tempObj = para1.gameObject;\r\n        if (tempObj.value == null) {\r\n          console.error(this.ID + \" 响应传入参数格式错误，当前物体： \" + para_array[0] + \"，无法在场景中查找到，请检查！\");\r\n          return false;\r\n        }\r\n        this._moveRef = tempObj.value.transform;\r\n        this._choose = \"someObject\";\r\n      }\r\n\r\n      //参数2\r\n      var secondStr = para_array[1].toLowerCase();\r\n      if (secondStr == \"0\" || secondStr == \"left\" || secondStr == \"左\") {\r\n        this._mouseBtn = 0;\r\n      }\r\n      else if (secondStr == \"1\" || secondStr == \"right\" || secondStr == \"右\") {\r\n        this._mouseBtn = 2;\r\n      }\r\n      else if (secondStr == \"2\" || secondStr == \"middle\" || secondStr == \"中\") {\r\n        this._mouseBtn = 1;\r\n      }\r\n      else {\r\n        console.error(this.ID + \" 响应传入参数格式错误，当前值为： \" + para_array[1] + \"，鼠标参数格式为:  2. “0”、“left”或者“左”表示鼠标左键拖拽，填“1”、“right”或者“右”表示鼠标右键拖拽，填“2”、“middle”或者“中”表示鼠标中键拖拽！\");\r\n        return false;\r\n      }\r\n\r\n      //参数3\r\n      var thirdStr = para_array[2].toLowerCase();\r\n      if (thirdStr == \"x\" || thirdStr == \"y\" || thirdStr == \"z\" || thirdStr == \"xy\" || thirdStr == \"yx\" || thirdStr == \"xz\" || thirdStr == \"zx\" || thirdStr == \"yz\" || thirdStr == \"zy\") {\r\n        this._move = thirdStr;\r\n      }\r\n      else {\r\n        if (this._choose != \"free\") {\r\n          console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[2] + \"，轴应该填“X”、“Y”、“Z”、“XY”、“XZ”或者“YZ”！\");\r\n          return false;\r\n        }\r\n      }\r\n\r\n      //参数4\r\n      if (para_array.length > 3) {\r\n        var tagArray = para_array[3].split('~');\r\n        if (tagArray.length != 2) {\r\n          console.error(this.ID + \" 响应参数格式填写错误，第4个参数应为“物体名~包括”或者“Name~Include”、“物体名~排除”或者“Name~Exclude”，表示过滤条件！\");\r\n          return false;\r\n        }\r\n        //物体名或者标签判断\r\n        if (tagArray[0].trim() == \"物体名\" || tagArray[0].trim().toLowerCase() == \"name\") {\r\n        }\r\n        else {\r\n          console.error(this.ID + \" 响应参数格式填写错误，第4个参数应为“物体名~包括”或者“Name~Include”、“物体名~排除”或者“Name~Exclude”，表示过滤条件！\");\r\n          return false;\r\n        }\r\n        //排除或者包括判断\r\n        if (tagArray[1].trim() == \"包括\" || tagArray[1].trim().toLowerCase() == \"include\") {\r\n          this._include = true;\r\n        }\r\n        else if (tagArray[1].trim() == \"排除\" || tagArray[1].trim().toLowerCase() == \"exclude\") {\r\n          this._include = false;\r\n        }\r\n        else {\r\n          console.error(this.ID + \" 响应参数格式填写错误，第4个参数应为“物体名~包括”或者“Name~Include”、“物体名~排除”或者“Name~Exclude”，表示过滤条件！\");\r\n          return false;\r\n        }\r\n      }\r\n      else {\r\n        this._filter = false;\r\n        this._filterName = [];\r\n      }\r\n\r\n      //参数5\r\n      if (para_array.length > 4) {\r\n        var nameArray = para_array[4].split(/,|，/);\r\n        for (var i = 0; i < nameArray.length; i++) {\r\n          nameArray[i] = nameArray[i].trim();\r\n          if (VarTools.IsVarID(nameArray[i])) {\r\n            var tempStr = new VeryString();\r\n            let para1 = new VeryParas();\r\n            if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, nameArray[i])) {\r\n              return false;\r\n            }\r\n            tempStr = para1.string;\r\n            if (tempStr.value != \"\" && (this._filterName.indexOf(tempStr.value) == -1)) {\r\n              this._filterName[this._filterName.length] = (nameArray[i]);\r\n            }\r\n          }\r\n          else {\r\n            if (nameArray[i] != \"\" && (this._filterName.indexOf(nameArray[i]) == -1)) {\r\n              this._filterName[this._filterName.length] = (nameArray[i]);\r\n            }\r\n          }\r\n        }\r\n        if (this._filterName.length > 0) {\r\n          this._filter = true;\r\n        }\r\n      }\r\n      else {\r\n        this._filter = false;\r\n        this._filterName = [];\r\n      }\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this.scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Action_MouseEnterHighlight extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"MouseEnterHighlight|鼠标移入高亮\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_MouseEnterHighlight\";\r\n  }\r\n\r\n  //鼠标经过时改变物体颜色  \r\n  private _isColor = true;\r\n  private _newColor: VeryVector3 = new VeryVector3();\r\n  private _colorFloat: VeryNumber[] = [];\r\n  //是否处理子物体\r\n  private _isRecursion = true;\r\n  //是否开启高亮\r\n  private _switch: VeryBool = new VeryBool();\r\n  //高亮物体\r\n  private _objArray: string[] = [];\r\n\r\n  //当前操作Mesh\r\n  private _currentMesh: BABYLON.Nullable<BABYLON.AbstractMesh> = null;\r\n  private _oldMaterial: BABYLON.Nullable<BABYLON.Material> = null;\r\n  private _oldMaterials: { [key: string]: BABYLON.Nullable<BABYLON.Material> } = {};\r\n\r\n  private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n\r\n  public active(): void {\r\n    this._observer = this.scene.onPointerObservable.add((pointerInfo) => {\r\n      switch (pointerInfo.type) {\r\n        case BABYLON.PointerEventTypes.POINTERMOVE:\r\n          if (this._switch) {\r\n            var pickinfo = this.scene.pick(this.scene.pointerX, this.scene.pointerY);\r\n            if (pickinfo == null || pickinfo.pickedMesh == null) {\r\n              if (this._currentMesh != null) {\r\n                //console.log(\"Out--\" + this._currentMesh + \"--\" + this._oldMaterial);\r\n                if (this._isRecursion) {\r\n                  this.RecursionRestore(this._currentMesh);\r\n                  this._oldMaterials = {};\r\n                }\r\n                this._currentMesh.material = this._oldMaterial;\r\n                this._currentMesh = null;\r\n              }\r\n            }\r\n            else {\r\n              if (this._currentMesh != pickinfo.pickedMesh) {\r\n                if (this._currentMesh != null) {\r\n                  if (this._isRecursion) {\r\n                    this.RecursionRestore(this._currentMesh);\r\n                    this._oldMaterials = {};\r\n                  }\r\n                  this._currentMesh.material = this._oldMaterial;\r\n                  this._currentMesh = null;\r\n                }\r\n\r\n                if (this._objArray.indexOf(pickinfo.pickedMesh.name) != -1) {\r\n                  this._oldMaterial = pickinfo.pickedMesh.material;\r\n                  var tmpMat = new BABYLON.StandardMaterial(\"tmpMat\", this.scene);\r\n                  if (!this._isColor) {\r\n                    tmpMat.diffuseColor = new BABYLON.Color3(this._colorFloat[0].value / 255, this._colorFloat[1].value / 255, this._colorFloat[2].value / 255);\r\n                  }\r\n                  else {\r\n                    tmpMat.diffuseColor = new BABYLON.Color3(this._newColor.value.x / 255, this._newColor.value.y / 255, this._newColor.value.z / 255);\r\n                  }\r\n                  pickinfo.pickedMesh.material = tmpMat;\r\n                  this._currentMesh = pickinfo.pickedMesh;\r\n                  if (this._isRecursion) {\r\n                    this.RecursionRecord(this._currentMesh,);\r\n                  }\r\n                  //console.log(\"Enter--\" + this._currentMesh + \"--\" + this._oldMaterial);\r\n                }\r\n              }\r\n            }\r\n          }\r\n          break;\r\n      }\r\n    });\r\n  }\r\n\r\n  private RecursionRecord(obj: BABYLON.AbstractMesh) {\r\n    if (obj.getChildMeshes().length > 0) {\r\n      for (var i = 0; i < obj.getChildMeshes().length; i++) {\r\n        var tmpOldMat = obj.getChildMeshes()[i].material;\r\n        var tmpMat = new BABYLON.StandardMaterial(\"tmpMat\", this.scene);\r\n        if (!this._isColor) {\r\n          tmpMat.diffuseColor = new BABYLON.Color3(this._colorFloat[0].value / 255, this._colorFloat[1].value / 255, this._colorFloat[2].value / 255);\r\n        }\r\n        else {\r\n          tmpMat.diffuseColor = new BABYLON.Color3(this._newColor.value.x / 255, this._newColor.value.y / 255, this._newColor.value.z / 255);\r\n        }\r\n        obj.getChildMeshes()[i].material = tmpMat;\r\n        this._oldMaterials[obj.getChildMeshes()[i].name] = tmpOldMat;\r\n\r\n        this.RecursionRecord(obj.getChildMeshes()[i]);\r\n      }\r\n    }\r\n  }\r\n  private RecursionRestore(obj: BABYLON.AbstractMesh) {\r\n    if (obj.getChildMeshes().length > 0) {\r\n      for (var i = 0; i < obj.getChildMeshes().length; i++) {\r\n        obj.getChildMeshes()[i].material = this._oldMaterials[obj.getChildMeshes()[i].name];\r\n\r\n        this.RecursionRestore(obj.getChildMeshes()[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public onUpdate(): void {\r\n    if (!this._switch) {\r\n      if (this._currentMesh != null) {\r\n        if (this._isRecursion) {\r\n          this.RecursionRestore(this._currentMesh);\r\n          this._oldMaterials = {};\r\n        }\r\n        this._currentMesh.material = this._oldMaterial;\r\n        this._currentMesh = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 3, 4)) {\r\n      return false;\r\n    } else {\r\n      //参数1\r\n      var para0 = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._switch = para0.bool;\r\n\r\n      //参数3\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Trigger, para2, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._isColor = para2.isVec;\r\n      this._newColor = para2.vector3;\r\n      this._colorFloat = para2.vecNumbers;\r\n\r\n      //参数4\r\n      if (para_array.length > 3) {\r\n        if (para_array[3].toLowerCase() == \"false\") {\r\n          this._isRecursion = false;\r\n        }\r\n        else if (para_array[3].toLowerCase() != \"true\") {\r\n          console.warn(this.ID + \" 响应传入参数格式错误，其值为： \" + para_array[3] + \"，应为true或者false，当前值两者都不是，此处默认true处理，自动给子物体也高亮！\");\r\n        }\r\n      }\r\n\r\n      //参数2\r\n      var nameArray = para_array[1].split(/,|，/);\r\n      for (var i = 0; i < nameArray.length; i++) {\r\n        nameArray[i] = nameArray[i].trim();\r\n        let para1: VeryParas = new VeryParas();\r\n        var tempObj = new VeryGameObject();\r\n        if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, nameArray[i])) {\r\n          return false;\r\n        }\r\n        tempObj = para1.gameObject\r\n        if (tempObj.value == null) {\r\n          console.error(this.ID + \" 响应传入参数格式错误，当前物体： \" + nameArray[i] + \"，该物体无法在场景中查找到，请检查！\");\r\n          return false;\r\n        }\r\n        this._objArray[this._objArray.length] = nameArray[i];\r\n      }\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n    if (this._observer) {\r\n      this.scene.onPointerObservable.remove(this._observer);\r\n    }\r\n    this._observer = null;\r\n  }\r\n}\r\n\r\nexport class Action_CursorControl extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"CursorControl|鼠标控制\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_CursorControl\";\r\n  }\r\n\r\n  private _cursorControl: VeryBool = new VeryBool();\r\n\r\n  public active(): void {\r\n    if (this._cursorControl.value) {\r\n      document.body.style.cursor = \"default\";\r\n    }\r\n    else {\r\n      document.body.style.cursor = \"none\";\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._cursorControl = para0.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//TODO:20200806\r\nVE_Actions.addAction(Action_GetMousePosition_Screen);\r\nVE_Actions.addAction(Action_Mouse_Pick);\r\nVE_Actions.addAction(Action_MouseDrag);  //TODO:World,Self和物体模式未实现;x,y,z,xy,xz,yz轴6中模式未实现\r\nVE_Actions.addAction(Action_MouseEnterHighlight);\r\nVE_Actions.addAction(Action_CursorControl); ","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VE_KeyboardMap, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString, VeryRect, VeryVector3, VeryVector2 } from \"../../variables\";\r\n\r\nexport class Action_Get_Rect_Value extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Get_Rect_Value|获取矩形值';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Get_Rect_Value';\r\n  }\r\n\r\n  private _isGet = [true, true, true, true];\r\n\r\n  private _blueRect: VeryRect = new VeryRect();\r\n\r\n  private _xFloat: VeryNumber = new VeryNumber();\r\n  private _yFloat: VeryNumber = new VeryNumber();\r\n  private _widthFloat: VeryNumber = new VeryNumber();\r\n  private _heightFloat: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (this._isGet[0]) {\r\n      this._xFloat.value = this._blueRect.value.x;\r\n    }\r\n    if (this._isGet[1]) {\r\n      this._yFloat.value = this._blueRect.value.y;\r\n    }\r\n    if (this._isGet[2]) {\r\n      this._widthFloat.value = this._blueRect.value.z;\r\n    }\r\n    if (this._isGet[3]) {\r\n      this._heightFloat.value = this._blueRect.value.w;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 5)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.RectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueRect = para0.rect;\r\n\r\n      //参数2\r\n      if (para_array[1].toLowerCase() == \"none\" || para_array[1].toLowerCase() == \"null\") {\r\n        this._isGet[0] = false;\r\n      }\r\n      else {\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[1])) {\r\n          return false;\r\n        }\r\n        this._xFloat = para0.number;\r\n      }\r\n\r\n      //参数3\r\n      if (para_array[2].toLowerCase() == \"none\" || para_array[2].toLowerCase() == \"null\") {\r\n        this._isGet[1] = false;\r\n      }\r\n      else {\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[2])) {\r\n          return false;\r\n        }\r\n        this._yFloat = para0.number;\r\n      }\r\n\r\n      //参数4\r\n      if (para_array[3].toLowerCase() == \"none\" || para_array[3].toLowerCase() == \"null\") {\r\n        this._isGet[2] = false;\r\n      }\r\n      else {\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[3])) {\r\n          return false;\r\n        }\r\n        this._widthFloat = para0.number;\r\n      }\r\n\r\n      //参数5\r\n      if (para_array[4].toLowerCase() == \"none\" || para_array[4].toLowerCase() == \"null\") {\r\n        this._isGet[3] = false;\r\n      }\r\n      else {\r\n        let para0: VeryParas = new VeryParas();\r\n        if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[4])) {\r\n          return false;\r\n        }\r\n        this._heightFloat = para0.number;\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_Rect_Contains extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Rect_Contains|矩形包含';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Rect_Contains';\r\n  }\r\n\r\n  //Rect\r\n  private _isRect = false;\r\n  private _blueRect: VeryRect = new VeryRect();\r\n  private _rectFloat: VeryNumber[] = [];\r\n\r\n  //点坐标\r\n  private _isVec3 = false;\r\n  private _blueVector3 = new VeryVector3();\r\n\r\n  private _isVec2 = false;\r\n  private _blueVector2 = new VeryVector2();\r\n\r\n  private _blueX = new VeryNumber();\r\n  private _blueY = new VeryNumber();\r\n  private _blueZ = new VeryNumber();\r\n\r\n  //是否包含bool值\r\n  private _blueBool = new VeryBool();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var rect = this._blueRect.value;\r\n    if (!this._isRect) {\r\n      rect = new BABYLON.Vector4(this._rectFloat[0].value, this._rectFloat[1].value, this._rectFloat[2].value, this._rectFloat[3].value);\r\n    }\r\n\r\n    if (this._isVec3) {\r\n      this._blueBool.value = this.RectContainsVector3(rect, this._blueVector3.value);\r\n    }\r\n    else if (this._isVec2) {\r\n      this._blueBool.value = this.RectContainsVector2(rect, this._blueVector2.value);\r\n    }\r\n    else {\r\n      var _setVector2 = new BABYLON.Vector2(this._blueX.value, this._blueY.value);\r\n      this._blueBool.value = this.RectContainsVector2(rect, _setVector2);\r\n    }\r\n  }\r\n\r\n  private RectContainsVector3(rect: BABYLON.Vector4, vec3: BABYLON.Vector3) {\r\n    if (vec3.x >= rect.x && vec3.x <= (rect.x + rect.z) && vec3.y >= rect.y && vec3.y <= (rect.y + rect.w)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n  private RectContainsVector2(rect: BABYLON.Vector4, vec2: BABYLON.Vector2) {\r\n    if (vec2.x >= rect.x && vec2.x <= (rect.x + rect.z) && vec2.y >= rect.y && vec2.y <= (rect.y + rect.w)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 3)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.RectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isRect = para0.isRect;\r\n      this._blueRect = para0.rect;\r\n      this._rectFloat = para0.rectNumbers;\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        if (!ParaParserUtility.Vector2OrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n          return false;\r\n        }\r\n        else {\r\n          this._isVec2 = para1.isVec2;\r\n          this._blueVector2 = para1.vector2;\r\n          this._blueX = para1.vec2Numbers[0];\r\n          this._blueY = para1.vec2Numbers[1];\r\n        }\r\n      }\r\n      else {\r\n        this._isVec3 = para1.isVec;\r\n        this._blueVector3 = para1.vector3;\r\n        this._blueX = para1.vecNumbers[0];\r\n        this._blueY = para1.vecNumbers[1];\r\n        this._blueZ = para1.vecNumbers[2];\r\n      }\r\n\r\n      //参数3\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._blueBool = para2.bool;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_Set_Rect_Value extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Set_Rect_Value|设置矩形值';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Set_Rect_Value';\r\n  }\r\n\r\n  private _isRect = false;\r\n  private _blueFloatArray: VeryNumber[] = [];\r\n  private _blueRect = new VeryRect();\r\n\r\n  private _AcceptRect = new VeryRect();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    if (!this._isRect) {\r\n      this._AcceptRect.value = new BABYLON.Vector4(this._blueFloatArray[0].value, this._blueFloatArray[1].value, this._blueFloatArray[2].value, this._blueFloatArray[3].value);\r\n    }\r\n    else {\r\n      this._AcceptRect.value = this._blueRect.value;\r\n    }\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.RectOrNumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._isRect = para0.isRect;\r\n      this._blueRect = para0.rect;\r\n      this._blueFloatArray = para0.rectNumbers;\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.RectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._AcceptRect = para1.rect;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//TODO:20200807\r\nVE_Actions.addAction(Action_Get_Rect_Value);\r\nVE_Actions.addAction(Action_Rect_Contains);\r\nVE_Actions.addAction(Action_Set_Rect_Value);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VE_KeyboardMap, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString, VeryRect, VeryVector3, VeryVector2 } from \"../../variables\";\r\n\r\nexport class Action_Get_Vertex_Count extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Get_Vertex_Count|获取面片顶点数';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Get_Vertex_Count';\r\n  }\r\n\r\n\r\n  private _blueGameobject: VeryGameObject = new VeryGameObject();\r\n  private _blueInt: VeryNumber = new VeryNumber();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpMesh = this._blueGameobject.value?.mesh;\r\n    this._blueInt.value = 0;\r\n    if (tmpMesh != null && tmpMesh != undefined) {\r\n      //console.log(tmpMesh.name + \"--\" + tmpMesh.subMeshes.length + \"--\" + tmpMesh.getTotalVertices());\r\n      this._blueInt.value = tmpMesh.getTotalVertices();\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueGameobject = para0.gameObject;\r\n      var tmpMesh = this._blueGameobject.value?.mesh;\r\n      if (tmpMesh == null || tmpMesh == undefined) {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[0] + \"，该物体不具有Mesh！\");\r\n        return false;\r\n      }\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueInt = para1.number;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nexport class Action_Get_Vertex_Position extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Get_Vertex_Position|获取面片顶点坐标';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Get_Vertex_Position';\r\n  }\r\n\r\n\r\n  private _blueGameobject: VeryGameObject = new VeryGameObject();\r\n  private _blueInt: VeryNumber = new VeryNumber();\r\n  private _blueVec3 = new VeryVector3();\r\n  private _isWorldAxis = true;\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpMesh = this._blueGameobject.value?.mesh;\r\n    if (tmpMesh != null && tmpMesh != undefined) {\r\n      var positions = tmpMesh.getVerticesData(\"position\");\r\n      if (positions != null) {\r\n        /*\r\n        console.log(\"positions--\" + positions.length);\r\n        for (var i = 0; i < positions.length; i++) {\r\n          console.log(i + \"--positions--\" + positions[i]);\r\n        }\r\n        */\r\n        var tmpVec3 = new BABYLON.Vector3(positions[this._blueInt.value * 3], positions[this._blueInt.value * 3 + 1], positions[this._blueInt.value * 3 + 2]);\r\n        if (this._isWorldAxis) {\r\n          this._blueVec3.value = tmpMesh.getAbsolutePosition().add(tmpVec3);\r\n        }\r\n        else {\r\n          this._blueVec3.value = tmpVec3;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueGameobject = para0.gameObject;\r\n      var tmpMesh = this._blueGameobject.value?.mesh;\r\n      if (tmpMesh == null || tmpMesh == undefined) {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[0] + \"，该物体不具有Mesh！\");\r\n        return false;\r\n      }\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueInt = para1.number;\r\n      //检测index是否out of index\r\n      if (this._blueInt.value < 0 || this._blueInt.value > (tmpMesh.subMeshes[0].verticesCount - 1)) {\r\n        console.error(this.ID + \" 响应中，\" + para_array[1] + \"，该index超出了顶点索引范围，请查看填写是否正确！\");\r\n        return false;\r\n      }\r\n\r\n      //参数3\r\n      if (para_array[2].toLowerCase() == \"world\" || para_array[2] == \"世界\") {\r\n        this._isWorldAxis = true;\r\n      }\r\n      else {\r\n        this._isWorldAxis = false;\r\n      }\r\n\r\n      //参数4\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.Vector3Para(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._blueVec3 = para3.vector3;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//TODO:20200807\r\nVE_Actions.addAction(Action_Get_Vertex_Count);\r\nVE_Actions.addAction(Action_Get_Vertex_Position);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VE_KeyboardMap, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString, VeryRect, VeryVector3, VeryVector2, VeryMaterial } from \"../../variables\";\r\n\r\nexport class Action_Get_Material extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Get_Material|获取材质球';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Get_Material';\r\n  }\r\n\r\n\r\n  private _blueGameobject: VeryGameObject = new VeryGameObject();\r\n  private _blueMaterial: VeryMaterial = new VeryMaterial();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpMesh = this._blueGameobject.value?.mesh;\r\n    if (tmpMesh != null && tmpMesh != undefined) {\r\n      this._blueMaterial.value = tmpMesh.material;\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueGameobject = para0.gameObject;\r\n      var tmpMesh = this._blueGameobject.value?.mesh;\r\n      if (tmpMesh == null || tmpMesh == undefined) {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[0] + \"，该物体不具有Mesh！\");\r\n        return false;\r\n      }\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.MaterialParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueMaterial = para1.material;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_Set_Material extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'Set_Material|设置材质球';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_Set_Material';\r\n  }\r\n\r\n\r\n  private _blueGameobject: VeryGameObject = new VeryGameObject();\r\n  private _blueMaterial: VeryMaterial = new VeryMaterial();\r\n\r\n  public active(): void {\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n    var tmpMesh = this._blueGameobject.value?.mesh;\r\n    if (tmpMesh != null && tmpMesh != undefined) {\r\n      tmpMesh.material = this._blueMaterial.value;\r\n    }\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 2)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueGameobject = para0.gameObject;\r\n      var tmpMesh = this._blueGameobject.value?.mesh;\r\n      if (tmpMesh == null || tmpMesh == undefined) {\r\n        console.error(this.ID + \" 响应传入参数格式错误： \" + para_array[0] + \"，该物体不具有Mesh！\");\r\n        return false;\r\n      }\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.MaterialParaOnlyVar(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueMaterial = para1.material;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//TODO:20200807\r\nVE_Actions.addAction(Action_Get_Material);\r\nVE_Actions.addAction(Action_Set_Material);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VE_KeyboardMap, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString, VeryRect, VeryVector3, VeryVector2, VeryMaterial } from \"../../variables\";\r\n\r\nexport class Action_AudioPlay extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'AudioPlay|声音播放';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_AudioPlay';\r\n  }\r\n\r\n\r\n  //是否开启\r\n  private _switch: VeryBool = new VeryBool();\r\n  //播放音乐\r\n  private _musicString: VeryString = new VeryString();\r\n  //音乐循环\r\n  private _musicLoop: VeryBool = new VeryBool();\r\n  //音乐大小\r\n  private _musicVolume: VeryNumber = new VeryNumber();\r\n\r\n  //声音\r\n  private _music: BABYLON.Nullable<BABYLON.Sound> = null;\r\n\r\n  public active(): void {\r\n    if (this._music != null) {\r\n      if (this._switch.value) {\r\n        this._music.loop = this._musicLoop.value;\r\n        this._music.setVolume(this._musicVolume.value);\r\n        if (!this._music.isPlaying) {\r\n          this._music.play();\r\n        }\r\n      }\r\n      else {\r\n        this._music.loop = this._musicLoop.value;\r\n        this._music.setVolume(this._musicVolume.value);\r\n        this._music.stop();\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 4)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._switch = para0.bool;\r\n\r\n      //参数2\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._musicString = para1.string;\r\n      //console.log(\"_musicString--\" + this._musicString.value);\r\n      this._music = new BABYLON.Sound(\"Music\", this._musicString.value, this.scene, null, {\r\n        loop: false,\r\n        autoplay: false\r\n      });\r\n\r\n      //参数3\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._musicLoop = para2.bool;\r\n\r\n      //参数4\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._musicVolume = para3.number;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\nexport class Action_WindowsVoice extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'WindowsVoice|语音';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_WindowsVoice';\r\n  }\r\n\r\n  //播放文本\r\n  private _musicString: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    var utterThis = new SpeechSynthesisUtterance(this._musicString.value);\r\n    window.speechSynthesis.speak(utterThis);\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      //参数1\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._musicString = para1.string;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n//TODO:20200811\r\nVE_Actions.addAction(Action_AudioPlay);\r\nVE_Actions.addAction(Action_WindowsVoice);","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VE_KeyboardMap, VeryParas } from '../../utility';\r\nimport { ParaType, Severity } from '../../enum';\r\nimport { VE_ErrorManager, VE_Error } from '../../global';\r\nimport { VeryGameObject, VeryBool, VeryNumber, VeryString, VeryRect, VeryVector3, VeryVector2, VeryMaterial } from \"../../variables\";\r\n\r\nexport class Action_VedioPlayOnOBJ extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return 'VedioPlayOnOBJ|物体上视频播放';\r\n  }\r\n\r\n  public get className(): string {\r\n    return 'Action_VedioPlayOnOBJ';\r\n  }\r\n\r\n  //是否开启\r\n  private _switch: VeryBool = new VeryBool();\r\n  //物体\r\n  private _blueOBJ: VeryGameObject = new VeryGameObject();\r\n  //播放视频\r\n  private _musicString: VeryString = new VeryString();\r\n  //视频循环\r\n  private _musicLoop: VeryBool = new VeryBool();\r\n  //视频音乐大小\r\n  private _musicVolume: VeryNumber = new VeryNumber();\r\n\r\n  //视频\r\n  private _vedio: BABYLON.Nullable<BABYLON.VideoTexture> = null;\r\n  private _currentMesh: BABYLON.Nullable<BABYLON.AbstractMesh> = null;\r\n  //物体原有材质\r\n  private _oldMat: BABYLON.Nullable<BABYLON.Material> = null;\r\n  private _newMat: BABYLON.Nullable<BABYLON.StandardMaterial> = null;\r\n\r\n  public active(): void {\r\n    //console.log(\"Vedio--\" + this._vedio?.isReady() + \"--\" + this._vedio?.video.readyState);\r\n    if (this._vedio != null && this._currentMesh) {\r\n      if (this._switch.value) {\r\n        //物体材质\r\n        if (this._newMat == null) {\r\n          console.log(\"Vedio--\" + this._vedio.video.videoWidth + \"--\" + this._vedio.video.videoHeight);\r\n          this._newMat = new BABYLON.StandardMaterial(\"m\", this.scene);\r\n          this._newMat.diffuseTexture = this._vedio;\r\n          //this._newMat.roughness = 1;\r\n          //this._newMat.emissiveColor = BABYLON.Color3.White();\r\n        }\r\n        this._vedio.video.loop = this._musicLoop.value;\r\n        this._vedio.video.volume = (this._musicVolume.value);\r\n        //物体材质\r\n        this._currentMesh.material = this._newMat;\r\n\r\n        this._vedio.video.play();\r\n      }\r\n      else {\r\n        this._vedio.video.loop = this._musicLoop.value;\r\n        this._vedio.video.volume = (this._musicVolume.value);\r\n        this._vedio.video.pause();\r\n\r\n        //物体材质\r\n        this._currentMesh.material = this._oldMat;\r\n      }\r\n    }\r\n  }\r\n\r\n  public onUpdate(): void {\r\n\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Trigger, para_array.length, 5)) {\r\n      return false;\r\n    } else {\r\n      // 第1个参数：\r\n      let para0: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para0, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._switch = para0.bool;\r\n\r\n      // 第2个参数：\r\n      let para5: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[1])) {\r\n        return false;\r\n      }\r\n      this._blueOBJ = para5.gameObject;\r\n      if (this._blueOBJ.value != null) {\r\n        if (this._blueOBJ.value.mesh != null) {\r\n          this._currentMesh = this._blueOBJ.value.mesh;\r\n          this._oldMat = this._blueOBJ.value.mesh.material;\r\n        }\r\n        else {\r\n          console.error(\"物体上视频播放--物体不存在Mesh--\" + para_array[1]);\r\n        }\r\n      }\r\n      else {\r\n        console.error(\"物体上视频播放--物体不存在--\" + para_array[1]);\r\n      }\r\n\r\n      //参数3\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[2])) {\r\n        return false;\r\n      }\r\n      this._musicString = para1.string;\r\n      this._vedio = new BABYLON.VideoTexture(\"Vedio\", this._musicString.value, this.scene, true, true);\r\n      this._vedio.video.autoplay = false;\r\n\r\n      //参数4\r\n      let para2: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.BoolParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[3])) {\r\n        return false;\r\n      }\r\n      this._musicLoop = para2.bool;\r\n\r\n      //参数5\r\n      let para3: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.NumberParaWithExpression(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[4])) {\r\n        return false;\r\n      }\r\n      this._musicVolume = para3.number;\r\n\r\n      return true;\r\n    }\r\n\r\n  }\r\n  public destroy(): void {\r\n\r\n  }\r\n}\r\n\r\n\r\n//TODO:20200811\r\nVE_Actions.addAction(Action_VedioPlayOnOBJ); //TODO:浏览需要在隐私和安全里面允许视频和音频自动播放;有的mp4文件不能识别，比如TestMp4.mp4文件\r\n","import { VE_ActionBehaviour, VE_Actions } from \"../../action\";\r\nimport { ParaParserUtility, VeryParas } from \"../../utility\";\r\nimport { ParaType } from \"../../enum\";\r\nimport { VeryNumber, VeryString, VeryVector3 } from \"../../variables\";\r\nimport { BabylonEngine } from \"../../babylon\";\r\n\r\nexport class Action_Skybox extends VE_ActionBehaviour {\r\n\r\n  public get ID(): string {\r\n    return \"Skybox|设置天空盒\";\r\n  }\r\n\r\n  public get className(): string {\r\n    return \"Action_Skybox\";\r\n  }\r\n\r\n  private _blueString: VeryString = new VeryString();\r\n\r\n  public active(): void {\r\n    for (var i = 0; i < BabylonEngine.Scene.meshes.length; i++) {\r\n      BabylonEngine.Scene.meshes[i].renderingGroupId = 1;\r\n    }\r\n    var skybox = BABYLON.MeshBuilder.CreateBox(\"skyBox\", {\r\n      size: 1000.0\r\n    }, BabylonEngine.Scene);\r\n    skybox.infiniteDistance = true;\r\n    skybox.renderingGroupId = 0;\r\n    var skyboxMaterial = new BABYLON.StandardMaterial(\"skyBox\", BabylonEngine.Scene);\r\n    skyboxMaterial.backFaceCulling = false;\r\n    skyboxMaterial.reflectionTexture = new BABYLON.CubeTexture(\r\n      this._blueString.value, BabylonEngine.Scene);\r\n    skyboxMaterial.reflectionTexture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\r\n    skyboxMaterial.diffuseColor = new BABYLON.Color3(0, 0, 0);\r\n    skyboxMaterial.specularColor = new BABYLON.Color3(0, 0, 0);\r\n    skybox.material = skyboxMaterial;\r\n  }\r\n\r\n  public onUpdate(): void {\r\n  }\r\n\r\n  public paraParser(para_array: string[]): boolean {\r\n    if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 1)) {\r\n      return false;\r\n    } else {\r\n      // 参数1：字符串\r\n      let para1: VeryParas = new VeryParas();\r\n      if (!ParaParserUtility.StringPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n        return false;\r\n      }\r\n      this._blueString = para1.string;\r\n\r\n      return true;\r\n    }\r\n  }\r\n\r\n  public destroy(): void {\r\n\r\n  }\r\n\r\n}\r\n\r\nVE_Actions.addAction(Action_Skybox);\r\n","import { ParaParserUtility, Tools, VeryParas } from \"../../../veryengine/utility\";\r\nimport { VE_ActionBehaviour, VE_Actions } from \"../../../veryengine/action\";\r\nimport { ParaType, Severity } from \"../../../veryengine/enum\";\r\nimport { VE_Error, VE_ErrorManager } from \"../../../veryengine/global\";\r\nimport { BabylonEngine } from \"../../../veryengine/babylon\";\r\n\r\nexport class Action_Focus_Camera extends VE_ActionBehaviour {\r\n\r\n    public get ID(): string {\r\n        return \"Focus_Camera|焦点相机\";\r\n    }\r\n\r\n    public get className(): string {\r\n        return \"Action_Focus_Camera\";\r\n    }\r\n\r\n\r\n    private orbiting = false;\r\n    private panning = false;\r\n\r\n    private target: Nullable<BABYLON.TransformNode>;\r\n    private cameraObj: Nullable<BABYLON.TransformNode>;\r\n    private camera: Nullable<BABYLON.Camera>;\r\n\r\n    private MouseWheelSensitivity = 2; //滚轮灵敏度设置\r\n    private MouseZoomMin = 0.1; //相机距离最小值\r\n    private MouseZoomMax = 10000; //相机距离最大值\r\n    private moveSpeedReal = 1; //相机跟随速度（中键平移时），采用平滑模式时起作用，越大则运动越平滑\r\n    private moveSpeed = 1; \r\n    private wheelSpeed = 0.01;\r\n\r\n    private xSpeed = 250.0; //旋转视角时相机x轴转速\r\n    private ySpeed = 120.0; //旋转视角时相机y轴转速\r\n\r\n    private yMinLimit = -360;\r\n    private yMaxLimit = 360;\r\n\r\n    private x = 0.0; //存储相机的euler角\r\n    private y = 0.0; //存储相机的euler角\r\n\r\n    private StandardDistance = 300;\r\n    private Distance = 300; //相机和target之间的距离，因为相机的Z轴总是指向target，也就是相机z轴方向上的距离\r\n    private targetOnScreenPosition: BABYLON.Vector3; //目标的屏幕坐标，第三个值为z轴距离\r\n    private storeRotation: BABYLON.Quaternion; //存储相机的姿态四元数\r\n    private position: BABYLON.Vector3;\r\n    private CameraTargetPosition: BABYLON.Vector3; //target的位置\r\n    private initPosition: BABYLON.Vector3 = BABYLON.Vector3.Zero(); //平移时用于存储平移的起点位置\r\n    private cameraX: BABYLON.Vector3; //相机的x轴方向向量\r\n    private cameraY: BABYLON.Vector3; //相机的y轴方向向量\r\n    // private cameraZ: BABYLON.Vector3; //相机的z轴方向向量\r\n\r\n    private initScreenPos: BABYLON.Vector3; //中键刚按下时鼠标的屏幕坐标（第三个值其实没什么用）\r\n    private curScreenPos: BABYLON.Vector3; //当前鼠标的屏幕坐标（第三个值其实没什么用）\r\n\r\n\r\n    private focusTarget = BABYLON.Vector3.Zero();\r\n    private focusPoint = BABYLON.Vector3.Zero();\r\n    private focusOrthoHeight = 0;\r\n    // var focusCamera;\r\n    private focusing = false;\r\n    private firstUpdate = false;\r\n    private flySpeed = 0.25;\r\n    private vecA = BABYLON.Vector3.Zero();\r\n    private vecB = BABYLON.Vector3.Zero();\r\n\r\n\r\n    private _initialized: boolean = false;\r\n    private _observer: Nullable<BABYLON.Observer<BABYLON.PointerInfo>> = null;\r\n    private canvas: HTMLCanvasElement;\r\n\r\n    public constructor() {\r\n        super();\r\n        this.canvas = BabylonEngine.Canvas;\r\n    }\r\n\r\n    public active(): void {\r\n        // 位置初始化\r\n        if (!this._initialized && this.cameraObj && this.target) {\r\n            this._initialized = true;\r\n\r\n            var angles = Tools.radianToEulerAngle(this.cameraObj.rotation);\r\n            this.x = angles.y;\r\n            this.y = angles.x;\r\n\r\n            this.CameraTargetPosition = this.target.position.clone();\r\n            this.targetOnScreenPosition = this.target.position.clone();\r\n\r\n            this.Distance = this.cameraObj.position.subtract(this.target.position).length();\r\n\r\n            this.storeRotation = BABYLON.Quaternion.FromEulerVector(Tools.eulerAngleToRadian(new BABYLON.Vector3(this.y + 60, this.x, 0)));\r\n            // this.cameraObj.rotation = this.storeRotation.toEulerAngles(); //设置相机姿态\r\n            this.position = Tools.quatMultiplyVector3(this.storeRotation, new BABYLON.Vector3(0.0, 0.0, -this.Distance)).add(this.CameraTargetPosition); //四元数表示一个旋转，四元数乘以向量相当于把向量旋转对应角度，然后加上目标物体的位置就是相机位置了\r\n            // this.cameraObj.position.copyFrom(this.position); //设置相机位置\r\n        }\r\n    }\r\n\r\n    public onUpdate(): void {\r\n    }\r\n\r\n    public paraParser(para_array: string[]): boolean {\r\n\r\n        if (!ParaParserUtility.ParaNumbers(this.ID, ParaType.Action, para_array.length, 5)) {\r\n            return false;\r\n        } else {\r\n            // 参数1：相机父物体，VeryCamera结构\r\n            let para1: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para1, para_array[0])) {\r\n                return false;\r\n            }\r\n            this.cameraObj = para1.gameObject.value.transform.transformNode;\r\n            if (this.cameraObj instanceof BABYLON.TransformNode && (<any>this.cameraObj).camera instanceof BABYLON.Camera) {\r\n                this.camera = (<any>this.cameraObj).camera;\r\n                if (this.camera.mode === BABYLON.Camera.ORTHOGRAPHIC_CAMERA) {\r\n                    this.camera.minZ = -1000;\r\n                }\r\n            } else {\r\n                VE_ErrorManager.Add(new VE_Error('', `${this.ID} 响应传入参数错误，物体：${para_array[0]}，无法在场景中查找到，请检查！`, '', Severity.Error));\r\n                return false;\r\n            }\r\n\r\n            // console.warn(this.cameraObj);\r\n            // console.warn((<any>this.cameraObj).camera);\r\n            // console.warn((<any>this.cameraObj).fov);\r\n            // console.warn((<any>this.cameraObj).orthoSize);\r\n\r\n            // 参数2: 参考空物体，旋转中心\r\n            let para2: VeryParas = new VeryParas();\r\n            if (!ParaParserUtility.GameObjectPara(this.projectName, this.objectID, this.ID, ParaType.Action, para2, para_array[1])) {\r\n                return false;\r\n            }\r\n            this.target = para2.gameObject.value.transform.transformNode;\r\n\r\n            // 参数3: 旋转速度\r\n            let para3 = new VeryParas();\r\n            if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para3, para_array[2])) {\r\n                return false;\r\n            }\r\n            this.xSpeed = para3.number.value;\r\n            this.ySpeed = this.xSpeed * 0.5;\r\n\r\n            // 参数4: 平移速度\r\n            let para4 = new VeryParas();\r\n            if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para4, para_array[3])) {\r\n                return false;\r\n            }\r\n            this.moveSpeed = para4.number.value;\r\n            \r\n            // 参数5: 缩放速度\r\n            let para5 = new VeryParas();\r\n            if (!ParaParserUtility.NumberPara(this.projectName, this.objectID, this.ID, ParaType.Action, para5, para_array[4])) {\r\n                return false;\r\n            }\r\n            this.MouseWheelSensitivity = para5.number.value;\r\n\r\n            let self = this;\r\n            this._observer = this.scene.onPointerObservable.add(pointInfo => {\r\n                if (!self.enabled) {\r\n                    return;\r\n                }\r\n                if (pointInfo.type === BABYLON.PointerEventTypes.POINTERDOWN) {\r\n                    if (!self.focusing) {\r\n                        // 鼠标中键按下，平移允许\r\n                        if (pointInfo.event.button === 1) {\r\n                            self.panning = true;\r\n\r\n                            self.cameraX = self.cameraObj.right;\r\n                            self.cameraY = self.cameraObj.up;\r\n                            // self.cameraZ = self.cameraObj.forward;\r\n                            let rect = this.canvas.getBoundingClientRect();\r\n                            self.initScreenPos = new BABYLON.Vector3(pointInfo.event.clientX - rect.left, rect.height - pointInfo.event.clientY, self.targetOnScreenPosition.z);\r\n\r\n                            // targetOnScreenPosition.z为目标物体到相机xmidbuttonDownPositiony平面的法线距离\r\n                            self.targetOnScreenPosition = Tools.worldToScreenPoint(self.CameraTargetPosition, self.scene, <BABYLON.TargetCamera>self.camera, BabylonEngine.Engine);\r\n\r\n                            self.initPosition.copyFrom(self.CameraTargetPosition);\r\n                        }\r\n\r\n                        // 鼠标右键按下，旋转允许\r\n                        if (pointInfo.event.button === 2) {\r\n                            self.orbiting = true;\r\n                        }\r\n                    }\r\n                } else if (pointInfo.type === BABYLON.PointerEventTypes.POINTERUP) {\r\n                    // 鼠标中键抬起，平移停止\r\n                    if (pointInfo.event.button === 1) {\r\n                        self.panning = false;\r\n                        //平移结束把cameraTargetPosition的位置更新一下，不然会影响缩放与旋转功能\r\n                        self.CameraTargetPosition.copyFrom(self.target.position);\r\n                    }\r\n\r\n                    // 鼠标右键抬起，旋转停止\r\n                    if (pointInfo.event.button === 2) {\r\n                        self.orbiting = false;\r\n                    }\r\n                } else if (pointInfo.type === BABYLON.PointerEventTypes.POINTERMOVE) {\r\n                    if (!self.focusing) {\r\n                        if (self.orbiting) {\r\n                            self.x += pointInfo.event.movementX * self.xSpeed * 0.002;\r\n                            self.y -= -pointInfo.event.movementY * self.ySpeed * 0.002;\r\n                            self.y = Tools.clampAngle(self.y, self.yMinLimit, self.yMaxLimit);\r\n                            self.storeRotation = BABYLON.Quaternion.FromEulerVector(Tools.eulerAngleToRadian(new BABYLON.Vector3(self.y + 60, self.x, 0)));\r\n                            self.position = Tools.quatMultiplyVector3(self.storeRotation, new BABYLON.Vector3(0.0, 0.0, -self.Distance)).add(self.CameraTargetPosition);\r\n\r\n                            self.cameraObj.rotation = self.storeRotation.toEulerAngles(); //设置相机姿态\r\n                            self.cameraObj.position.copyFrom(self.position);\r\n                        }\r\n\r\n                        if (self.panning) {\r\n                            // console.warn(evt);\r\n                            // console.error(rect);\r\n                            let rect = this.canvas.getBoundingClientRect();\r\n                            self.curScreenPos = new BABYLON.Vector3(pointInfo.event.clientX - rect.left, rect.height - pointInfo.event.clientY, self.targetOnScreenPosition.z);\r\n                            //0.01这个系数是控制平移的速度，要根据相机和目标物体的distance来灵活选择\r\n                            if (self.camera.mode === BABYLON.Camera.PERSPECTIVE_CAMERA) {\r\n                                self.moveSpeedReal = 0.1 * self.moveSpeed;\r\n                            } else {\r\n                                if ((<any>self.cameraObj).orthoSize < 0.05) {\r\n                                    self.moveSpeedReal = 0.04 * self.moveSpeed;\r\n                                } else {\r\n                                    self.moveSpeedReal = 0.1 * self.moveSpeed;\r\n                                }\r\n                            }\r\n                            self.cameraObj.rotation = self.storeRotation.toEulerAngles(); //设置相机姿态\r\n                            self.target.position = self.initPosition.subtract(self.cameraX.scale(self.curScreenPos.x - self.initScreenPos.x).add(self.cameraY.scale(self.curScreenPos.y - self.initScreenPos.y)).scale(self.moveSpeedReal));\r\n\r\n                            //重新计算位置\r\n                            let mPosition = Tools.quatMultiplyVector3(self.storeRotation, new BABYLON.Vector3(0.0, 0.0, -self.Distance)).add(self.target.position);\r\n                            self.cameraObj.position.copyFrom(mPosition);\r\n                        }\r\n                    }\r\n                } else if (pointInfo.type === BABYLON.PointerEventTypes.POINTERWHEEL) {\r\n                    if (!self.focusing) {\r\n                        self.cameraObj.rotation = self.storeRotation.toEulerAngles(); //设置相机姿态\r\n                        if (self.camera.mode === BABYLON.Camera.PERSPECTIVE_CAMERA) {\r\n                            if (self.Distance >= self.MouseZoomMin && self.Distance <= self.MouseZoomMax) {\r\n                                self.Distance += (<WheelEvent>pointInfo.event).deltaY * self.MouseWheelSensitivity * 0.05;\r\n                            }\r\n                            if (self.Distance < self.MouseZoomMin) {\r\n                                self.Distance = self.MouseZoomMin;\r\n                            }\r\n                            if (self.Distance > self.MouseZoomMax) {\r\n                                self.Distance = self.MouseZoomMax;\r\n                            }\r\n\r\n                            // console.log('distance: ' + Distance);\r\n                            // console.log('delta: ' + (evt.deltaY * MouseWheelSensitivity * 0.05));\r\n                            self.position = Tools.quatMultiplyVector3(self.storeRotation, new BABYLON.Vector3(0.0, 0.0, -self.Distance)).add(self.CameraTargetPosition);\r\n                            self.cameraObj.position.copyFrom(self.position);\r\n                        } else {\r\n                            self.wheelSpeed = 0.5;\r\n                            if (self.Distance >= self.MouseZoomMin && self.Distance <= self.MouseZoomMax) {\r\n                                self.Distance += (<WheelEvent>pointInfo.event).deltaY * self.MouseWheelSensitivity * 0.05 * self.wheelSpeed;\r\n                            }\r\n                            if (self.Distance < self.MouseZoomMin) {\r\n                                self.Distance = self.MouseZoomMin;\r\n                            }\r\n                            if (self.Distance > self.MouseZoomMax) {\r\n                                self.Distance = self.MouseZoomMax;\r\n                            }\r\n\r\n                            // console.log('distance: ' + Distance);\r\n                            // console.log('delta: ' + (evt.deltaY * MouseWheelSensitivity * 0.05));\r\n\r\n                            let delta = (<WheelEvent>pointInfo.event).deltaY * self.MouseWheelSensitivity * 0.05 * 0.0012;\r\n\r\n                            if ((<any>self.cameraObj).orthoSize > 0.01 || ((<any>self.cameraObj).orthoSize <= 0.01 && delta > 0)) {\r\n                                (<any>self.cameraObj).orthoSize += delta;\r\n                                self.position = Tools.quatMultiplyVector3(self.storeRotation, new BABYLON.Vector3(0.0, 0.0, -self.Distance)).add(self.CameraTargetPosition);\r\n                                self.cameraObj.position.copyFrom(self.position);\r\n                            }\r\n                            if ((<any>self.cameraObj).orthoSize <= 0.01) {\r\n                                (<any>self.cameraObj).orthoSize = 0.01;\r\n                            }\r\n\r\n                            // console.warn(VeryEngine.viewCamera.orthoSize);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public destroy(): void {\r\n        if (this._observer) {\r\n            this.scene.onPointerObservable.remove(this._observer);\r\n        }\r\n        this._observer = null;\r\n    }\r\n\r\n}\r\n\r\nVE_Actions.addAction(Action_Focus_Camera);"],"sourceRoot":""}